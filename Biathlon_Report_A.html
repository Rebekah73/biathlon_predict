<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />

<title>Biathlon_Report_A</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*/
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */
@media print {
  *,
  *:before,
  *:after {
    background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  a,
  a:visited {
    text-decoration: underline;
  }
  a[href]:after {
    content: " (" attr(href) ")";
  }
  abbr[title]:after {
    content: " (" attr(title) ")";
  }
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  thead {
    display: table-header-group;
  }
  tr,
  img {
    page-break-inside: avoid;
  }
  img {
    max-width: 100% !important;
  }
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  h2,
  h3 {
    page-break-after: avoid;
  }
  .navbar {
    display: none;
  }
  .btn > .caret,
  .dropup > .btn > .caret {
    border-top-color: #000 !important;
  }
  .label {
    border: 1px solid #000;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
  .table-bordered th,
  .table-bordered td {
    border: 1px solid #ddd !important;
  }
}
@font-face {
  font-family: 'Glyphicons Halflings';
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot');
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff') format('woff'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
}
.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.glyphicon-asterisk:before {
  content: "\002a";
}
.glyphicon-plus:before {
  content: "\002b";
}
.glyphicon-euro:before,
.glyphicon-eur:before {
  content: "\20ac";
}
.glyphicon-minus:before {
  content: "\2212";
}
.glyphicon-cloud:before {
  content: "\2601";
}
.glyphicon-envelope:before {
  content: "\2709";
}
.glyphicon-pencil:before {
  content: "\270f";
}
.glyphicon-glass:before {
  content: "\e001";
}
.glyphicon-music:before {
  content: "\e002";
}
.glyphicon-search:before {
  content: "\e003";
}
.glyphicon-heart:before {
  content: "\e005";
}
.glyphicon-star:before {
  content: "\e006";
}
.glyphicon-star-empty:before {
  content: "\e007";
}
.glyphicon-user:before {
  content: "\e008";
}
.glyphicon-film:before {
  content: "\e009";
}
.glyphicon-th-large:before {
  content: "\e010";
}
.glyphicon-th:before {
  content: "\e011";
}
.glyphicon-th-list:before {
  content: "\e012";
}
.glyphicon-ok:before {
  content: "\e013";
}
.glyphicon-remove:before {
  content: "\e014";
}
.glyphicon-zoom-in:before {
  content: "\e015";
}
.glyphicon-zoom-out:before {
  content: "\e016";
}
.glyphicon-off:before {
  content: "\e017";
}
.glyphicon-signal:before {
  content: "\e018";
}
.glyphicon-cog:before {
  content: "\e019";
}
.glyphicon-trash:before {
  content: "\e020";
}
.glyphicon-home:before {
  content: "\e021";
}
.glyphicon-file:before {
  content: "\e022";
}
.glyphicon-time:before {
  content: "\e023";
}
.glyphicon-road:before {
  content: "\e024";
}
.glyphicon-download-alt:before {
  content: "\e025";
}
.glyphicon-download:before {
  content: "\e026";
}
.glyphicon-upload:before {
  content: "\e027";
}
.glyphicon-inbox:before {
  content: "\e028";
}
.glyphicon-play-circle:before {
  content: "\e029";
}
.glyphicon-repeat:before {
  content: "\e030";
}
.glyphicon-refresh:before {
  content: "\e031";
}
.glyphicon-list-alt:before {
  content: "\e032";
}
.glyphicon-lock:before {
  content: "\e033";
}
.glyphicon-flag:before {
  content: "\e034";
}
.glyphicon-headphones:before {
  content: "\e035";
}
.glyphicon-volume-off:before {
  content: "\e036";
}
.glyphicon-volume-down:before {
  content: "\e037";
}
.glyphicon-volume-up:before {
  content: "\e038";
}
.glyphicon-qrcode:before {
  content: "\e039";
}
.glyphicon-barcode:before {
  content: "\e040";
}
.glyphicon-tag:before {
  content: "\e041";
}
.glyphicon-tags:before {
  content: "\e042";
}
.glyphicon-book:before {
  content: "\e043";
}
.glyphicon-bookmark:before {
  content: "\e044";
}
.glyphicon-print:before {
  content: "\e045";
}
.glyphicon-camera:before {
  content: "\e046";
}
.glyphicon-font:before {
  content: "\e047";
}
.glyphicon-bold:before {
  content: "\e048";
}
.glyphicon-italic:before {
  content: "\e049";
}
.glyphicon-text-height:before {
  content: "\e050";
}
.glyphicon-text-width:before {
  content: "\e051";
}
.glyphicon-align-left:before {
  content: "\e052";
}
.glyphicon-align-center:before {
  content: "\e053";
}
.glyphicon-align-right:before {
  content: "\e054";
}
.glyphicon-align-justify:before {
  content: "\e055";
}
.glyphicon-list:before {
  content: "\e056";
}
.glyphicon-indent-left:before {
  content: "\e057";
}
.glyphicon-indent-right:before {
  content: "\e058";
}
.glyphicon-facetime-video:before {
  content: "\e059";
}
.glyphicon-picture:before {
  content: "\e060";
}
.glyphicon-map-marker:before {
  content: "\e062";
}
.glyphicon-adjust:before {
  content: "\e063";
}
.glyphicon-tint:before {
  content: "\e064";
}
.glyphicon-edit:before {
  content: "\e065";
}
.glyphicon-share:before {
  content: "\e066";
}
.glyphicon-check:before {
  content: "\e067";
}
.glyphicon-move:before {
  content: "\e068";
}
.glyphicon-step-backward:before {
  content: "\e069";
}
.glyphicon-fast-backward:before {
  content: "\e070";
}
.glyphicon-backward:before {
  content: "\e071";
}
.glyphicon-play:before {
  content: "\e072";
}
.glyphicon-pause:before {
  content: "\e073";
}
.glyphicon-stop:before {
  content: "\e074";
}
.glyphicon-forward:before {
  content: "\e075";
}
.glyphicon-fast-forward:before {
  content: "\e076";
}
.glyphicon-step-forward:before {
  content: "\e077";
}
.glyphicon-eject:before {
  content: "\e078";
}
.glyphicon-chevron-left:before {
  content: "\e079";
}
.glyphicon-chevron-right:before {
  content: "\e080";
}
.glyphicon-plus-sign:before {
  content: "\e081";
}
.glyphicon-minus-sign:before {
  content: "\e082";
}
.glyphicon-remove-sign:before {
  content: "\e083";
}
.glyphicon-ok-sign:before {
  content: "\e084";
}
.glyphicon-question-sign:before {
  content: "\e085";
}
.glyphicon-info-sign:before {
  content: "\e086";
}
.glyphicon-screenshot:before {
  content: "\e087";
}
.glyphicon-remove-circle:before {
  content: "\e088";
}
.glyphicon-ok-circle:before {
  content: "\e089";
}
.glyphicon-ban-circle:before {
  content: "\e090";
}
.glyphicon-arrow-left:before {
  content: "\e091";
}
.glyphicon-arrow-right:before {
  content: "\e092";
}
.glyphicon-arrow-up:before {
  content: "\e093";
}
.glyphicon-arrow-down:before {
  content: "\e094";
}
.glyphicon-share-alt:before {
  content: "\e095";
}
.glyphicon-resize-full:before {
  content: "\e096";
}
.glyphicon-resize-small:before {
  content: "\e097";
}
.glyphicon-exclamation-sign:before {
  content: "\e101";
}
.glyphicon-gift:before {
  content: "\e102";
}
.glyphicon-leaf:before {
  content: "\e103";
}
.glyphicon-fire:before {
  content: "\e104";
}
.glyphicon-eye-open:before {
  content: "\e105";
}
.glyphicon-eye-close:before {
  content: "\e106";
}
.glyphicon-warning-sign:before {
  content: "\e107";
}
.glyphicon-plane:before {
  content: "\e108";
}
.glyphicon-calendar:before {
  content: "\e109";
}
.glyphicon-random:before {
  content: "\e110";
}
.glyphicon-comment:before {
  content: "\e111";
}
.glyphicon-magnet:before {
  content: "\e112";
}
.glyphicon-chevron-up:before {
  content: "\e113";
}
.glyphicon-chevron-down:before {
  content: "\e114";
}
.glyphicon-retweet:before {
  content: "\e115";
}
.glyphicon-shopping-cart:before {
  content: "\e116";
}
.glyphicon-folder-close:before {
  content: "\e117";
}
.glyphicon-folder-open:before {
  content: "\e118";
}
.glyphicon-resize-vertical:before {
  content: "\e119";
}
.glyphicon-resize-horizontal:before {
  content: "\e120";
}
.glyphicon-hdd:before {
  content: "\e121";
}
.glyphicon-bullhorn:before {
  content: "\e122";
}
.glyphicon-bell:before {
  content: "\e123";
}
.glyphicon-certificate:before {
  content: "\e124";
}
.glyphicon-thumbs-up:before {
  content: "\e125";
}
.glyphicon-thumbs-down:before {
  content: "\e126";
}
.glyphicon-hand-right:before {
  content: "\e127";
}
.glyphicon-hand-left:before {
  content: "\e128";
}
.glyphicon-hand-up:before {
  content: "\e129";
}
.glyphicon-hand-down:before {
  content: "\e130";
}
.glyphicon-circle-arrow-right:before {
  content: "\e131";
}
.glyphicon-circle-arrow-left:before {
  content: "\e132";
}
.glyphicon-circle-arrow-up:before {
  content: "\e133";
}
.glyphicon-circle-arrow-down:before {
  content: "\e134";
}
.glyphicon-globe:before {
  content: "\e135";
}
.glyphicon-wrench:before {
  content: "\e136";
}
.glyphicon-tasks:before {
  content: "\e137";
}
.glyphicon-filter:before {
  content: "\e138";
}
.glyphicon-briefcase:before {
  content: "\e139";
}
.glyphicon-fullscreen:before {
  content: "\e140";
}
.glyphicon-dashboard:before {
  content: "\e141";
}
.glyphicon-paperclip:before {
  content: "\e142";
}
.glyphicon-heart-empty:before {
  content: "\e143";
}
.glyphicon-link:before {
  content: "\e144";
}
.glyphicon-phone:before {
  content: "\e145";
}
.glyphicon-pushpin:before {
  content: "\e146";
}
.glyphicon-usd:before {
  content: "\e148";
}
.glyphicon-gbp:before {
  content: "\e149";
}
.glyphicon-sort:before {
  content: "\e150";
}
.glyphicon-sort-by-alphabet:before {
  content: "\e151";
}
.glyphicon-sort-by-alphabet-alt:before {
  content: "\e152";
}
.glyphicon-sort-by-order:before {
  content: "\e153";
}
.glyphicon-sort-by-order-alt:before {
  content: "\e154";
}
.glyphicon-sort-by-attributes:before {
  content: "\e155";
}
.glyphicon-sort-by-attributes-alt:before {
  content: "\e156";
}
.glyphicon-unchecked:before {
  content: "\e157";
}
.glyphicon-expand:before {
  content: "\e158";
}
.glyphicon-collapse-down:before {
  content: "\e159";
}
.glyphicon-collapse-up:before {
  content: "\e160";
}
.glyphicon-log-in:before {
  content: "\e161";
}
.glyphicon-flash:before {
  content: "\e162";
}
.glyphicon-log-out:before {
  content: "\e163";
}
.glyphicon-new-window:before {
  content: "\e164";
}
.glyphicon-record:before {
  content: "\e165";
}
.glyphicon-save:before {
  content: "\e166";
}
.glyphicon-open:before {
  content: "\e167";
}
.glyphicon-saved:before {
  content: "\e168";
}
.glyphicon-import:before {
  content: "\e169";
}
.glyphicon-export:before {
  content: "\e170";
}
.glyphicon-send:before {
  content: "\e171";
}
.glyphicon-floppy-disk:before {
  content: "\e172";
}
.glyphicon-floppy-saved:before {
  content: "\e173";
}
.glyphicon-floppy-remove:before {
  content: "\e174";
}
.glyphicon-floppy-save:before {
  content: "\e175";
}
.glyphicon-floppy-open:before {
  content: "\e176";
}
.glyphicon-credit-card:before {
  content: "\e177";
}
.glyphicon-transfer:before {
  content: "\e178";
}
.glyphicon-cutlery:before {
  content: "\e179";
}
.glyphicon-header:before {
  content: "\e180";
}
.glyphicon-compressed:before {
  content: "\e181";
}
.glyphicon-earphone:before {
  content: "\e182";
}
.glyphicon-phone-alt:before {
  content: "\e183";
}
.glyphicon-tower:before {
  content: "\e184";
}
.glyphicon-stats:before {
  content: "\e185";
}
.glyphicon-sd-video:before {
  content: "\e186";
}
.glyphicon-hd-video:before {
  content: "\e187";
}
.glyphicon-subtitles:before {
  content: "\e188";
}
.glyphicon-sound-stereo:before {
  content: "\e189";
}
.glyphicon-sound-dolby:before {
  content: "\e190";
}
.glyphicon-sound-5-1:before {
  content: "\e191";
}
.glyphicon-sound-6-1:before {
  content: "\e192";
}
.glyphicon-sound-7-1:before {
  content: "\e193";
}
.glyphicon-copyright-mark:before {
  content: "\e194";
}
.glyphicon-registration-mark:before {
  content: "\e195";
}
.glyphicon-cloud-download:before {
  content: "\e197";
}
.glyphicon-cloud-upload:before {
  content: "\e198";
}
.glyphicon-tree-conifer:before {
  content: "\e199";
}
.glyphicon-tree-deciduous:before {
  content: "\e200";
}
.glyphicon-cd:before {
  content: "\e201";
}
.glyphicon-save-file:before {
  content: "\e202";
}
.glyphicon-open-file:before {
  content: "\e203";
}
.glyphicon-level-up:before {
  content: "\e204";
}
.glyphicon-copy:before {
  content: "\e205";
}
.glyphicon-paste:before {
  content: "\e206";
}
.glyphicon-alert:before {
  content: "\e209";
}
.glyphicon-equalizer:before {
  content: "\e210";
}
.glyphicon-king:before {
  content: "\e211";
}
.glyphicon-queen:before {
  content: "\e212";
}
.glyphicon-pawn:before {
  content: "\e213";
}
.glyphicon-bishop:before {
  content: "\e214";
}
.glyphicon-knight:before {
  content: "\e215";
}
.glyphicon-baby-formula:before {
  content: "\e216";
}
.glyphicon-tent:before {
  content: "\26fa";
}
.glyphicon-blackboard:before {
  content: "\e218";
}
.glyphicon-bed:before {
  content: "\e219";
}
.glyphicon-apple:before {
  content: "\f8ff";
}
.glyphicon-erase:before {
  content: "\e221";
}
.glyphicon-hourglass:before {
  content: "\231b";
}
.glyphicon-lamp:before {
  content: "\e223";
}
.glyphicon-duplicate:before {
  content: "\e224";
}
.glyphicon-piggy-bank:before {
  content: "\e225";
}
.glyphicon-scissors:before {
  content: "\e226";
}
.glyphicon-bitcoin:before {
  content: "\e227";
}
.glyphicon-btc:before {
  content: "\e227";
}
.glyphicon-xbt:before {
  content: "\e227";
}
.glyphicon-yen:before {
  content: "\00a5";
}
.glyphicon-jpy:before {
  content: "\00a5";
}
.glyphicon-ruble:before {
  content: "\20bd";
}
.glyphicon-rub:before {
  content: "\20bd";
}
.glyphicon-scale:before {
  content: "\e230";
}
.glyphicon-ice-lolly:before {
  content: "\e231";
}
.glyphicon-ice-lolly-tasted:before {
  content: "\e232";
}
.glyphicon-education:before {
  content: "\e233";
}
.glyphicon-option-horizontal:before {
  content: "\e234";
}
.glyphicon-option-vertical:before {
  content: "\e235";
}
.glyphicon-menu-hamburger:before {
  content: "\e236";
}
.glyphicon-modal-window:before {
  content: "\e237";
}
.glyphicon-oil:before {
  content: "\e238";
}
.glyphicon-grain:before {
  content: "\e239";
}
.glyphicon-sunglasses:before {
  content: "\e240";
}
.glyphicon-text-size:before {
  content: "\e241";
}
.glyphicon-text-color:before {
  content: "\e242";
}
.glyphicon-text-background:before {
  content: "\e243";
}
.glyphicon-object-align-top:before {
  content: "\e244";
}
.glyphicon-object-align-bottom:before {
  content: "\e245";
}
.glyphicon-object-align-horizontal:before {
  content: "\e246";
}
.glyphicon-object-align-left:before {
  content: "\e247";
}
.glyphicon-object-align-vertical:before {
  content: "\e248";
}
.glyphicon-object-align-right:before {
  content: "\e249";
}
.glyphicon-triangle-right:before {
  content: "\e250";
}
.glyphicon-triangle-left:before {
  content: "\e251";
}
.glyphicon-triangle-bottom:before {
  content: "\e252";
}
.glyphicon-triangle-top:before {
  content: "\e253";
}
.glyphicon-console:before {
  content: "\e254";
}
.glyphicon-superscript:before {
  content: "\e255";
}
.glyphicon-subscript:before {
  content: "\e256";
}
.glyphicon-menu-left:before {
  content: "\e257";
}
.glyphicon-menu-right:before {
  content: "\e258";
}
.glyphicon-menu-down:before {
  content: "\e259";
}
.glyphicon-menu-up:before {
  content: "\e260";
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.42857143;
  color: #000;
  background-color: #fff;
}
input,
button,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}
a {
  color: #337ab7;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
figure {
  margin: 0;
}
img {
  vertical-align: middle;
}
.img-responsive,
.thumbnail > img,
.thumbnail a > img,
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  display: block;
  max-width: 100%;
  height: auto;
}
.img-rounded {
  border-radius: 3px;
}
.img-thumbnail {
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  display: inline-block;
  max-width: 100%;
  height: auto;
}
.img-circle {
  border-radius: 50%;
}
hr {
  margin-top: 18px;
  margin-bottom: 18px;
  border: 0;
  border-top: 1px solid #eeeeee;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
[role="button"] {
  cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1 small,
h2 small,
h3 small,
h4 small,
h5 small,
h6 small,
.h1 small,
.h2 small,
.h3 small,
.h4 small,
.h5 small,
.h6 small,
h1 .small,
h2 .small,
h3 .small,
h4 .small,
h5 .small,
h6 .small,
.h1 .small,
.h2 .small,
.h3 .small,
.h4 .small,
.h5 .small,
.h6 .small {
  font-weight: normal;
  line-height: 1;
  color: #777777;
}
h1,
.h1,
h2,
.h2,
h3,
.h3 {
  margin-top: 18px;
  margin-bottom: 9px;
}
h1 small,
.h1 small,
h2 small,
.h2 small,
h3 small,
.h3 small,
h1 .small,
.h1 .small,
h2 .small,
.h2 .small,
h3 .small,
.h3 .small {
  font-size: 65%;
}
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  margin-top: 9px;
  margin-bottom: 9px;
}
h4 small,
.h4 small,
h5 small,
.h5 small,
h6 small,
.h6 small,
h4 .small,
.h4 .small,
h5 .small,
.h5 .small,
h6 .small,
.h6 .small {
  font-size: 75%;
}
h1,
.h1 {
  font-size: 33px;
}
h2,
.h2 {
  font-size: 27px;
}
h3,
.h3 {
  font-size: 23px;
}
h4,
.h4 {
  font-size: 17px;
}
h5,
.h5 {
  font-size: 13px;
}
h6,
.h6 {
  font-size: 12px;
}
p {
  margin: 0 0 9px;
}
.lead {
  margin-bottom: 18px;
  font-size: 14px;
  font-weight: 300;
  line-height: 1.4;
}
@media (min-width: 768px) {
  .lead {
    font-size: 19.5px;
  }
}
small,
.small {
  font-size: 92%;
}
mark,
.mark {
  background-color: #fcf8e3;
  padding: .2em;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.text-center {
  text-align: center;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.text-muted {
  color: #777777;
}
.text-primary {
  color: #337ab7;
}
a.text-primary:hover,
a.text-primary:focus {
  color: #286090;
}
.text-success {
  color: #3c763d;
}
a.text-success:hover,
a.text-success:focus {
  color: #2b542c;
}
.text-info {
  color: #31708f;
}
a.text-info:hover,
a.text-info:focus {
  color: #245269;
}
.text-warning {
  color: #8a6d3b;
}
a.text-warning:hover,
a.text-warning:focus {
  color: #66512c;
}
.text-danger {
  color: #a94442;
}
a.text-danger:hover,
a.text-danger:focus {
  color: #843534;
}
.bg-primary {
  color: #fff;
  background-color: #337ab7;
}
a.bg-primary:hover,
a.bg-primary:focus {
  background-color: #286090;
}
.bg-success {
  background-color: #dff0d8;
}
a.bg-success:hover,
a.bg-success:focus {
  background-color: #c1e2b3;
}
.bg-info {
  background-color: #d9edf7;
}
a.bg-info:hover,
a.bg-info:focus {
  background-color: #afd9ee;
}
.bg-warning {
  background-color: #fcf8e3;
}
a.bg-warning:hover,
a.bg-warning:focus {
  background-color: #f7ecb5;
}
.bg-danger {
  background-color: #f2dede;
}
a.bg-danger:hover,
a.bg-danger:focus {
  background-color: #e4b9b9;
}
.page-header {
  padding-bottom: 8px;
  margin: 36px 0 18px;
  border-bottom: 1px solid #eeeeee;
}
ul,
ol {
  margin-top: 0;
  margin-bottom: 9px;
}
ul ul,
ol ul,
ul ol,
ol ol {
  margin-bottom: 0;
}
.list-unstyled {
  padding-left: 0;
  list-style: none;
}
.list-inline {
  padding-left: 0;
  list-style: none;
  margin-left: -5px;
}
.list-inline > li {
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
}
dl {
  margin-top: 0;
  margin-bottom: 18px;
}
dt,
dd {
  line-height: 1.42857143;
}
dt {
  font-weight: bold;
}
dd {
  margin-left: 0;
}
@media (min-width: 541px) {
  .dl-horizontal dt {
    float: left;
    width: 160px;
    clear: left;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .dl-horizontal dd {
    margin-left: 180px;
  }
}
abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #777777;
}
.initialism {
  font-size: 90%;
  text-transform: uppercase;
}
blockquote {
  padding: 9px 18px;
  margin: 0 0 18px;
  font-size: inherit;
  border-left: 5px solid #eeeeee;
}
blockquote p:last-child,
blockquote ul:last-child,
blockquote ol:last-child {
  margin-bottom: 0;
}
blockquote footer,
blockquote small,
blockquote .small {
  display: block;
  font-size: 80%;
  line-height: 1.42857143;
  color: #777777;
}
blockquote footer:before,
blockquote small:before,
blockquote .small:before {
  content: '\2014 \00A0';
}
.blockquote-reverse,
blockquote.pull-right {
  padding-right: 15px;
  padding-left: 0;
  border-right: 5px solid #eeeeee;
  border-left: 0;
  text-align: right;
}
.blockquote-reverse footer:before,
blockquote.pull-right footer:before,
.blockquote-reverse small:before,
blockquote.pull-right small:before,
.blockquote-reverse .small:before,
blockquote.pull-right .small:before {
  content: '';
}
.blockquote-reverse footer:after,
blockquote.pull-right footer:after,
.blockquote-reverse small:after,
blockquote.pull-right small:after,
.blockquote-reverse .small:after,
blockquote.pull-right .small:after {
  content: '\00A0 \2014';
}
address {
  margin-bottom: 18px;
  font-style: normal;
  line-height: 1.42857143;
}
code,
kbd,
pre,
samp {
  font-family: monospace;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 2px;
}
kbd {
  padding: 2px 4px;
  font-size: 90%;
  color: #888;
  background-color: transparent;
  border-radius: 1px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}
kbd kbd {
  padding: 0;
  font-size: 100%;
  font-weight: bold;
  box-shadow: none;
}
pre {
  display: block;
  padding: 8.5px;
  margin: 0 0 9px;
  font-size: 12px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  color: #333333;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 2px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit;
  white-space: pre-wrap;
  background-color: transparent;
  border-radius: 0;
}
.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll;
}
.container {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
@media (min-width: 768px) {
  .container {
    width: 768px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 940px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1140px;
  }
}
.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
.row {
  margin-left: 0px;
  margin-right: 0px;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-left: 0px;
  padding-right: 0px;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
  float: left;
}
.col-xs-12 {
  width: 100%;
}
.col-xs-11 {
  width: 91.66666667%;
}
.col-xs-10 {
  width: 83.33333333%;
}
.col-xs-9 {
  width: 75%;
}
.col-xs-8 {
  width: 66.66666667%;
}
.col-xs-7 {
  width: 58.33333333%;
}
.col-xs-6 {
  width: 50%;
}
.col-xs-5 {
  width: 41.66666667%;
}
.col-xs-4 {
  width: 33.33333333%;
}
.col-xs-3 {
  width: 25%;
}
.col-xs-2 {
  width: 16.66666667%;
}
.col-xs-1 {
  width: 8.33333333%;
}
.col-xs-pull-12 {
  right: 100%;
}
.col-xs-pull-11 {
  right: 91.66666667%;
}
.col-xs-pull-10 {
  right: 83.33333333%;
}
.col-xs-pull-9 {
  right: 75%;
}
.col-xs-pull-8 {
  right: 66.66666667%;
}
.col-xs-pull-7 {
  right: 58.33333333%;
}
.col-xs-pull-6 {
  right: 50%;
}
.col-xs-pull-5 {
  right: 41.66666667%;
}
.col-xs-pull-4 {
  right: 33.33333333%;
}
.col-xs-pull-3 {
  right: 25%;
}
.col-xs-pull-2 {
  right: 16.66666667%;
}
.col-xs-pull-1 {
  right: 8.33333333%;
}
.col-xs-pull-0 {
  right: auto;
}
.col-xs-push-12 {
  left: 100%;
}
.col-xs-push-11 {
  left: 91.66666667%;
}
.col-xs-push-10 {
  left: 83.33333333%;
}
.col-xs-push-9 {
  left: 75%;
}
.col-xs-push-8 {
  left: 66.66666667%;
}
.col-xs-push-7 {
  left: 58.33333333%;
}
.col-xs-push-6 {
  left: 50%;
}
.col-xs-push-5 {
  left: 41.66666667%;
}
.col-xs-push-4 {
  left: 33.33333333%;
}
.col-xs-push-3 {
  left: 25%;
}
.col-xs-push-2 {
  left: 16.66666667%;
}
.col-xs-push-1 {
  left: 8.33333333%;
}
.col-xs-push-0 {
  left: auto;
}
.col-xs-offset-12 {
  margin-left: 100%;
}
.col-xs-offset-11 {
  margin-left: 91.66666667%;
}
.col-xs-offset-10 {
  margin-left: 83.33333333%;
}
.col-xs-offset-9 {
  margin-left: 75%;
}
.col-xs-offset-8 {
  margin-left: 66.66666667%;
}
.col-xs-offset-7 {
  margin-left: 58.33333333%;
}
.col-xs-offset-6 {
  margin-left: 50%;
}
.col-xs-offset-5 {
  margin-left: 41.66666667%;
}
.col-xs-offset-4 {
  margin-left: 33.33333333%;
}
.col-xs-offset-3 {
  margin-left: 25%;
}
.col-xs-offset-2 {
  margin-left: 16.66666667%;
}
.col-xs-offset-1 {
  margin-left: 8.33333333%;
}
.col-xs-offset-0 {
  margin-left: 0%;
}
@media (min-width: 768px) {
  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
    float: left;
  }
  .col-sm-12 {
    width: 100%;
  }
  .col-sm-11 {
    width: 91.66666667%;
  }
  .col-sm-10 {
    width: 83.33333333%;
  }
  .col-sm-9 {
    width: 75%;
  }
  .col-sm-8 {
    width: 66.66666667%;
  }
  .col-sm-7 {
    width: 58.33333333%;
  }
  .col-sm-6 {
    width: 50%;
  }
  .col-sm-5 {
    width: 41.66666667%;
  }
  .col-sm-4 {
    width: 33.33333333%;
  }
  .col-sm-3 {
    width: 25%;
  }
  .col-sm-2 {
    width: 16.66666667%;
  }
  .col-sm-1 {
    width: 8.33333333%;
  }
  .col-sm-pull-12 {
    right: 100%;
  }
  .col-sm-pull-11 {
    right: 91.66666667%;
  }
  .col-sm-pull-10 {
    right: 83.33333333%;
  }
  .col-sm-pull-9 {
    right: 75%;
  }
  .col-sm-pull-8 {
    right: 66.66666667%;
  }
  .col-sm-pull-7 {
    right: 58.33333333%;
  }
  .col-sm-pull-6 {
    right: 50%;
  }
  .col-sm-pull-5 {
    right: 41.66666667%;
  }
  .col-sm-pull-4 {
    right: 33.33333333%;
  }
  .col-sm-pull-3 {
    right: 25%;
  }
  .col-sm-pull-2 {
    right: 16.66666667%;
  }
  .col-sm-pull-1 {
    right: 8.33333333%;
  }
  .col-sm-pull-0 {
    right: auto;
  }
  .col-sm-push-12 {
    left: 100%;
  }
  .col-sm-push-11 {
    left: 91.66666667%;
  }
  .col-sm-push-10 {
    left: 83.33333333%;
  }
  .col-sm-push-9 {
    left: 75%;
  }
  .col-sm-push-8 {
    left: 66.66666667%;
  }
  .col-sm-push-7 {
    left: 58.33333333%;
  }
  .col-sm-push-6 {
    left: 50%;
  }
  .col-sm-push-5 {
    left: 41.66666667%;
  }
  .col-sm-push-4 {
    left: 33.33333333%;
  }
  .col-sm-push-3 {
    left: 25%;
  }
  .col-sm-push-2 {
    left: 16.66666667%;
  }
  .col-sm-push-1 {
    left: 8.33333333%;
  }
  .col-sm-push-0 {
    left: auto;
  }
  .col-sm-offset-12 {
    margin-left: 100%;
  }
  .col-sm-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-sm-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-sm-offset-9 {
    margin-left: 75%;
  }
  .col-sm-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-sm-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-sm-offset-6 {
    margin-left: 50%;
  }
  .col-sm-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-sm-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-sm-offset-3 {
    margin-left: 25%;
  }
  .col-sm-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-sm-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-sm-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 992px) {
  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 1200px) {
  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
    float: left;
  }
  .col-lg-12 {
    width: 100%;
  }
  .col-lg-11 {
    width: 91.66666667%;
  }
  .col-lg-10 {
    width: 83.33333333%;
  }
  .col-lg-9 {
    width: 75%;
  }
  .col-lg-8 {
    width: 66.66666667%;
  }
  .col-lg-7 {
    width: 58.33333333%;
  }
  .col-lg-6 {
    width: 50%;
  }
  .col-lg-5 {
    width: 41.66666667%;
  }
  .col-lg-4 {
    width: 33.33333333%;
  }
  .col-lg-3 {
    width: 25%;
  }
  .col-lg-2 {
    width: 16.66666667%;
  }
  .col-lg-1 {
    width: 8.33333333%;
  }
  .col-lg-pull-12 {
    right: 100%;
  }
  .col-lg-pull-11 {
    right: 91.66666667%;
  }
  .col-lg-pull-10 {
    right: 83.33333333%;
  }
  .col-lg-pull-9 {
    right: 75%;
  }
  .col-lg-pull-8 {
    right: 66.66666667%;
  }
  .col-lg-pull-7 {
    right: 58.33333333%;
  }
  .col-lg-pull-6 {
    right: 50%;
  }
  .col-lg-pull-5 {
    right: 41.66666667%;
  }
  .col-lg-pull-4 {
    right: 33.33333333%;
  }
  .col-lg-pull-3 {
    right: 25%;
  }
  .col-lg-pull-2 {
    right: 16.66666667%;
  }
  .col-lg-pull-1 {
    right: 8.33333333%;
  }
  .col-lg-pull-0 {
    right: auto;
  }
  .col-lg-push-12 {
    left: 100%;
  }
  .col-lg-push-11 {
    left: 91.66666667%;
  }
  .col-lg-push-10 {
    left: 83.33333333%;
  }
  .col-lg-push-9 {
    left: 75%;
  }
  .col-lg-push-8 {
    left: 66.66666667%;
  }
  .col-lg-push-7 {
    left: 58.33333333%;
  }
  .col-lg-push-6 {
    left: 50%;
  }
  .col-lg-push-5 {
    left: 41.66666667%;
  }
  .col-lg-push-4 {
    left: 33.33333333%;
  }
  .col-lg-push-3 {
    left: 25%;
  }
  .col-lg-push-2 {
    left: 16.66666667%;
  }
  .col-lg-push-1 {
    left: 8.33333333%;
  }
  .col-lg-push-0 {
    left: auto;
  }
  .col-lg-offset-12 {
    margin-left: 100%;
  }
  .col-lg-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-lg-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-lg-offset-9 {
    margin-left: 75%;
  }
  .col-lg-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-lg-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-lg-offset-6 {
    margin-left: 50%;
  }
  .col-lg-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-lg-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-lg-offset-3 {
    margin-left: 25%;
  }
  .col-lg-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-lg-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-lg-offset-0 {
    margin-left: 0%;
  }
}
table {
  background-color: transparent;
}
caption {
  padding-top: 8px;
  padding-bottom: 8px;
  color: #777777;
  text-align: left;
}
th {
  text-align: left;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 18px;
}
.table > thead > tr > th,
.table > tbody > tr > th,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > tbody > tr > td,
.table > tfoot > tr > td {
  padding: 8px;
  line-height: 1.42857143;
  vertical-align: top;
  border-top: 1px solid #ddd;
}
.table > thead > tr > th {
  vertical-align: bottom;
  border-bottom: 2px solid #ddd;
}
.table > caption + thead > tr:first-child > th,
.table > colgroup + thead > tr:first-child > th,
.table > thead:first-child > tr:first-child > th,
.table > caption + thead > tr:first-child > td,
.table > colgroup + thead > tr:first-child > td,
.table > thead:first-child > tr:first-child > td {
  border-top: 0;
}
.table > tbody + tbody {
  border-top: 2px solid #ddd;
}
.table .table {
  background-color: #fff;
}
.table-condensed > thead > tr > th,
.table-condensed > tbody > tr > th,
.table-condensed > tfoot > tr > th,
.table-condensed > thead > tr > td,
.table-condensed > tbody > tr > td,
.table-condensed > tfoot > tr > td {
  padding: 5px;
}
.table-bordered {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > thead > tr > td {
  border-bottom-width: 2px;
}
.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
.table-hover > tbody > tr:hover {
  background-color: #f5f5f5;
}
table col[class*="col-"] {
  position: static;
  float: none;
  display: table-column;
}
table td[class*="col-"],
table th[class*="col-"] {
  position: static;
  float: none;
  display: table-cell;
}
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
  background-color: #f5f5f5;
}
.table-hover > tbody > tr > td.active:hover,
.table-hover > tbody > tr > th.active:hover,
.table-hover > tbody > tr.active:hover > td,
.table-hover > tbody > tr:hover > .active,
.table-hover > tbody > tr.active:hover > th {
  background-color: #e8e8e8;
}
.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
  background-color: #dff0d8;
}
.table-hover > tbody > tr > td.success:hover,
.table-hover > tbody > tr > th.success:hover,
.table-hover > tbody > tr.success:hover > td,
.table-hover > tbody > tr:hover > .success,
.table-hover > tbody > tr.success:hover > th {
  background-color: #d0e9c6;
}
.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
  background-color: #d9edf7;
}
.table-hover > tbody > tr > td.info:hover,
.table-hover > tbody > tr > th.info:hover,
.table-hover > tbody > tr.info:hover > td,
.table-hover > tbody > tr:hover > .info,
.table-hover > tbody > tr.info:hover > th {
  background-color: #c4e3f3;
}
.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
  background-color: #fcf8e3;
}
.table-hover > tbody > tr > td.warning:hover,
.table-hover > tbody > tr > th.warning:hover,
.table-hover > tbody > tr.warning:hover > td,
.table-hover > tbody > tr:hover > .warning,
.table-hover > tbody > tr.warning:hover > th {
  background-color: #faf2cc;
}
.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
  background-color: #f2dede;
}
.table-hover > tbody > tr > td.danger:hover,
.table-hover > tbody > tr > th.danger:hover,
.table-hover > tbody > tr.danger:hover > td,
.table-hover > tbody > tr:hover > .danger,
.table-hover > tbody > tr.danger:hover > th {
  background-color: #ebcccc;
}
.table-responsive {
  overflow-x: auto;
  min-height: 0.01%;
}
@media screen and (max-width: 767px) {
  .table-responsive {
    width: 100%;
    margin-bottom: 13.5px;
    overflow-y: hidden;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    border: 1px solid #ddd;
  }
  .table-responsive > .table {
    margin-bottom: 0;
  }
  .table-responsive > .table > thead > tr > th,
  .table-responsive > .table > tbody > tr > th,
  .table-responsive > .table > tfoot > tr > th,
  .table-responsive > .table > thead > tr > td,
  .table-responsive > .table > tbody > tr > td,
  .table-responsive > .table > tfoot > tr > td {
    white-space: nowrap;
  }
  .table-responsive > .table-bordered {
    border: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:first-child,
  .table-responsive > .table-bordered > tbody > tr > th:first-child,
  .table-responsive > .table-bordered > tfoot > tr > th:first-child,
  .table-responsive > .table-bordered > thead > tr > td:first-child,
  .table-responsive > .table-bordered > tbody > tr > td:first-child,
  .table-responsive > .table-bordered > tfoot > tr > td:first-child {
    border-left: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:last-child,
  .table-responsive > .table-bordered > tbody > tr > th:last-child,
  .table-responsive > .table-bordered > tfoot > tr > th:last-child,
  .table-responsive > .table-bordered > thead > tr > td:last-child,
  .table-responsive > .table-bordered > tbody > tr > td:last-child,
  .table-responsive > .table-bordered > tfoot > tr > td:last-child {
    border-right: 0;
  }
  .table-responsive > .table-bordered > tbody > tr:last-child > th,
  .table-responsive > .table-bordered > tfoot > tr:last-child > th,
  .table-responsive > .table-bordered > tbody > tr:last-child > td,
  .table-responsive > .table-bordered > tfoot > tr:last-child > td {
    border-bottom: 0;
  }
}
fieldset {
  padding: 0;
  margin: 0;
  border: 0;
  min-width: 0;
}
legend {
  display: block;
  width: 100%;
  padding: 0;
  margin-bottom: 18px;
  font-size: 19.5px;
  line-height: inherit;
  color: #333333;
  border: 0;
  border-bottom: 1px solid #e5e5e5;
}
label {
  display: inline-block;
  max-width: 100%;
  margin-bottom: 5px;
  font-weight: bold;
}
input[type="search"] {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
input[type="radio"],
input[type="checkbox"] {
  margin: 4px 0 0;
  margin-top: 1px \9;
  line-height: normal;
}
input[type="file"] {
  display: block;
}
input[type="range"] {
  display: block;
  width: 100%;
}
select[multiple],
select[size] {
  height: auto;
}
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
output {
  display: block;
  padding-top: 7px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
}
.form-control {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.form-control::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.form-control:-ms-input-placeholder {
  color: #999;
}
.form-control::-webkit-input-placeholder {
  color: #999;
}
.form-control::-ms-expand {
  border: 0;
  background-color: transparent;
}
.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {
  background-color: #eeeeee;
  opacity: 1;
}
.form-control[disabled],
fieldset[disabled] .form-control {
  cursor: not-allowed;
}
textarea.form-control {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input[type="date"].form-control,
  input[type="time"].form-control,
  input[type="datetime-local"].form-control,
  input[type="month"].form-control {
    line-height: 32px;
  }
  input[type="date"].input-sm,
  input[type="time"].input-sm,
  input[type="datetime-local"].input-sm,
  input[type="month"].input-sm,
  .input-group-sm input[type="date"],
  .input-group-sm input[type="time"],
  .input-group-sm input[type="datetime-local"],
  .input-group-sm input[type="month"] {
    line-height: 30px;
  }
  input[type="date"].input-lg,
  input[type="time"].input-lg,
  input[type="datetime-local"].input-lg,
  input[type="month"].input-lg,
  .input-group-lg input[type="date"],
  .input-group-lg input[type="time"],
  .input-group-lg input[type="datetime-local"],
  .input-group-lg input[type="month"] {
    line-height: 45px;
  }
}
.form-group {
  margin-bottom: 15px;
}
.radio,
.checkbox {
  position: relative;
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
.radio label,
.checkbox label {
  min-height: 18px;
  padding-left: 20px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
  position: absolute;
  margin-left: -20px;
  margin-top: 4px \9;
}
.radio + .radio,
.checkbox + .checkbox {
  margin-top: -5px;
}
.radio-inline,
.checkbox-inline {
  position: relative;
  display: inline-block;
  padding-left: 20px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}
.radio-inline + .radio-inline,
.checkbox-inline + .checkbox-inline {
  margin-top: 0;
  margin-left: 10px;
}
input[type="radio"][disabled],
input[type="checkbox"][disabled],
input[type="radio"].disabled,
input[type="checkbox"].disabled,
fieldset[disabled] input[type="radio"],
fieldset[disabled] input[type="checkbox"] {
  cursor: not-allowed;
}
.radio-inline.disabled,
.checkbox-inline.disabled,
fieldset[disabled] .radio-inline,
fieldset[disabled] .checkbox-inline {
  cursor: not-allowed;
}
.radio.disabled label,
.checkbox.disabled label,
fieldset[disabled] .radio label,
fieldset[disabled] .checkbox label {
  cursor: not-allowed;
}
.form-control-static {
  padding-top: 7px;
  padding-bottom: 7px;
  margin-bottom: 0;
  min-height: 31px;
}
.form-control-static.input-lg,
.form-control-static.input-sm {
  padding-left: 0;
  padding-right: 0;
}
.input-sm {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-sm {
  height: 30px;
  line-height: 30px;
}
textarea.input-sm,
select[multiple].input-sm {
  height: auto;
}
.form-group-sm .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.form-group-sm select.form-control {
  height: 30px;
  line-height: 30px;
}
.form-group-sm textarea.form-control,
.form-group-sm select[multiple].form-control {
  height: auto;
}
.form-group-sm .form-control-static {
  height: 30px;
  min-height: 30px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.input-lg {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-lg {
  height: 45px;
  line-height: 45px;
}
textarea.input-lg,
select[multiple].input-lg {
  height: auto;
}
.form-group-lg .form-control {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.form-group-lg select.form-control {
  height: 45px;
  line-height: 45px;
}
.form-group-lg textarea.form-control,
.form-group-lg select[multiple].form-control {
  height: auto;
}
.form-group-lg .form-control-static {
  height: 45px;
  min-height: 35px;
  padding: 11px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.has-feedback {
  position: relative;
}
.has-feedback .form-control {
  padding-right: 40px;
}
.form-control-feedback {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  display: block;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  pointer-events: none;
}
.input-lg + .form-control-feedback,
.input-group-lg + .form-control-feedback,
.form-group-lg .form-control + .form-control-feedback {
  width: 45px;
  height: 45px;
  line-height: 45px;
}
.input-sm + .form-control-feedback,
.input-group-sm + .form-control-feedback,
.form-group-sm .form-control + .form-control-feedback {
  width: 30px;
  height: 30px;
  line-height: 30px;
}
.has-success .help-block,
.has-success .control-label,
.has-success .radio,
.has-success .checkbox,
.has-success .radio-inline,
.has-success .checkbox-inline,
.has-success.radio label,
.has-success.checkbox label,
.has-success.radio-inline label,
.has-success.checkbox-inline label {
  color: #3c763d;
}
.has-success .form-control {
  border-color: #3c763d;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-success .form-control:focus {
  border-color: #2b542c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
}
.has-success .input-group-addon {
  color: #3c763d;
  border-color: #3c763d;
  background-color: #dff0d8;
}
.has-success .form-control-feedback {
  color: #3c763d;
}
.has-warning .help-block,
.has-warning .control-label,
.has-warning .radio,
.has-warning .checkbox,
.has-warning .radio-inline,
.has-warning .checkbox-inline,
.has-warning.radio label,
.has-warning.checkbox label,
.has-warning.radio-inline label,
.has-warning.checkbox-inline label {
  color: #8a6d3b;
}
.has-warning .form-control {
  border-color: #8a6d3b;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-warning .form-control:focus {
  border-color: #66512c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
}
.has-warning .input-group-addon {
  color: #8a6d3b;
  border-color: #8a6d3b;
  background-color: #fcf8e3;
}
.has-warning .form-control-feedback {
  color: #8a6d3b;
}
.has-error .help-block,
.has-error .control-label,
.has-error .radio,
.has-error .checkbox,
.has-error .radio-inline,
.has-error .checkbox-inline,
.has-error.radio label,
.has-error.checkbox label,
.has-error.radio-inline label,
.has-error.checkbox-inline label {
  color: #a94442;
}
.has-error .form-control {
  border-color: #a94442;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-error .form-control:focus {
  border-color: #843534;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
}
.has-error .input-group-addon {
  color: #a94442;
  border-color: #a94442;
  background-color: #f2dede;
}
.has-error .form-control-feedback {
  color: #a94442;
}
.has-feedback label ~ .form-control-feedback {
  top: 23px;
}
.has-feedback label.sr-only ~ .form-control-feedback {
  top: 0;
}
.help-block {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: #404040;
}
@media (min-width: 768px) {
  .form-inline .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .form-inline .form-control-static {
    display: inline-block;
  }
  .form-inline .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .form-inline .input-group .input-group-addon,
  .form-inline .input-group .input-group-btn,
  .form-inline .input-group .form-control {
    width: auto;
  }
  .form-inline .input-group > .form-control {
    width: 100%;
  }
  .form-inline .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio,
  .form-inline .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio label,
  .form-inline .checkbox label {
    padding-left: 0;
  }
  .form-inline .radio input[type="radio"],
  .form-inline .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .form-inline .has-feedback .form-control-feedback {
    top: 0;
  }
}
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 7px;
}
.form-horizontal .radio,
.form-horizontal .checkbox {
  min-height: 25px;
}
.form-horizontal .form-group {
  margin-left: 0px;
  margin-right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .control-label {
    text-align: right;
    margin-bottom: 0;
    padding-top: 7px;
  }
}
.form-horizontal .has-feedback .form-control-feedback {
  right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .form-group-lg .control-label {
    padding-top: 11px;
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  .form-horizontal .form-group-sm .control-label {
    padding-top: 6px;
    font-size: 12px;
  }
}
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  border-radius: 2px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.btn:focus,
.btn:active:focus,
.btn.active:focus,
.btn.focus,
.btn:active.focus,
.btn.active.focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
.btn:hover,
.btn:focus,
.btn.focus {
  color: #333;
  text-decoration: none;
}
.btn:active,
.btn.active {
  outline: 0;
  background-image: none;
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn.disabled,
.btn[disabled],
fieldset[disabled] .btn {
  cursor: not-allowed;
  opacity: 0.65;
  filter: alpha(opacity=65);
  -webkit-box-shadow: none;
  box-shadow: none;
}
a.btn.disabled,
fieldset[disabled] a.btn {
  pointer-events: none;
}
.btn-default {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.btn-default:focus,
.btn-default.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.btn-default:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active:hover,
.btn-default.active:hover,
.open > .dropdown-toggle.btn-default:hover,
.btn-default:active:focus,
.btn-default.active:focus,
.open > .dropdown-toggle.btn-default:focus,
.btn-default:active.focus,
.btn-default.active.focus,
.open > .dropdown-toggle.btn-default.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  background-image: none;
}
.btn-default.disabled:hover,
.btn-default[disabled]:hover,
fieldset[disabled] .btn-default:hover,
.btn-default.disabled:focus,
.btn-default[disabled]:focus,
fieldset[disabled] .btn-default:focus,
.btn-default.disabled.focus,
.btn-default[disabled].focus,
fieldset[disabled] .btn-default.focus {
  background-color: #fff;
  border-color: #ccc;
}
.btn-default .badge {
  color: #fff;
  background-color: #333;
}
.btn-primary {
  color: #fff;
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary:focus,
.btn-primary.focus {
  color: #fff;
  background-color: #286090;
  border-color: #122b40;
}
.btn-primary:hover {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active:hover,
.btn-primary.active:hover,
.open > .dropdown-toggle.btn-primary:hover,
.btn-primary:active:focus,
.btn-primary.active:focus,
.open > .dropdown-toggle.btn-primary:focus,
.btn-primary:active.focus,
.btn-primary.active.focus,
.open > .dropdown-toggle.btn-primary.focus {
  color: #fff;
  background-color: #204d74;
  border-color: #122b40;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  background-image: none;
}
.btn-primary.disabled:hover,
.btn-primary[disabled]:hover,
fieldset[disabled] .btn-primary:hover,
.btn-primary.disabled:focus,
.btn-primary[disabled]:focus,
fieldset[disabled] .btn-primary:focus,
.btn-primary.disabled.focus,
.btn-primary[disabled].focus,
fieldset[disabled] .btn-primary.focus {
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary .badge {
  color: #337ab7;
  background-color: #fff;
}
.btn-success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success:focus,
.btn-success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.btn-success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active:hover,
.btn-success.active:hover,
.open > .dropdown-toggle.btn-success:hover,
.btn-success:active:focus,
.btn-success.active:focus,
.open > .dropdown-toggle.btn-success:focus,
.btn-success:active.focus,
.btn-success.active.focus,
.open > .dropdown-toggle.btn-success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  background-image: none;
}
.btn-success.disabled:hover,
.btn-success[disabled]:hover,
fieldset[disabled] .btn-success:hover,
.btn-success.disabled:focus,
.btn-success[disabled]:focus,
fieldset[disabled] .btn-success:focus,
.btn-success.disabled.focus,
.btn-success[disabled].focus,
fieldset[disabled] .btn-success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.btn-info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info:focus,
.btn-info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.btn-info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active:hover,
.btn-info.active:hover,
.open > .dropdown-toggle.btn-info:hover,
.btn-info:active:focus,
.btn-info.active:focus,
.open > .dropdown-toggle.btn-info:focus,
.btn-info:active.focus,
.btn-info.active.focus,
.open > .dropdown-toggle.btn-info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  background-image: none;
}
.btn-info.disabled:hover,
.btn-info[disabled]:hover,
fieldset[disabled] .btn-info:hover,
.btn-info.disabled:focus,
.btn-info[disabled]:focus,
fieldset[disabled] .btn-info:focus,
.btn-info.disabled.focus,
.btn-info[disabled].focus,
fieldset[disabled] .btn-info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.btn-warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning:focus,
.btn-warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.btn-warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active:hover,
.btn-warning.active:hover,
.open > .dropdown-toggle.btn-warning:hover,
.btn-warning:active:focus,
.btn-warning.active:focus,
.open > .dropdown-toggle.btn-warning:focus,
.btn-warning:active.focus,
.btn-warning.active.focus,
.open > .dropdown-toggle.btn-warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  background-image: none;
}
.btn-warning.disabled:hover,
.btn-warning[disabled]:hover,
fieldset[disabled] .btn-warning:hover,
.btn-warning.disabled:focus,
.btn-warning[disabled]:focus,
fieldset[disabled] .btn-warning:focus,
.btn-warning.disabled.focus,
.btn-warning[disabled].focus,
fieldset[disabled] .btn-warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.btn-danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger:focus,
.btn-danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.btn-danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active:hover,
.btn-danger.active:hover,
.open > .dropdown-toggle.btn-danger:hover,
.btn-danger:active:focus,
.btn-danger.active:focus,
.open > .dropdown-toggle.btn-danger:focus,
.btn-danger:active.focus,
.btn-danger.active.focus,
.open > .dropdown-toggle.btn-danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  background-image: none;
}
.btn-danger.disabled:hover,
.btn-danger[disabled]:hover,
fieldset[disabled] .btn-danger:hover,
.btn-danger.disabled:focus,
.btn-danger[disabled]:focus,
fieldset[disabled] .btn-danger:focus,
.btn-danger.disabled.focus,
.btn-danger[disabled].focus,
fieldset[disabled] .btn-danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger .badge {
  color: #d9534f;
  background-color: #fff;
}
.btn-link {
  color: #337ab7;
  font-weight: normal;
  border-radius: 0;
}
.btn-link,
.btn-link:active,
.btn-link.active,
.btn-link[disabled],
fieldset[disabled] .btn-link {
  background-color: transparent;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn-link,
.btn-link:hover,
.btn-link:focus,
.btn-link:active {
  border-color: transparent;
}
.btn-link:hover,
.btn-link:focus {
  color: #23527c;
  text-decoration: underline;
  background-color: transparent;
}
.btn-link[disabled]:hover,
fieldset[disabled] .btn-link:hover,
.btn-link[disabled]:focus,
fieldset[disabled] .btn-link:focus {
  color: #777777;
  text-decoration: none;
}
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-block {
  display: block;
  width: 100%;
}
.btn-block + .btn-block {
  margin-top: 5px;
}
input[type="submit"].btn-block,
input[type="reset"].btn-block,
input[type="button"].btn-block {
  width: 100%;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  transition-timing-function: ease;
}
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
.dropup,
.dropdown {
  position: relative;
}
.dropdown-toggle:focus {
  outline: 0;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 13px;
  text-align: left;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu .divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.dropdown-menu > li > a {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  text-decoration: none;
  color: #262626;
  background-color: #f5f5f5;
}
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  cursor: not-allowed;
}
.open > .dropdown-menu {
  display: block;
}
.open > a {
  outline: 0;
}
.dropdown-menu-right {
  left: auto;
  right: 0;
}
.dropdown-menu-left {
  left: 0;
  right: auto;
}
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 990;
}
.pull-right > .dropdown-menu {
  right: 0;
  left: auto;
}
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
  content: "";
}
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
@media (min-width: 541px) {
  .navbar-right .dropdown-menu {
    left: auto;
    right: 0;
  }
  .navbar-right .dropdown-menu-left {
    left: 0;
    right: auto;
  }
}
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-left: 8px;
  padding-right: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-left: 12px;
  padding-right: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  float: none;
  display: table-cell;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
[data-toggle="buttons"] > .btn input[type="radio"],
[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],
[data-toggle="buttons"] > .btn input[type="checkbox"],
[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"] {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  pointer-events: none;
}
.input-group {
  position: relative;
  display: table;
  border-collapse: separate;
}
.input-group[class*="col-"] {
  float: none;
  padding-left: 0;
  padding-right: 0;
}
.input-group .form-control {
  position: relative;
  z-index: 2;
  float: left;
  width: 100%;
  margin-bottom: 0;
}
.input-group .form-control:focus {
  z-index: 3;
}
.input-group-lg > .form-control,
.input-group-lg > .input-group-addon,
.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-group-lg > .form-control,
select.input-group-lg > .input-group-addon,
select.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  line-height: 45px;
}
textarea.input-group-lg > .form-control,
textarea.input-group-lg > .input-group-addon,
textarea.input-group-lg > .input-group-btn > .btn,
select[multiple].input-group-lg > .form-control,
select[multiple].input-group-lg > .input-group-addon,
select[multiple].input-group-lg > .input-group-btn > .btn {
  height: auto;
}
.input-group-sm > .form-control,
.input-group-sm > .input-group-addon,
.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-group-sm > .form-control,
select.input-group-sm > .input-group-addon,
select.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  line-height: 30px;
}
textarea.input-group-sm > .form-control,
textarea.input-group-sm > .input-group-addon,
textarea.input-group-sm > .input-group-btn > .btn,
select[multiple].input-group-sm > .form-control,
select[multiple].input-group-sm > .input-group-addon,
select[multiple].input-group-sm > .input-group-btn > .btn {
  height: auto;
}
.input-group-addon,
.input-group-btn,
.input-group .form-control {
  display: table-cell;
}
.input-group-addon:not(:first-child):not(:last-child),
.input-group-btn:not(:first-child):not(:last-child),
.input-group .form-control:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.input-group-addon,
.input-group-btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle;
}
.input-group-addon {
  padding: 6px 12px;
  font-size: 13px;
  font-weight: normal;
  line-height: 1;
  color: #555555;
  text-align: center;
  background-color: #eeeeee;
  border: 1px solid #ccc;
  border-radius: 2px;
}
.input-group-addon.input-sm {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 1px;
}
.input-group-addon.input-lg {
  padding: 10px 16px;
  font-size: 17px;
  border-radius: 3px;
}
.input-group-addon input[type="radio"],
.input-group-addon input[type="checkbox"] {
  margin-top: 0;
}
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.input-group-addon:first-child {
  border-right: 0;
}
.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.input-group-addon:last-child {
  border-left: 0;
}
.input-group-btn {
  position: relative;
  font-size: 0;
  white-space: nowrap;
}
.input-group-btn > .btn {
  position: relative;
}
.input-group-btn > .btn + .btn {
  margin-left: -1px;
}
.input-group-btn > .btn:hover,
.input-group-btn > .btn:focus,
.input-group-btn > .btn:active {
  z-index: 2;
}
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group {
  margin-right: -1px;
}
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group {
  z-index: 2;
  margin-left: -1px;
}
.nav {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  background-color: transparent;
  cursor: not-allowed;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 2px 2px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 2px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs-justified {
  border-bottom: 0;
}
.nav-tabs-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs-justified > .active > a,
.nav-tabs-justified > .active > a:hover,
.nav-tabs-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs-justified > .active > a,
  .nav-tabs-justified > .active > a:hover,
  .nav-tabs-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.tab-content > .tab-pane {
  display: none;
}
.tab-content > .active {
  display: block;
}
.nav-tabs .dropdown-menu {
  margin-top: -1px;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar {
  position: relative;
  min-height: 30px;
  margin-bottom: 18px;
  border: 1px solid transparent;
}
@media (min-width: 541px) {
  .navbar {
    border-radius: 2px;
  }
}
@media (min-width: 541px) {
  .navbar-header {
    float: left;
  }
}
.navbar-collapse {
  overflow-x: visible;
  padding-right: 0px;
  padding-left: 0px;
  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  -webkit-overflow-scrolling: touch;
}
.navbar-collapse.in {
  overflow-y: auto;
}
@media (min-width: 541px) {
  .navbar-collapse {
    width: auto;
    border-top: 0;
    box-shadow: none;
  }
  .navbar-collapse.collapse {
    display: block !important;
    height: auto !important;
    padding-bottom: 0;
    overflow: visible !important;
  }
  .navbar-collapse.in {
    overflow-y: visible;
  }
  .navbar-fixed-top .navbar-collapse,
  .navbar-static-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
}
.navbar-fixed-top .navbar-collapse,
.navbar-fixed-bottom .navbar-collapse {
  max-height: 340px;
}
@media (max-device-width: 540px) and (orientation: landscape) {
  .navbar-fixed-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    max-height: 200px;
  }
}
.container > .navbar-header,
.container-fluid > .navbar-header,
.container > .navbar-collapse,
.container-fluid > .navbar-collapse {
  margin-right: 0px;
  margin-left: 0px;
}
@media (min-width: 541px) {
  .container > .navbar-header,
  .container-fluid > .navbar-header,
  .container > .navbar-collapse,
  .container-fluid > .navbar-collapse {
    margin-right: 0;
    margin-left: 0;
  }
}
.navbar-static-top {
  z-index: 1000;
  border-width: 0 0 1px;
}
@media (min-width: 541px) {
  .navbar-static-top {
    border-radius: 0;
  }
}
.navbar-fixed-top,
.navbar-fixed-bottom {
  position: fixed;
  right: 0;
  left: 0;
  z-index: 1030;
}
@media (min-width: 541px) {
  .navbar-fixed-top,
  .navbar-fixed-bottom {
    border-radius: 0;
  }
}
.navbar-fixed-top {
  top: 0;
  border-width: 0 0 1px;
}
.navbar-fixed-bottom {
  bottom: 0;
  margin-bottom: 0;
  border-width: 1px 0 0;
}
.navbar-brand {
  float: left;
  padding: 6px 0px;
  font-size: 17px;
  line-height: 18px;
  height: 30px;
}
.navbar-brand:hover,
.navbar-brand:focus {
  text-decoration: none;
}
.navbar-brand > img {
  display: block;
}
@media (min-width: 541px) {
  .navbar > .container .navbar-brand,
  .navbar > .container-fluid .navbar-brand {
    margin-left: 0px;
  }
}
.navbar-toggle {
  position: relative;
  float: right;
  margin-right: 0px;
  padding: 9px 10px;
  margin-top: -2px;
  margin-bottom: -2px;
  background-color: transparent;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 2px;
}
.navbar-toggle:focus {
  outline: 0;
}
.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  border-radius: 1px;
}
.navbar-toggle .icon-bar + .icon-bar {
  margin-top: 4px;
}
@media (min-width: 541px) {
  .navbar-toggle {
    display: none;
  }
}
.navbar-nav {
  margin: 3px 0px;
}
.navbar-nav > li > a {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 18px;
}
@media (max-width: 540px) {
  .navbar-nav .open .dropdown-menu {
    position: static;
    float: none;
    width: auto;
    margin-top: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
  }
  .navbar-nav .open .dropdown-menu > li > a,
  .navbar-nav .open .dropdown-menu .dropdown-header {
    padding: 5px 15px 5px 25px;
  }
  .navbar-nav .open .dropdown-menu > li > a {
    line-height: 18px;
  }
  .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-nav .open .dropdown-menu > li > a:focus {
    background-image: none;
  }
}
@media (min-width: 541px) {
  .navbar-nav {
    float: left;
    margin: 0;
  }
  .navbar-nav > li {
    float: left;
  }
  .navbar-nav > li > a {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
.navbar-form {
  margin-left: 0px;
  margin-right: 0px;
  padding: 10px 0px;
  border-top: 1px solid transparent;
  border-bottom: 1px solid transparent;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  margin-top: -1px;
  margin-bottom: -1px;
}
@media (min-width: 768px) {
  .navbar-form .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .navbar-form .form-control-static {
    display: inline-block;
  }
  .navbar-form .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .navbar-form .input-group .input-group-addon,
  .navbar-form .input-group .input-group-btn,
  .navbar-form .input-group .form-control {
    width: auto;
  }
  .navbar-form .input-group > .form-control {
    width: 100%;
  }
  .navbar-form .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio,
  .navbar-form .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio label,
  .navbar-form .checkbox label {
    padding-left: 0;
  }
  .navbar-form .radio input[type="radio"],
  .navbar-form .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .navbar-form .has-feedback .form-control-feedback {
    top: 0;
  }
}
@media (max-width: 540px) {
  .navbar-form .form-group {
    margin-bottom: 5px;
  }
  .navbar-form .form-group:last-child {
    margin-bottom: 0;
  }
}
@media (min-width: 541px) {
  .navbar-form {
    width: auto;
    border: 0;
    margin-left: 0;
    margin-right: 0;
    padding-top: 0;
    padding-bottom: 0;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
.navbar-nav > li > .dropdown-menu {
  margin-top: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu {
  margin-bottom: 0;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.navbar-btn {
  margin-top: -1px;
  margin-bottom: -1px;
}
.navbar-btn.btn-sm {
  margin-top: 0px;
  margin-bottom: 0px;
}
.navbar-btn.btn-xs {
  margin-top: 4px;
  margin-bottom: 4px;
}
.navbar-text {
  margin-top: 6px;
  margin-bottom: 6px;
}
@media (min-width: 541px) {
  .navbar-text {
    float: left;
    margin-left: 0px;
    margin-right: 0px;
  }
}
@media (min-width: 541px) {
  .navbar-left {
    float: left !important;
    float: left;
  }
  .navbar-right {
    float: right !important;
    float: right;
    margin-right: 0px;
  }
  .navbar-right ~ .navbar-right {
    margin-right: 0;
  }
}
.navbar-default {
  background-color: #f8f8f8;
  border-color: #e7e7e7;
}
.navbar-default .navbar-brand {
  color: #777;
}
.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
  color: #5e5e5e;
  background-color: transparent;
}
.navbar-default .navbar-text {
  color: #777;
}
.navbar-default .navbar-nav > li > a {
  color: #777;
}
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
  color: #333;
  background-color: transparent;
}
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
  color: #555;
  background-color: #e7e7e7;
}
.navbar-default .navbar-nav > .disabled > a,
.navbar-default .navbar-nav > .disabled > a:hover,
.navbar-default .navbar-nav > .disabled > a:focus {
  color: #ccc;
  background-color: transparent;
}
.navbar-default .navbar-toggle {
  border-color: #ddd;
}
.navbar-default .navbar-toggle:hover,
.navbar-default .navbar-toggle:focus {
  background-color: #ddd;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #888;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #e7e7e7;
}
.navbar-default .navbar-nav > .open > a,
.navbar-default .navbar-nav > .open > a:hover,
.navbar-default .navbar-nav > .open > a:focus {
  background-color: #e7e7e7;
  color: #555;
}
@media (max-width: 540px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #777;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #333;
    background-color: transparent;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #555;
    background-color: #e7e7e7;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #ccc;
    background-color: transparent;
  }
}
.navbar-default .navbar-link {
  color: #777;
}
.navbar-default .navbar-link:hover {
  color: #333;
}
.navbar-default .btn-link {
  color: #777;
}
.navbar-default .btn-link:hover,
.navbar-default .btn-link:focus {
  color: #333;
}
.navbar-default .btn-link[disabled]:hover,
fieldset[disabled] .navbar-default .btn-link:hover,
.navbar-default .btn-link[disabled]:focus,
fieldset[disabled] .navbar-default .btn-link:focus {
  color: #ccc;
}
.navbar-inverse {
  background-color: #222;
  border-color: #080808;
}
.navbar-inverse .navbar-brand {
  color: #9d9d9d;
}
.navbar-inverse .navbar-brand:hover,
.navbar-inverse .navbar-brand:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-text {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a:hover,
.navbar-inverse .navbar-nav > li > a:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-nav > .active > a,
.navbar-inverse .navbar-nav > .active > a:hover,
.navbar-inverse .navbar-nav > .active > a:focus {
  color: #fff;
  background-color: #080808;
}
.navbar-inverse .navbar-nav > .disabled > a,
.navbar-inverse .navbar-nav > .disabled > a:hover,
.navbar-inverse .navbar-nav > .disabled > a:focus {
  color: #444;
  background-color: transparent;
}
.navbar-inverse .navbar-toggle {
  border-color: #333;
}
.navbar-inverse .navbar-toggle:hover,
.navbar-inverse .navbar-toggle:focus {
  background-color: #333;
}
.navbar-inverse .navbar-toggle .icon-bar {
  background-color: #fff;
}
.navbar-inverse .navbar-collapse,
.navbar-inverse .navbar-form {
  border-color: #101010;
}
.navbar-inverse .navbar-nav > .open > a,
.navbar-inverse .navbar-nav > .open > a:hover,
.navbar-inverse .navbar-nav > .open > a:focus {
  background-color: #080808;
  color: #fff;
}
@media (max-width: 540px) {
  .navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header {
    border-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu .divider {
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a {
    color: #9d9d9d;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #fff;
    background-color: transparent;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #fff;
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #444;
    background-color: transparent;
  }
}
.navbar-inverse .navbar-link {
  color: #9d9d9d;
}
.navbar-inverse .navbar-link:hover {
  color: #fff;
}
.navbar-inverse .btn-link {
  color: #9d9d9d;
}
.navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link:focus {
  color: #fff;
}
.navbar-inverse .btn-link[disabled]:hover,
fieldset[disabled] .navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link[disabled]:focus,
fieldset[disabled] .navbar-inverse .btn-link:focus {
  color: #444;
}
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 18px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 2px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  content: "/\00a0";
  padding: 0 5px;
  color: #5e5e5e;
}
.breadcrumb > .active {
  color: #777777;
}
.pagination {
  display: inline-block;
  padding-left: 0;
  margin: 18px 0;
  border-radius: 2px;
}
.pagination > li {
  display: inline;
}
.pagination > li > a,
.pagination > li > span {
  position: relative;
  float: left;
  padding: 6px 12px;
  line-height: 1.42857143;
  text-decoration: none;
  color: #337ab7;
  background-color: #fff;
  border: 1px solid #ddd;
  margin-left: -1px;
}
.pagination > li:first-child > a,
.pagination > li:first-child > span {
  margin-left: 0;
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.pagination > li:last-child > a,
.pagination > li:last-child > span {
  border-bottom-right-radius: 2px;
  border-top-right-radius: 2px;
}
.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination > li > a:focus,
.pagination > li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #eeeeee;
  border-color: #ddd;
}
.pagination > .active > a,
.pagination > .active > span,
.pagination > .active > a:hover,
.pagination > .active > span:hover,
.pagination > .active > a:focus,
.pagination > .active > span:focus {
  z-index: 3;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
  cursor: default;
}
.pagination > .disabled > span,
.pagination > .disabled > span:hover,
.pagination > .disabled > span:focus,
.pagination > .disabled > a,
.pagination > .disabled > a:hover,
.pagination > .disabled > a:focus {
  color: #777777;
  background-color: #fff;
  border-color: #ddd;
  cursor: not-allowed;
}
.pagination-lg > li > a,
.pagination-lg > li > span {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.pagination-lg > li:first-child > a,
.pagination-lg > li:first-child > span {
  border-bottom-left-radius: 3px;
  border-top-left-radius: 3px;
}
.pagination-lg > li:last-child > a,
.pagination-lg > li:last-child > span {
  border-bottom-right-radius: 3px;
  border-top-right-radius: 3px;
}
.pagination-sm > li > a,
.pagination-sm > li > span {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.pagination-sm > li:first-child > a,
.pagination-sm > li:first-child > span {
  border-bottom-left-radius: 1px;
  border-top-left-radius: 1px;
}
.pagination-sm > li:last-child > a,
.pagination-sm > li:last-child > span {
  border-bottom-right-radius: 1px;
  border-top-right-radius: 1px;
}
.pager {
  padding-left: 0;
  margin: 18px 0;
  list-style: none;
  text-align: center;
}
.pager li {
  display: inline;
}
.pager li > a,
.pager li > span {
  display: inline-block;
  padding: 5px 14px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 15px;
}
.pager li > a:hover,
.pager li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.pager .next > a,
.pager .next > span {
  float: right;
}
.pager .previous > a,
.pager .previous > span {
  float: left;
}
.pager .disabled > a,
.pager .disabled > a:hover,
.pager .disabled > a:focus,
.pager .disabled > span {
  color: #777777;
  background-color: #fff;
  cursor: not-allowed;
}
.label {
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
a.label:hover,
a.label:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.label:empty {
  display: none;
}
.btn .label {
  position: relative;
  top: -1px;
}
.label-default {
  background-color: #777777;
}
.label-default[href]:hover,
.label-default[href]:focus {
  background-color: #5e5e5e;
}
.label-primary {
  background-color: #337ab7;
}
.label-primary[href]:hover,
.label-primary[href]:focus {
  background-color: #286090;
}
.label-success {
  background-color: #5cb85c;
}
.label-success[href]:hover,
.label-success[href]:focus {
  background-color: #449d44;
}
.label-info {
  background-color: #5bc0de;
}
.label-info[href]:hover,
.label-info[href]:focus {
  background-color: #31b0d5;
}
.label-warning {
  background-color: #f0ad4e;
}
.label-warning[href]:hover,
.label-warning[href]:focus {
  background-color: #ec971f;
}
.label-danger {
  background-color: #d9534f;
}
.label-danger[href]:hover,
.label-danger[href]:focus {
  background-color: #c9302c;
}
.badge {
  display: inline-block;
  min-width: 10px;
  padding: 3px 7px;
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: #777777;
  border-radius: 10px;
}
.badge:empty {
  display: none;
}
.btn .badge {
  position: relative;
  top: -1px;
}
.btn-xs .badge,
.btn-group-xs > .btn .badge {
  top: 0;
  padding: 1px 5px;
}
a.badge:hover,
a.badge:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.list-group-item.active > .badge,
.nav-pills > .active > a > .badge {
  color: #337ab7;
  background-color: #fff;
}
.list-group-item > .badge {
  float: right;
}
.list-group-item > .badge + .badge {
  margin-right: 5px;
}
.nav-pills > li > a > .badge {
  margin-left: 3px;
}
.jumbotron {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-bottom: 30px;
  color: inherit;
  background-color: #eeeeee;
}
.jumbotron h1,
.jumbotron .h1 {
  color: inherit;
}
.jumbotron p {
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 200;
}
.jumbotron > hr {
  border-top-color: #d5d5d5;
}
.container .jumbotron,
.container-fluid .jumbotron {
  border-radius: 3px;
  padding-left: 0px;
  padding-right: 0px;
}
.jumbotron .container {
  max-width: 100%;
}
@media screen and (min-width: 768px) {
  .jumbotron {
    padding-top: 48px;
    padding-bottom: 48px;
  }
  .container .jumbotron,
  .container-fluid .jumbotron {
    padding-left: 60px;
    padding-right: 60px;
  }
  .jumbotron h1,
  .jumbotron .h1 {
    font-size: 59px;
  }
}
.thumbnail {
  display: block;
  padding: 4px;
  margin-bottom: 18px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: border 0.2s ease-in-out;
  -o-transition: border 0.2s ease-in-out;
  transition: border 0.2s ease-in-out;
}
.thumbnail > img,
.thumbnail a > img {
  margin-left: auto;
  margin-right: auto;
}
a.thumbnail:hover,
a.thumbnail:focus,
a.thumbnail.active {
  border-color: #337ab7;
}
.thumbnail .caption {
  padding: 9px;
  color: #000;
}
.alert {
  padding: 15px;
  margin-bottom: 18px;
  border: 1px solid transparent;
  border-radius: 2px;
}
.alert h4 {
  margin-top: 0;
  color: inherit;
}
.alert .alert-link {
  font-weight: bold;
}
.alert > p,
.alert > ul {
  margin-bottom: 0;
}
.alert > p + p {
  margin-top: 5px;
}
.alert-dismissable,
.alert-dismissible {
  padding-right: 35px;
}
.alert-dismissable .close,
.alert-dismissible .close {
  position: relative;
  top: -2px;
  right: -21px;
  color: inherit;
}
.alert-success {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}
.alert-success hr {
  border-top-color: #c9e2b3;
}
.alert-success .alert-link {
  color: #2b542c;
}
.alert-info {
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #31708f;
}
.alert-info hr {
  border-top-color: #a6e1ec;
}
.alert-info .alert-link {
  color: #245269;
}
.alert-warning {
  background-color: #fcf8e3;
  border-color: #faebcc;
  color: #8a6d3b;
}
.alert-warning hr {
  border-top-color: #f7e1b5;
}
.alert-warning .alert-link {
  color: #66512c;
}
.alert-danger {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}
.alert-danger hr {
  border-top-color: #e4b9c0;
}
.alert-danger .alert-link {
  color: #843534;
}
@-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
.progress {
  overflow: hidden;
  height: 18px;
  margin-bottom: 18px;
  background-color: #f5f5f5;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.progress-bar {
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 18px;
  color: #fff;
  text-align: center;
  background-color: #337ab7;
  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  -webkit-transition: width 0.6s ease;
  -o-transition: width 0.6s ease;
  transition: width 0.6s ease;
}
.progress-striped .progress-bar,
.progress-bar-striped {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-size: 40px 40px;
}
.progress.active .progress-bar,
.progress-bar.active {
  -webkit-animation: progress-bar-stripes 2s linear infinite;
  -o-animation: progress-bar-stripes 2s linear infinite;
  animation: progress-bar-stripes 2s linear infinite;
}
.progress-bar-success {
  background-color: #5cb85c;
}
.progress-striped .progress-bar-success {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-info {
  background-color: #5bc0de;
}
.progress-striped .progress-bar-info {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-warning {
  background-color: #f0ad4e;
}
.progress-striped .progress-bar-warning {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-danger {
  background-color: #d9534f;
}
.progress-striped .progress-bar-danger {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media,
.media-body {
  zoom: 1;
  overflow: hidden;
}
.media-body {
  width: 10000px;
}
.media-object {
  display: block;
}
.media-object.img-thumbnail {
  max-width: none;
}
.media-right,
.media > .pull-right {
  padding-left: 10px;
}
.media-left,
.media > .pull-left {
  padding-right: 10px;
}
.media-left,
.media-right,
.media-body {
  display: table-cell;
  vertical-align: top;
}
.media-middle {
  vertical-align: middle;
}
.media-bottom {
  vertical-align: bottom;
}
.media-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.media-list {
  padding-left: 0;
  list-style: none;
}
.list-group {
  margin-bottom: 20px;
  padding-left: 0;
}
.list-group-item {
  position: relative;
  display: block;
  padding: 10px 15px;
  margin-bottom: -1px;
  background-color: #fff;
  border: 1px solid #ddd;
}
.list-group-item:first-child {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
}
.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
a.list-group-item,
button.list-group-item {
  color: #555;
}
a.list-group-item .list-group-item-heading,
button.list-group-item .list-group-item-heading {
  color: #333;
}
a.list-group-item:hover,
button.list-group-item:hover,
a.list-group-item:focus,
button.list-group-item:focus {
  text-decoration: none;
  color: #555;
  background-color: #f5f5f5;
}
button.list-group-item {
  width: 100%;
  text-align: left;
}
.list-group-item.disabled,
.list-group-item.disabled:hover,
.list-group-item.disabled:focus {
  background-color: #eeeeee;
  color: #777777;
  cursor: not-allowed;
}
.list-group-item.disabled .list-group-item-heading,
.list-group-item.disabled:hover .list-group-item-heading,
.list-group-item.disabled:focus .list-group-item-heading {
  color: inherit;
}
.list-group-item.disabled .list-group-item-text,
.list-group-item.disabled:hover .list-group-item-text,
.list-group-item.disabled:focus .list-group-item-text {
  color: #777777;
}
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  z-index: 2;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.list-group-item.active .list-group-item-heading,
.list-group-item.active:hover .list-group-item-heading,
.list-group-item.active:focus .list-group-item-heading,
.list-group-item.active .list-group-item-heading > small,
.list-group-item.active:hover .list-group-item-heading > small,
.list-group-item.active:focus .list-group-item-heading > small,
.list-group-item.active .list-group-item-heading > .small,
.list-group-item.active:hover .list-group-item-heading > .small,
.list-group-item.active:focus .list-group-item-heading > .small {
  color: inherit;
}
.list-group-item.active .list-group-item-text,
.list-group-item.active:hover .list-group-item-text,
.list-group-item.active:focus .list-group-item-text {
  color: #c7ddef;
}
.list-group-item-success {
  color: #3c763d;
  background-color: #dff0d8;
}
a.list-group-item-success,
button.list-group-item-success {
  color: #3c763d;
}
a.list-group-item-success .list-group-item-heading,
button.list-group-item-success .list-group-item-heading {
  color: inherit;
}
a.list-group-item-success:hover,
button.list-group-item-success:hover,
a.list-group-item-success:focus,
button.list-group-item-success:focus {
  color: #3c763d;
  background-color: #d0e9c6;
}
a.list-group-item-success.active,
button.list-group-item-success.active,
a.list-group-item-success.active:hover,
button.list-group-item-success.active:hover,
a.list-group-item-success.active:focus,
button.list-group-item-success.active:focus {
  color: #fff;
  background-color: #3c763d;
  border-color: #3c763d;
}
.list-group-item-info {
  color: #31708f;
  background-color: #d9edf7;
}
a.list-group-item-info,
button.list-group-item-info {
  color: #31708f;
}
a.list-group-item-info .list-group-item-heading,
button.list-group-item-info .list-group-item-heading {
  color: inherit;
}
a.list-group-item-info:hover,
button.list-group-item-info:hover,
a.list-group-item-info:focus,
button.list-group-item-info:focus {
  color: #31708f;
  background-color: #c4e3f3;
}
a.list-group-item-info.active,
button.list-group-item-info.active,
a.list-group-item-info.active:hover,
button.list-group-item-info.active:hover,
a.list-group-item-info.active:focus,
button.list-group-item-info.active:focus {
  color: #fff;
  background-color: #31708f;
  border-color: #31708f;
}
.list-group-item-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
}
a.list-group-item-warning,
button.list-group-item-warning {
  color: #8a6d3b;
}
a.list-group-item-warning .list-group-item-heading,
button.list-group-item-warning .list-group-item-heading {
  color: inherit;
}
a.list-group-item-warning:hover,
button.list-group-item-warning:hover,
a.list-group-item-warning:focus,
button.list-group-item-warning:focus {
  color: #8a6d3b;
  background-color: #faf2cc;
}
a.list-group-item-warning.active,
button.list-group-item-warning.active,
a.list-group-item-warning.active:hover,
button.list-group-item-warning.active:hover,
a.list-group-item-warning.active:focus,
button.list-group-item-warning.active:focus {
  color: #fff;
  background-color: #8a6d3b;
  border-color: #8a6d3b;
}
.list-group-item-danger {
  color: #a94442;
  background-color: #f2dede;
}
a.list-group-item-danger,
button.list-group-item-danger {
  color: #a94442;
}
a.list-group-item-danger .list-group-item-heading,
button.list-group-item-danger .list-group-item-heading {
  color: inherit;
}
a.list-group-item-danger:hover,
button.list-group-item-danger:hover,
a.list-group-item-danger:focus,
button.list-group-item-danger:focus {
  color: #a94442;
  background-color: #ebcccc;
}
a.list-group-item-danger.active,
button.list-group-item-danger.active,
a.list-group-item-danger.active:hover,
button.list-group-item-danger.active:hover,
a.list-group-item-danger.active:focus,
button.list-group-item-danger.active:focus {
  color: #fff;
  background-color: #a94442;
  border-color: #a94442;
}
.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}
.panel {
  margin-bottom: 18px;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 2px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}
.panel-body {
  padding: 15px;
}
.panel-heading {
  padding: 10px 15px;
  border-bottom: 1px solid transparent;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel-heading > .dropdown .dropdown-toggle {
  color: inherit;
}
.panel-title {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 15px;
  color: inherit;
}
.panel-title > a,
.panel-title > small,
.panel-title > .small,
.panel-title > small > a,
.panel-title > .small > a {
  color: inherit;
}
.panel-footer {
  padding: 10px 15px;
  background-color: #f5f5f5;
  border-top: 1px solid #ddd;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .list-group,
.panel > .panel-collapse > .list-group {
  margin-bottom: 0;
}
.panel > .list-group .list-group-item,
.panel > .panel-collapse > .list-group .list-group-item {
  border-width: 1px 0;
  border-radius: 0;
}
.panel > .list-group:first-child .list-group-item:first-child,
.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {
  border-top: 0;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .list-group:last-child .list-group-item:last-child,
.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {
  border-bottom: 0;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.panel-heading + .list-group .list-group-item:first-child {
  border-top-width: 0;
}
.list-group + .panel-footer {
  border-top-width: 0;
}
.panel > .table,
.panel > .table-responsive > .table,
.panel > .panel-collapse > .table {
  margin-bottom: 0;
}
.panel > .table caption,
.panel > .table-responsive > .table caption,
.panel > .panel-collapse > .table caption {
  padding-left: 15px;
  padding-right: 15px;
}
.panel > .table:first-child,
.panel > .table-responsive:first-child > .table:first-child {
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {
  border-top-left-radius: 1px;
  border-top-right-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {
  border-top-right-radius: 1px;
}
.panel > .table:last-child,
.panel > .table-responsive:last-child > .table:last-child {
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {
  border-bottom-left-radius: 1px;
  border-bottom-right-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {
  border-bottom-right-radius: 1px;
}
.panel > .panel-body + .table,
.panel > .panel-body + .table-responsive,
.panel > .table + .panel-body,
.panel > .table-responsive + .panel-body {
  border-top: 1px solid #ddd;
}
.panel > .table > tbody:first-child > tr:first-child th,
.panel > .table > tbody:first-child > tr:first-child td {
  border-top: 0;
}
.panel > .table-bordered,
.panel > .table-responsive > .table-bordered {
  border: 0;
}
.panel > .table-bordered > thead > tr > th:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,
.panel > .table-bordered > tbody > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,
.panel > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-bordered > thead > tr > td:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,
.panel > .table-bordered > tbody > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,
.panel > .table-bordered > tfoot > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {
  border-left: 0;
}
.panel > .table-bordered > thead > tr > th:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,
.panel > .table-bordered > tbody > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,
.panel > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-bordered > thead > tr > td:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,
.panel > .table-bordered > tbody > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,
.panel > .table-bordered > tfoot > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {
  border-right: 0;
}
.panel > .table-bordered > thead > tr:first-child > td,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,
.panel > .table-bordered > tbody > tr:first-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,
.panel > .table-bordered > thead > tr:first-child > th,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,
.panel > .table-bordered > tbody > tr:first-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {
  border-bottom: 0;
}
.panel > .table-bordered > tbody > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,
.panel > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-bordered > tbody > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,
.panel > .table-bordered > tfoot > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {
  border-bottom: 0;
}
.panel > .table-responsive {
  border: 0;
  margin-bottom: 0;
}
.panel-group {
  margin-bottom: 18px;
}
.panel-group .panel {
  margin-bottom: 0;
  border-radius: 2px;
}
.panel-group .panel + .panel {
  margin-top: 5px;
}
.panel-group .panel-heading {
  border-bottom: 0;
}
.panel-group .panel-heading + .panel-collapse > .panel-body,
.panel-group .panel-heading + .panel-collapse > .list-group {
  border-top: 1px solid #ddd;
}
.panel-group .panel-footer {
  border-top: 0;
}
.panel-group .panel-footer + .panel-collapse .panel-body {
  border-bottom: 1px solid #ddd;
}
.panel-default {
  border-color: #ddd;
}
.panel-default > .panel-heading {
  color: #333333;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.panel-default > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ddd;
}
.panel-default > .panel-heading .badge {
  color: #f5f5f5;
  background-color: #333333;
}
.panel-default > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ddd;
}
.panel-primary {
  border-color: #337ab7;
}
.panel-primary > .panel-heading {
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.panel-primary > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #337ab7;
}
.panel-primary > .panel-heading .badge {
  color: #337ab7;
  background-color: #fff;
}
.panel-primary > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #337ab7;
}
.panel-success {
  border-color: #d6e9c6;
}
.panel-success > .panel-heading {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.panel-success > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #d6e9c6;
}
.panel-success > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-success > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #d6e9c6;
}
.panel-info {
  border-color: #bce8f1;
}
.panel-info > .panel-heading {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.panel-info > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #bce8f1;
}
.panel-info > .panel-heading .badge {
  color: #d9edf7;
  background-color: #31708f;
}
.panel-info > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #bce8f1;
}
.panel-warning {
  border-color: #faebcc;
}
.panel-warning > .panel-heading {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.panel-warning > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #faebcc;
}
.panel-warning > .panel-heading .badge {
  color: #fcf8e3;
  background-color: #8a6d3b;
}
.panel-warning > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #faebcc;
}
.panel-danger {
  border-color: #ebccd1;
}
.panel-danger > .panel-heading {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.panel-danger > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ebccd1;
}
.panel-danger > .panel-heading .badge {
  color: #f2dede;
  background-color: #a94442;
}
.panel-danger > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ebccd1;
}
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}
.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}
.embed-responsive-16by9 {
  padding-bottom: 56.25%;
}
.embed-responsive-4by3 {
  padding-bottom: 75%;
}
.well {
  min-height: 20px;
  padding: 19px;
  margin-bottom: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
}
.well blockquote {
  border-color: #ddd;
  border-color: rgba(0, 0, 0, 0.15);
}
.well-lg {
  padding: 24px;
  border-radius: 3px;
}
.well-sm {
  padding: 9px;
  border-radius: 1px;
}
.close {
  float: right;
  font-size: 19.5px;
  font-weight: bold;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  opacity: 0.2;
  filter: alpha(opacity=20);
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
  opacity: 0.5;
  filter: alpha(opacity=50);
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
}
.modal-open {
  overflow: hidden;
}
.modal {
  display: none;
  overflow: hidden;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -moz-transition: -moz-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.modal.in .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.modal-open .modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.modal-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.modal-content {
  position: relative;
  background-color: #fff;
  border: 1px solid #999;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  background-clip: padding-box;
  outline: 0;
}
.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: #000;
}
.modal-backdrop.fade {
  opacity: 0;
  filter: alpha(opacity=0);
}
.modal-backdrop.in {
  opacity: 0.5;
  filter: alpha(opacity=50);
}
.modal-header {
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}
.modal-header .close {
  margin-top: -2px;
}
.modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.modal-body {
  position: relative;
  padding: 15px;
}
.modal-footer {
  padding: 15px;
  text-align: right;
  border-top: 1px solid #e5e5e5;
}
.modal-footer .btn + .btn {
  margin-left: 5px;
  margin-bottom: 0;
}
.modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 768px) {
  .modal-dialog {
    width: 600px;
    margin: 30px auto;
  }
  .modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .modal-sm {
    width: 300px;
  }
}
@media (min-width: 992px) {
  .modal-lg {
    width: 900px;
  }
}
.tooltip {
  position: absolute;
  z-index: 1070;
  display: block;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 12px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.tooltip.top {
  margin-top: -3px;
  padding: 5px 0;
}
.tooltip.right {
  margin-left: 3px;
  padding: 0 5px;
}
.tooltip.bottom {
  margin-top: 3px;
  padding: 5px 0;
}
.tooltip.left {
  margin-left: -3px;
  padding: 0 5px;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 2px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-left .tooltip-arrow {
  bottom: 0;
  right: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-right .tooltip-arrow {
  bottom: 0;
  left: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-width: 5px 5px 5px 0;
  border-right-color: #000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-width: 5px 0 5px 5px;
  border-left-color: #000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-left .tooltip-arrow {
  top: 0;
  right: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-right .tooltip-arrow {
  top: 0;
  left: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1060;
  display: none;
  max-width: 276px;
  padding: 1px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 13px;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.popover.top {
  margin-top: -10px;
}
.popover.right {
  margin-left: 10px;
}
.popover.bottom {
  margin-top: 10px;
}
.popover.left {
  margin-left: -10px;
}
.popover-title {
  margin: 0;
  padding: 8px 14px;
  font-size: 13px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #ebebeb;
  border-radius: 2px 2px 0 0;
}
.popover-content {
  padding: 9px 14px;
}
.popover > .arrow,
.popover > .arrow:after {
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.popover > .arrow {
  border-width: 11px;
}
.popover > .arrow:after {
  border-width: 10px;
  content: "";
}
.popover.top > .arrow {
  left: 50%;
  margin-left: -11px;
  border-bottom-width: 0;
  border-top-color: #999999;
  border-top-color: rgba(0, 0, 0, 0.25);
  bottom: -11px;
}
.popover.top > .arrow:after {
  content: " ";
  bottom: 1px;
  margin-left: -10px;
  border-bottom-width: 0;
  border-top-color: #fff;
}
.popover.right > .arrow {
  top: 50%;
  left: -11px;
  margin-top: -11px;
  border-left-width: 0;
  border-right-color: #999999;
  border-right-color: rgba(0, 0, 0, 0.25);
}
.popover.right > .arrow:after {
  content: " ";
  left: 1px;
  bottom: -10px;
  border-left-width: 0;
  border-right-color: #fff;
}
.popover.bottom > .arrow {
  left: 50%;
  margin-left: -11px;
  border-top-width: 0;
  border-bottom-color: #999999;
  border-bottom-color: rgba(0, 0, 0, 0.25);
  top: -11px;
}
.popover.bottom > .arrow:after {
  content: " ";
  top: 1px;
  margin-left: -10px;
  border-top-width: 0;
  border-bottom-color: #fff;
}
.popover.left > .arrow {
  top: 50%;
  right: -11px;
  margin-top: -11px;
  border-right-width: 0;
  border-left-color: #999999;
  border-left-color: rgba(0, 0, 0, 0.25);
}
.popover.left > .arrow:after {
  content: " ";
  right: 1px;
  border-right-width: 0;
  border-left-color: #fff;
  bottom: -10px;
}
.carousel {
  position: relative;
}
.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.carousel-inner > .item {
  display: none;
  position: relative;
  -webkit-transition: 0.6s ease-in-out left;
  -o-transition: 0.6s ease-in-out left;
  transition: 0.6s ease-in-out left;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  line-height: 1;
}
@media all and (transform-3d), (-webkit-transform-3d) {
  .carousel-inner > .item {
    -webkit-transition: -webkit-transform 0.6s ease-in-out;
    -moz-transition: -moz-transform 0.6s ease-in-out;
    -o-transition: -o-transform 0.6s ease-in-out;
    transition: transform 0.6s ease-in-out;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    -moz-perspective: 1000px;
    perspective: 1000px;
  }
  .carousel-inner > .item.next,
  .carousel-inner > .item.active.right {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.prev,
  .carousel-inner > .item.active.left {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.next.left,
  .carousel-inner > .item.prev.right,
  .carousel-inner > .item.active {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    left: 0;
  }
}
.carousel-inner > .active,
.carousel-inner > .next,
.carousel-inner > .prev {
  display: block;
}
.carousel-inner > .active {
  left: 0;
}
.carousel-inner > .next,
.carousel-inner > .prev {
  position: absolute;
  top: 0;
  width: 100%;
}
.carousel-inner > .next {
  left: 100%;
}
.carousel-inner > .prev {
  left: -100%;
}
.carousel-inner > .next.left,
.carousel-inner > .prev.right {
  left: 0;
}
.carousel-inner > .active.left {
  left: -100%;
}
.carousel-inner > .active.right {
  left: 100%;
}
.carousel-control {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 15%;
  opacity: 0.5;
  filter: alpha(opacity=50);
  font-size: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  background-color: rgba(0, 0, 0, 0);
}
.carousel-control.left {
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);
}
.carousel-control.right {
  left: auto;
  right: 0;
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);
}
.carousel-control:hover,
.carousel-control:focus {
  outline: 0;
  color: #fff;
  text-decoration: none;
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.carousel-control .icon-prev,
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-left,
.carousel-control .glyphicon-chevron-right {
  position: absolute;
  top: 50%;
  margin-top: -10px;
  z-index: 5;
  display: inline-block;
}
.carousel-control .icon-prev,
.carousel-control .glyphicon-chevron-left {
  left: 50%;
  margin-left: -10px;
}
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-right {
  right: 50%;
  margin-right: -10px;
}
.carousel-control .icon-prev,
.carousel-control .icon-next {
  width: 20px;
  height: 20px;
  line-height: 1;
  font-family: serif;
}
.carousel-control .icon-prev:before {
  content: '\2039';
}
.carousel-control .icon-next:before {
  content: '\203a';
}
.carousel-indicators {
  position: absolute;
  bottom: 10px;
  left: 50%;
  z-index: 15;
  width: 60%;
  margin-left: -30%;
  padding-left: 0;
  list-style: none;
  text-align: center;
}
.carousel-indicators li {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 1px;
  text-indent: -999px;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
  background-color: #000 \9;
  background-color: rgba(0, 0, 0, 0);
}
.carousel-indicators .active {
  margin: 0;
  width: 12px;
  height: 12px;
  background-color: #fff;
}
.carousel-caption {
  position: absolute;
  left: 15%;
  right: 15%;
  bottom: 20px;
  z-index: 10;
  padding-top: 20px;
  padding-bottom: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}
.carousel-caption .btn {
  text-shadow: none;
}
@media screen and (min-width: 768px) {
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-prev,
  .carousel-control .icon-next {
    width: 30px;
    height: 30px;
    margin-top: -10px;
    font-size: 30px;
  }
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .icon-prev {
    margin-left: -10px;
  }
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-next {
    margin-right: -10px;
  }
  .carousel-caption {
    left: 20%;
    right: 20%;
    padding-bottom: 30px;
  }
  .carousel-indicators {
    bottom: 20px;
  }
}
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-header:before,
.modal-header:after,
.modal-footer:before,
.modal-footer:after,
.item_buttons:before,
.item_buttons:after {
  content: " ";
  display: table;
}
.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-header:after,
.modal-footer:after,
.item_buttons:after {
  clear: both;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.pull-right {
  float: right !important;
}
.pull-left {
  float: left !important;
}
.hide {
  display: none !important;
}
.show {
  display: block !important;
}
.invisible {
  visibility: hidden;
}
.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.hidden {
  display: none !important;
}
.affix {
  position: fixed;
}
@-ms-viewport {
  width: device-width;
}
.visible-xs,
.visible-sm,
.visible-md,
.visible-lg {
  display: none !important;
}
.visible-xs-block,
.visible-xs-inline,
.visible-xs-inline-block,
.visible-sm-block,
.visible-sm-inline,
.visible-sm-inline-block,
.visible-md-block,
.visible-md-inline,
.visible-md-inline-block,
.visible-lg-block,
.visible-lg-inline,
.visible-lg-inline-block {
  display: none !important;
}
@media (max-width: 767px) {
  .visible-xs {
    display: block !important;
  }
  table.visible-xs {
    display: table !important;
  }
  tr.visible-xs {
    display: table-row !important;
  }
  th.visible-xs,
  td.visible-xs {
    display: table-cell !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-block {
    display: block !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline {
    display: inline !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm {
    display: block !important;
  }
  table.visible-sm {
    display: table !important;
  }
  tr.visible-sm {
    display: table-row !important;
  }
  th.visible-sm,
  td.visible-sm {
    display: table-cell !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-block {
    display: block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline {
    display: inline !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md {
    display: block !important;
  }
  table.visible-md {
    display: table !important;
  }
  tr.visible-md {
    display: table-row !important;
  }
  th.visible-md,
  td.visible-md {
    display: table-cell !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-block {
    display: block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline {
    display: inline !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg {
    display: block !important;
  }
  table.visible-lg {
    display: table !important;
  }
  tr.visible-lg {
    display: table-row !important;
  }
  th.visible-lg,
  td.visible-lg {
    display: table-cell !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-block {
    display: block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline {
    display: inline !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline-block {
    display: inline-block !important;
  }
}
@media (max-width: 767px) {
  .hidden-xs {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .hidden-sm {
    display: none !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
    display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
    display: none !important;
  }
}
.visible-print {
  display: none !important;
}
@media print {
  .visible-print {
    display: block !important;
  }
  table.visible-print {
    display: table !important;
  }
  tr.visible-print {
    display: table-row !important;
  }
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
.visible-print-block {
  display: none !important;
}
@media print {
  .visible-print-block {
    display: block !important;
  }
}
.visible-print-inline {
  display: none !important;
}
@media print {
  .visible-print-inline {
    display: inline !important;
  }
}
.visible-print-inline-block {
  display: none !important;
}
@media print {
  .visible-print-inline-block {
    display: inline-block !important;
  }
}
@media print {
  .hidden-print {
    display: none !important;
  }
}
/*!
*
* Font Awesome
*
*/
/*!
 *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
/* FONT PATH
 * -------------------------- */
@font-face {
  font-family: 'FontAwesome';
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.7.0');
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('../components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* makes the font 33% larger relative to the icon container */
.fa-lg {
  font-size: 1.33333333em;
  line-height: 0.75em;
  vertical-align: -15%;
}
.fa-2x {
  font-size: 2em;
}
.fa-3x {
  font-size: 3em;
}
.fa-4x {
  font-size: 4em;
}
.fa-5x {
  font-size: 5em;
}
.fa-fw {
  width: 1.28571429em;
  text-align: center;
}
.fa-ul {
  padding-left: 0;
  margin-left: 2.14285714em;
  list-style-type: none;
}
.fa-ul > li {
  position: relative;
}
.fa-li {
  position: absolute;
  left: -2.14285714em;
  width: 2.14285714em;
  top: 0.14285714em;
  text-align: center;
}
.fa-li.fa-lg {
  left: -1.85714286em;
}
.fa-border {
  padding: .2em .25em .15em;
  border: solid 0.08em #eee;
  border-radius: .1em;
}
.fa-pull-left {
  float: left;
}
.fa-pull-right {
  float: right;
}
.fa.fa-pull-left {
  margin-right: .3em;
}
.fa.fa-pull-right {
  margin-left: .3em;
}
/* Deprecated as of 4.4.0 */
.pull-right {
  float: right;
}
.pull-left {
  float: left;
}
.fa.pull-left {
  margin-right: .3em;
}
.fa.pull-right {
  margin-left: .3em;
}
.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}
.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
  animation: fa-spin 1s infinite steps(8);
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}
.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
  -ms-transform: rotate(270deg);
  transform: rotate(270deg);
}
.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
  -ms-transform: scale(-1, 1);
  transform: scale(-1, 1);
}
.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
  -ms-transform: scale(1, -1);
  transform: scale(1, -1);
}
:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical {
  filter: none;
}
.fa-stack {
  position: relative;
  display: inline-block;
  width: 2em;
  height: 2em;
  line-height: 2em;
  vertical-align: middle;
}
.fa-stack-1x,
.fa-stack-2x {
  position: absolute;
  left: 0;
  width: 100%;
  text-align: center;
}
.fa-stack-1x {
  line-height: inherit;
}
.fa-stack-2x {
  font-size: 2em;
}
.fa-inverse {
  color: #fff;
}
/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
   readers do not read off random characters that represent icons */
.fa-glass:before {
  content: "\f000";
}
.fa-music:before {
  content: "\f001";
}
.fa-search:before {
  content: "\f002";
}
.fa-envelope-o:before {
  content: "\f003";
}
.fa-heart:before {
  content: "\f004";
}
.fa-star:before {
  content: "\f005";
}
.fa-star-o:before {
  content: "\f006";
}
.fa-user:before {
  content: "\f007";
}
.fa-film:before {
  content: "\f008";
}
.fa-th-large:before {
  content: "\f009";
}
.fa-th:before {
  content: "\f00a";
}
.fa-th-list:before {
  content: "\f00b";
}
.fa-check:before {
  content: "\f00c";
}
.fa-remove:before,
.fa-close:before,
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-power-off:before {
  content: "\f011";
}
.fa-signal:before {
  content: "\f012";
}
.fa-gear:before,
.fa-cog:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-home:before {
  content: "\f015";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-clock-o:before {
  content: "\f017";
}
.fa-road:before {
  content: "\f018";
}
.fa-download:before {
  content: "\f019";
}
.fa-arrow-circle-o-down:before {
  content: "\f01a";
}
.fa-arrow-circle-o-up:before {
  content: "\f01b";
}
.fa-inbox:before {
  content: "\f01c";
}
.fa-play-circle-o:before {
  content: "\f01d";
}
.fa-rotate-right:before,
.fa-repeat:before {
  content: "\f01e";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-list-alt:before {
  content: "\f022";
}
.fa-lock:before {
  content: "\f023";
}
.fa-flag:before {
  content: "\f024";
}
.fa-headphones:before {
  content: "\f025";
}
.fa-volume-off:before {
  content: "\f026";
}
.fa-volume-down:before {
  content: "\f027";
}
.fa-volume-up:before {
  content: "\f028";
}
.fa-qrcode:before {
  content: "\f029";
}
.fa-barcode:before {
  content: "\f02a";
}
.fa-tag:before {
  content: "\f02b";
}
.fa-tags:before {
  content: "\f02c";
}
.fa-book:before {
  content: "\f02d";
}
.fa-bookmark:before {
  content: "\f02e";
}
.fa-print:before {
  content: "\f02f";
}
.fa-camera:before {
  content: "\f030";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-text-height:before {
  content: "\f034";
}
.fa-text-width:before {
  content: "\f035";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-align-justify:before {
  content: "\f039";
}
.fa-list:before {
  content: "\f03a";
}
.fa-dedent:before,
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-video-camera:before {
  content: "\f03d";
}
.fa-photo:before,
.fa-image:before,
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-map-marker:before {
  content: "\f041";
}
.fa-adjust:before {
  content: "\f042";
}
.fa-tint:before {
  content: "\f043";
}
.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-check-square-o:before {
  content: "\f046";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-step-backward:before {
  content: "\f048";
}
.fa-fast-backward:before {
  content: "\f049";
}
.fa-backward:before {
  content: "\f04a";
}
.fa-play:before {
  content: "\f04b";
}
.fa-pause:before {
  content: "\f04c";
}
.fa-stop:before {
  content: "\f04d";
}
.fa-forward:before {
  content: "\f04e";
}
.fa-fast-forward:before {
  content: "\f050";
}
.fa-step-forward:before {
  content: "\f051";
}
.fa-eject:before {
  content: "\f052";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-plus-circle:before {
  content: "\f055";
}
.fa-minus-circle:before {
  content: "\f056";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-check-circle:before {
  content: "\f058";
}
.fa-question-circle:before {
  content: "\f059";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-crosshairs:before {
  content: "\f05b";
}
.fa-times-circle-o:before {
  content: "\f05c";
}
.fa-check-circle-o:before {
  content: "\f05d";
}
.fa-ban:before {
  content: "\f05e";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before,
.fa-share:before {
  content: "\f064";
}
.fa-expand:before {
  content: "\f065";
}
.fa-compress:before {
  content: "\f066";
}
.fa-plus:before {
  content: "\f067";
}
.fa-minus:before {
  content: "\f068";
}
.fa-asterisk:before {
  content: "\f069";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-gift:before {
  content: "\f06b";
}
.fa-leaf:before {
  content: "\f06c";
}
.fa-fire:before {
  content: "\f06d";
}
.fa-eye:before {
  content: "\f06e";
}
.fa-eye-slash:before {
  content: "\f070";
}
.fa-warning:before,
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-plane:before {
  content: "\f072";
}
.fa-calendar:before {
  content: "\f073";
}
.fa-random:before {
  content: "\f074";
}
.fa-comment:before {
  content: "\f075";
}
.fa-magnet:before {
  content: "\f076";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-retweet:before {
  content: "\f079";
}
.fa-shopping-cart:before {
  content: "\f07a";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-arrows-v:before {
  content: "\f07d";
}
.fa-arrows-h:before {
  content: "\f07e";
}
.fa-bar-chart-o:before,
.fa-bar-chart:before {
  content: "\f080";
}
.fa-twitter-square:before {
  content: "\f081";
}
.fa-facebook-square:before {
  content: "\f082";
}
.fa-camera-retro:before {
  content: "\f083";
}
.fa-key:before {
  content: "\f084";
}
.fa-gears:before,
.fa-cogs:before {
  content: "\f085";
}
.fa-comments:before {
  content: "\f086";
}
.fa-thumbs-o-up:before {
  content: "\f087";
}
.fa-thumbs-o-down:before {
  content: "\f088";
}
.fa-star-half:before {
  content: "\f089";
}
.fa-heart-o:before {
  content: "\f08a";
}
.fa-sign-out:before {
  content: "\f08b";
}
.fa-linkedin-square:before {
  content: "\f08c";
}
.fa-thumb-tack:before {
  content: "\f08d";
}
.fa-external-link:before {
  content: "\f08e";
}
.fa-sign-in:before {
  content: "\f090";
}
.fa-trophy:before {
  content: "\f091";
}
.fa-github-square:before {
  content: "\f092";
}
.fa-upload:before {
  content: "\f093";
}
.fa-lemon-o:before {
  content: "\f094";
}
.fa-phone:before {
  content: "\f095";
}
.fa-square-o:before {
  content: "\f096";
}
.fa-bookmark-o:before {
  content: "\f097";
}
.fa-phone-square:before {
  content: "\f098";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-facebook-f:before,
.fa-facebook:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-unlock:before {
  content: "\f09c";
}
.fa-credit-card:before {
  content: "\f09d";
}
.fa-feed:before,
.fa-rss:before {
  content: "\f09e";
}
.fa-hdd-o:before {
  content: "\f0a0";
}
.fa-bullhorn:before {
  content: "\f0a1";
}
.fa-bell:before {
  content: "\f0f3";
}
.fa-certificate:before {
  content: "\f0a3";
}
.fa-hand-o-right:before {
  content: "\f0a4";
}
.fa-hand-o-left:before {
  content: "\f0a5";
}
.fa-hand-o-up:before {
  content: "\f0a6";
}
.fa-hand-o-down:before {
  content: "\f0a7";
}
.fa-arrow-circle-left:before {
  content: "\f0a8";
}
.fa-arrow-circle-right:before {
  content: "\f0a9";
}
.fa-arrow-circle-up:before {
  content: "\f0aa";
}
.fa-arrow-circle-down:before {
  content: "\f0ab";
}
.fa-globe:before {
  content: "\f0ac";
}
.fa-wrench:before {
  content: "\f0ad";
}
.fa-tasks:before {
  content: "\f0ae";
}
.fa-filter:before {
  content: "\f0b0";
}
.fa-briefcase:before {
  content: "\f0b1";
}
.fa-arrows-alt:before {
  content: "\f0b2";
}
.fa-group:before,
.fa-users:before {
  content: "\f0c0";
}
.fa-chain:before,
.fa-link:before {
  content: "\f0c1";
}
.fa-cloud:before {
  content: "\f0c2";
}
.fa-flask:before {
  content: "\f0c3";
}
.fa-cut:before,
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before,
.fa-files-o:before {
  content: "\f0c5";
}
.fa-paperclip:before {
  content: "\f0c6";
}
.fa-save:before,
.fa-floppy-o:before {
  content: "\f0c7";
}
.fa-square:before {
  content: "\f0c8";
}
.fa-navicon:before,
.fa-reorder:before,
.fa-bars:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-truck:before {
  content: "\f0d1";
}
.fa-pinterest:before {
  content: "\f0d2";
}
.fa-pinterest-square:before {
  content: "\f0d3";
}
.fa-google-plus-square:before {
  content: "\f0d4";
}
.fa-google-plus:before {
  content: "\f0d5";
}
.fa-money:before {
  content: "\f0d6";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-up:before {
  content: "\f0d8";
}
.fa-caret-left:before {
  content: "\f0d9";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-columns:before {
  content: "\f0db";
}
.fa-unsorted:before,
.fa-sort:before {
  content: "\f0dc";
}
.fa-sort-down:before,
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-up:before,
.fa-sort-asc:before {
  content: "\f0de";
}
.fa-envelope:before {
  content: "\f0e0";
}
.fa-linkedin:before {
  content: "\f0e1";
}
.fa-rotate-left:before,
.fa-undo:before {
  content: "\f0e2";
}
.fa-legal:before,
.fa-gavel:before {
  content: "\f0e3";
}
.fa-dashboard:before,
.fa-tachometer:before {
  content: "\f0e4";
}
.fa-comment-o:before {
  content: "\f0e5";
}
.fa-comments-o:before {
  content: "\f0e6";
}
.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}
.fa-sitemap:before {
  content: "\f0e8";
}
.fa-umbrella:before {
  content: "\f0e9";
}
.fa-paste:before,
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-lightbulb-o:before {
  content: "\f0eb";
}
.fa-exchange:before {
  content: "\f0ec";
}
.fa-cloud-download:before {
  content: "\f0ed";
}
.fa-cloud-upload:before {
  content: "\f0ee";
}
.fa-user-md:before {
  content: "\f0f0";
}
.fa-stethoscope:before {
  content: "\f0f1";
}
.fa-suitcase:before {
  content: "\f0f2";
}
.fa-bell-o:before {
  content: "\f0a2";
}
.fa-coffee:before {
  content: "\f0f4";
}
.fa-cutlery:before {
  content: "\f0f5";
}
.fa-file-text-o:before {
  content: "\f0f6";
}
.fa-building-o:before {
  content: "\f0f7";
}
.fa-hospital-o:before {
  content: "\f0f8";
}
.fa-ambulance:before {
  content: "\f0f9";
}
.fa-medkit:before {
  content: "\f0fa";
}
.fa-fighter-jet:before {
  content: "\f0fb";
}
.fa-beer:before {
  content: "\f0fc";
}
.fa-h-square:before {
  content: "\f0fd";
}
.fa-plus-square:before {
  content: "\f0fe";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-angle-left:before {
  content: "\f104";
}
.fa-angle-right:before {
  content: "\f105";
}
.fa-angle-up:before {
  content: "\f106";
}
.fa-angle-down:before {
  content: "\f107";
}
.fa-desktop:before {
  content: "\f108";
}
.fa-laptop:before {
  content: "\f109";
}
.fa-tablet:before {
  content: "\f10a";
}
.fa-mobile-phone:before,
.fa-mobile:before {
  content: "\f10b";
}
.fa-circle-o:before {
  content: "\f10c";
}
.fa-quote-left:before {
  content: "\f10d";
}
.fa-quote-right:before {
  content: "\f10e";
}
.fa-spinner:before {
  content: "\f110";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before,
.fa-reply:before {
  content: "\f112";
}
.fa-github-alt:before {
  content: "\f113";
}
.fa-folder-o:before {
  content: "\f114";
}
.fa-folder-open-o:before {
  content: "\f115";
}
.fa-smile-o:before {
  content: "\f118";
}
.fa-frown-o:before {
  content: "\f119";
}
.fa-meh-o:before {
  content: "\f11a";
}
.fa-gamepad:before {
  content: "\f11b";
}
.fa-keyboard-o:before {
  content: "\f11c";
}
.fa-flag-o:before {
  content: "\f11d";
}
.fa-flag-checkered:before {
  content: "\f11e";
}
.fa-terminal:before {
  content: "\f120";
}
.fa-code:before {
  content: "\f121";
}
.fa-mail-reply-all:before,
.fa-reply-all:before {
  content: "\f122";
}
.fa-star-half-empty:before,
.fa-star-half-full:before,
.fa-star-half-o:before {
  content: "\f123";
}
.fa-location-arrow:before {
  content: "\f124";
}
.fa-crop:before {
  content: "\f125";
}
.fa-code-fork:before {
  content: "\f126";
}
.fa-unlink:before,
.fa-chain-broken:before {
  content: "\f127";
}
.fa-question:before {
  content: "\f128";
}
.fa-info:before {
  content: "\f129";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-superscript:before {
  content: "\f12b";
}
.fa-subscript:before {
  content: "\f12c";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-puzzle-piece:before {
  content: "\f12e";
}
.fa-microphone:before {
  content: "\f130";
}
.fa-microphone-slash:before {
  content: "\f131";
}
.fa-shield:before {
  content: "\f132";
}
.fa-calendar-o:before {
  content: "\f133";
}
.fa-fire-extinguisher:before {
  content: "\f134";
}
.fa-rocket:before {
  content: "\f135";
}
.fa-maxcdn:before {
  content: "\f136";
}
.fa-chevron-circle-left:before {
  content: "\f137";
}
.fa-chevron-circle-right:before {
  content: "\f138";
}
.fa-chevron-circle-up:before {
  content: "\f139";
}
.fa-chevron-circle-down:before {
  content: "\f13a";
}
.fa-html5:before {
  content: "\f13b";
}
.fa-css3:before {
  content: "\f13c";
}
.fa-anchor:before {
  content: "\f13d";
}
.fa-unlock-alt:before {
  content: "\f13e";
}
.fa-bullseye:before {
  content: "\f140";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-rss-square:before {
  content: "\f143";
}
.fa-play-circle:before {
  content: "\f144";
}
.fa-ticket:before {
  content: "\f145";
}
.fa-minus-square:before {
  content: "\f146";
}
.fa-minus-square-o:before {
  content: "\f147";
}
.fa-level-up:before {
  content: "\f148";
}
.fa-level-down:before {
  content: "\f149";
}
.fa-check-square:before {
  content: "\f14a";
}
.fa-pencil-square:before {
  content: "\f14b";
}
.fa-external-link-square:before {
  content: "\f14c";
}
.fa-share-square:before {
  content: "\f14d";
}
.fa-compass:before {
  content: "\f14e";
}
.fa-toggle-down:before,
.fa-caret-square-o-down:before {
  content: "\f150";
}
.fa-toggle-up:before,
.fa-caret-square-o-up:before {
  content: "\f151";
}
.fa-toggle-right:before,
.fa-caret-square-o-right:before {
  content: "\f152";
}
.fa-euro:before,
.fa-eur:before {
  content: "\f153";
}
.fa-gbp:before {
  content: "\f154";
}
.fa-dollar:before,
.fa-usd:before {
  content: "\f155";
}
.fa-rupee:before,
.fa-inr:before {
  content: "\f156";
}
.fa-cny:before,
.fa-rmb:before,
.fa-yen:before,
.fa-jpy:before {
  content: "\f157";
}
.fa-ruble:before,
.fa-rouble:before,
.fa-rub:before {
  content: "\f158";
}
.fa-won:before,
.fa-krw:before {
  content: "\f159";
}
.fa-bitcoin:before,
.fa-btc:before {
  content: "\f15a";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-sort-alpha-asc:before {
  content: "\f15d";
}
.fa-sort-alpha-desc:before {
  content: "\f15e";
}
.fa-sort-amount-asc:before {
  content: "\f160";
}
.fa-sort-amount-desc:before {
  content: "\f161";
}
.fa-sort-numeric-asc:before {
  content: "\f162";
}
.fa-sort-numeric-desc:before {
  content: "\f163";
}
.fa-thumbs-up:before {
  content: "\f164";
}
.fa-thumbs-down:before {
  content: "\f165";
}
.fa-youtube-square:before {
  content: "\f166";
}
.fa-youtube:before {
  content: "\f167";
}
.fa-xing:before {
  content: "\f168";
}
.fa-xing-square:before {
  content: "\f169";
}
.fa-youtube-play:before {
  content: "\f16a";
}
.fa-dropbox:before {
  content: "\f16b";
}
.fa-stack-overflow:before {
  content: "\f16c";
}
.fa-instagram:before {
  content: "\f16d";
}
.fa-flickr:before {
  content: "\f16e";
}
.fa-adn:before {
  content: "\f170";
}
.fa-bitbucket:before {
  content: "\f171";
}
.fa-bitbucket-square:before {
  content: "\f172";
}
.fa-tumblr:before {
  content: "\f173";
}
.fa-tumblr-square:before {
  content: "\f174";
}
.fa-long-arrow-down:before {
  content: "\f175";
}
.fa-long-arrow-up:before {
  content: "\f176";
}
.fa-long-arrow-left:before {
  content: "\f177";
}
.fa-long-arrow-right:before {
  content: "\f178";
}
.fa-apple:before {
  content: "\f179";
}
.fa-windows:before {
  content: "\f17a";
}
.fa-android:before {
  content: "\f17b";
}
.fa-linux:before {
  content: "\f17c";
}
.fa-dribbble:before {
  content: "\f17d";
}
.fa-skype:before {
  content: "\f17e";
}
.fa-foursquare:before {
  content: "\f180";
}
.fa-trello:before {
  content: "\f181";
}
.fa-female:before {
  content: "\f182";
}
.fa-male:before {
  content: "\f183";
}
.fa-gittip:before,
.fa-gratipay:before {
  content: "\f184";
}
.fa-sun-o:before {
  content: "\f185";
}
.fa-moon-o:before {
  content: "\f186";
}
.fa-archive:before {
  content: "\f187";
}
.fa-bug:before {
  content: "\f188";
}
.fa-vk:before {
  content: "\f189";
}
.fa-weibo:before {
  content: "\f18a";
}
.fa-renren:before {
  content: "\f18b";
}
.fa-pagelines:before {
  content: "\f18c";
}
.fa-stack-exchange:before {
  content: "\f18d";
}
.fa-arrow-circle-o-right:before {
  content: "\f18e";
}
.fa-arrow-circle-o-left:before {
  content: "\f190";
}
.fa-toggle-left:before,
.fa-caret-square-o-left:before {
  content: "\f191";
}
.fa-dot-circle-o:before {
  content: "\f192";
}
.fa-wheelchair:before {
  content: "\f193";
}
.fa-vimeo-square:before {
  content: "\f194";
}
.fa-turkish-lira:before,
.fa-try:before {
  content: "\f195";
}
.fa-plus-square-o:before {
  content: "\f196";
}
.fa-space-shuttle:before {
  content: "\f197";
}
.fa-slack:before {
  content: "\f198";
}
.fa-envelope-square:before {
  content: "\f199";
}
.fa-wordpress:before {
  content: "\f19a";
}
.fa-openid:before {
  content: "\f19b";
}
.fa-institution:before,
.fa-bank:before,
.fa-university:before {
  content: "\f19c";
}
.fa-mortar-board:before,
.fa-graduation-cap:before {
  content: "\f19d";
}
.fa-yahoo:before {
  content: "\f19e";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-reddit:before {
  content: "\f1a1";
}
.fa-reddit-square:before {
  content: "\f1a2";
}
.fa-stumbleupon-circle:before {
  content: "\f1a3";
}
.fa-stumbleupon:before {
  content: "\f1a4";
}
.fa-delicious:before {
  content: "\f1a5";
}
.fa-digg:before {
  content: "\f1a6";
}
.fa-pied-piper-pp:before {
  content: "\f1a7";
}
.fa-pied-piper-alt:before {
  content: "\f1a8";
}
.fa-drupal:before {
  content: "\f1a9";
}
.fa-joomla:before {
  content: "\f1aa";
}
.fa-language:before {
  content: "\f1ab";
}
.fa-fax:before {
  content: "\f1ac";
}
.fa-building:before {
  content: "\f1ad";
}
.fa-child:before {
  content: "\f1ae";
}
.fa-paw:before {
  content: "\f1b0";
}
.fa-spoon:before {
  content: "\f1b1";
}
.fa-cube:before {
  content: "\f1b2";
}
.fa-cubes:before {
  content: "\f1b3";
}
.fa-behance:before {
  content: "\f1b4";
}
.fa-behance-square:before {
  content: "\f1b5";
}
.fa-steam:before {
  content: "\f1b6";
}
.fa-steam-square:before {
  content: "\f1b7";
}
.fa-recycle:before {
  content: "\f1b8";
}
.fa-automobile:before,
.fa-car:before {
  content: "\f1b9";
}
.fa-cab:before,
.fa-taxi:before {
  content: "\f1ba";
}
.fa-tree:before {
  content: "\f1bb";
}
.fa-spotify:before {
  content: "\f1bc";
}
.fa-deviantart:before {
  content: "\f1bd";
}
.fa-soundcloud:before {
  content: "\f1be";
}
.fa-database:before {
  content: "\f1c0";
}
.fa-file-pdf-o:before {
  content: "\f1c1";
}
.fa-file-word-o:before {
  content: "\f1c2";
}
.fa-file-excel-o:before {
  content: "\f1c3";
}
.fa-file-powerpoint-o:before {
  content: "\f1c4";
}
.fa-file-photo-o:before,
.fa-file-picture-o:before,
.fa-file-image-o:before {
  content: "\f1c5";
}
.fa-file-zip-o:before,
.fa-file-archive-o:before {
  content: "\f1c6";
}
.fa-file-sound-o:before,
.fa-file-audio-o:before {
  content: "\f1c7";
}
.fa-file-movie-o:before,
.fa-file-video-o:before {
  content: "\f1c8";
}
.fa-file-code-o:before {
  content: "\f1c9";
}
.fa-vine:before {
  content: "\f1ca";
}
.fa-codepen:before {
  content: "\f1cb";
}
.fa-jsfiddle:before {
  content: "\f1cc";
}
.fa-life-bouy:before,
.fa-life-buoy:before,
.fa-life-saver:before,
.fa-support:before,
.fa-life-ring:before {
  content: "\f1cd";
}
.fa-circle-o-notch:before {
  content: "\f1ce";
}
.fa-ra:before,
.fa-resistance:before,
.fa-rebel:before {
  content: "\f1d0";
}
.fa-ge:before,
.fa-empire:before {
  content: "\f1d1";
}
.fa-git-square:before {
  content: "\f1d2";
}
.fa-git:before {
  content: "\f1d3";
}
.fa-y-combinator-square:before,
.fa-yc-square:before,
.fa-hacker-news:before {
  content: "\f1d4";
}
.fa-tencent-weibo:before {
  content: "\f1d5";
}
.fa-qq:before {
  content: "\f1d6";
}
.fa-wechat:before,
.fa-weixin:before {
  content: "\f1d7";
}
.fa-send:before,
.fa-paper-plane:before {
  content: "\f1d8";
}
.fa-send-o:before,
.fa-paper-plane-o:before {
  content: "\f1d9";
}
.fa-history:before {
  content: "\f1da";
}
.fa-circle-thin:before {
  content: "\f1db";
}
.fa-header:before {
  content: "\f1dc";
}
.fa-paragraph:before {
  content: "\f1dd";
}
.fa-sliders:before {
  content: "\f1de";
}
.fa-share-alt:before {
  content: "\f1e0";
}
.fa-share-alt-square:before {
  content: "\f1e1";
}
.fa-bomb:before {
  content: "\f1e2";
}
.fa-soccer-ball-o:before,
.fa-futbol-o:before {
  content: "\f1e3";
}
.fa-tty:before {
  content: "\f1e4";
}
.fa-binoculars:before {
  content: "\f1e5";
}
.fa-plug:before {
  content: "\f1e6";
}
.fa-slideshare:before {
  content: "\f1e7";
}
.fa-twitch:before {
  content: "\f1e8";
}
.fa-yelp:before {
  content: "\f1e9";
}
.fa-newspaper-o:before {
  content: "\f1ea";
}
.fa-wifi:before {
  content: "\f1eb";
}
.fa-calculator:before {
  content: "\f1ec";
}
.fa-paypal:before {
  content: "\f1ed";
}
.fa-google-wallet:before {
  content: "\f1ee";
}
.fa-cc-visa:before {
  content: "\f1f0";
}
.fa-cc-mastercard:before {
  content: "\f1f1";
}
.fa-cc-discover:before {
  content: "\f1f2";
}
.fa-cc-amex:before {
  content: "\f1f3";
}
.fa-cc-paypal:before {
  content: "\f1f4";
}
.fa-cc-stripe:before {
  content: "\f1f5";
}
.fa-bell-slash:before {
  content: "\f1f6";
}
.fa-bell-slash-o:before {
  content: "\f1f7";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-copyright:before {
  content: "\f1f9";
}
.fa-at:before {
  content: "\f1fa";
}
.fa-eyedropper:before {
  content: "\f1fb";
}
.fa-paint-brush:before {
  content: "\f1fc";
}
.fa-birthday-cake:before {
  content: "\f1fd";
}
.fa-area-chart:before {
  content: "\f1fe";
}
.fa-pie-chart:before {
  content: "\f200";
}
.fa-line-chart:before {
  content: "\f201";
}
.fa-lastfm:before {
  content: "\f202";
}
.fa-lastfm-square:before {
  content: "\f203";
}
.fa-toggle-off:before {
  content: "\f204";
}
.fa-toggle-on:before {
  content: "\f205";
}
.fa-bicycle:before {
  content: "\f206";
}
.fa-bus:before {
  content: "\f207";
}
.fa-ioxhost:before {
  content: "\f208";
}
.fa-angellist:before {
  content: "\f209";
}
.fa-cc:before {
  content: "\f20a";
}
.fa-shekel:before,
.fa-sheqel:before,
.fa-ils:before {
  content: "\f20b";
}
.fa-meanpath:before {
  content: "\f20c";
}
.fa-buysellads:before {
  content: "\f20d";
}
.fa-connectdevelop:before {
  content: "\f20e";
}
.fa-dashcube:before {
  content: "\f210";
}
.fa-forumbee:before {
  content: "\f211";
}
.fa-leanpub:before {
  content: "\f212";
}
.fa-sellsy:before {
  content: "\f213";
}
.fa-shirtsinbulk:before {
  content: "\f214";
}
.fa-simplybuilt:before {
  content: "\f215";
}
.fa-skyatlas:before {
  content: "\f216";
}
.fa-cart-plus:before {
  content: "\f217";
}
.fa-cart-arrow-down:before {
  content: "\f218";
}
.fa-diamond:before {
  content: "\f219";
}
.fa-ship:before {
  content: "\f21a";
}
.fa-user-secret:before {
  content: "\f21b";
}
.fa-motorcycle:before {
  content: "\f21c";
}
.fa-street-view:before {
  content: "\f21d";
}
.fa-heartbeat:before {
  content: "\f21e";
}
.fa-venus:before {
  content: "\f221";
}
.fa-mars:before {
  content: "\f222";
}
.fa-mercury:before {
  content: "\f223";
}
.fa-intersex:before,
.fa-transgender:before {
  content: "\f224";
}
.fa-transgender-alt:before {
  content: "\f225";
}
.fa-venus-double:before {
  content: "\f226";
}
.fa-mars-double:before {
  content: "\f227";
}
.fa-venus-mars:before {
  content: "\f228";
}
.fa-mars-stroke:before {
  content: "\f229";
}
.fa-mars-stroke-v:before {
  content: "\f22a";
}
.fa-mars-stroke-h:before {
  content: "\f22b";
}
.fa-neuter:before {
  content: "\f22c";
}
.fa-genderless:before {
  content: "\f22d";
}
.fa-facebook-official:before {
  content: "\f230";
}
.fa-pinterest-p:before {
  content: "\f231";
}
.fa-whatsapp:before {
  content: "\f232";
}
.fa-server:before {
  content: "\f233";
}
.fa-user-plus:before {
  content: "\f234";
}
.fa-user-times:before {
  content: "\f235";
}
.fa-hotel:before,
.fa-bed:before {
  content: "\f236";
}
.fa-viacoin:before {
  content: "\f237";
}
.fa-train:before {
  content: "\f238";
}
.fa-subway:before {
  content: "\f239";
}
.fa-medium:before {
  content: "\f23a";
}
.fa-yc:before,
.fa-y-combinator:before {
  content: "\f23b";
}
.fa-optin-monster:before {
  content: "\f23c";
}
.fa-opencart:before {
  content: "\f23d";
}
.fa-expeditedssl:before {
  content: "\f23e";
}
.fa-battery-4:before,
.fa-battery:before,
.fa-battery-full:before {
  content: "\f240";
}
.fa-battery-3:before,
.fa-battery-three-quarters:before {
  content: "\f241";
}
.fa-battery-2:before,
.fa-battery-half:before {
  content: "\f242";
}
.fa-battery-1:before,
.fa-battery-quarter:before {
  content: "\f243";
}
.fa-battery-0:before,
.fa-battery-empty:before {
  content: "\f244";
}
.fa-mouse-pointer:before {
  content: "\f245";
}
.fa-i-cursor:before {
  content: "\f246";
}
.fa-object-group:before {
  content: "\f247";
}
.fa-object-ungroup:before {
  content: "\f248";
}
.fa-sticky-note:before {
  content: "\f249";
}
.fa-sticky-note-o:before {
  content: "\f24a";
}
.fa-cc-jcb:before {
  content: "\f24b";
}
.fa-cc-diners-club:before {
  content: "\f24c";
}
.fa-clone:before {
  content: "\f24d";
}
.fa-balance-scale:before {
  content: "\f24e";
}
.fa-hourglass-o:before {
  content: "\f250";
}
.fa-hourglass-1:before,
.fa-hourglass-start:before {
  content: "\f251";
}
.fa-hourglass-2:before,
.fa-hourglass-half:before {
  content: "\f252";
}
.fa-hourglass-3:before,
.fa-hourglass-end:before {
  content: "\f253";
}
.fa-hourglass:before {
  content: "\f254";
}
.fa-hand-grab-o:before,
.fa-hand-rock-o:before {
  content: "\f255";
}
.fa-hand-stop-o:before,
.fa-hand-paper-o:before {
  content: "\f256";
}
.fa-hand-scissors-o:before {
  content: "\f257";
}
.fa-hand-lizard-o:before {
  content: "\f258";
}
.fa-hand-spock-o:before {
  content: "\f259";
}
.fa-hand-pointer-o:before {
  content: "\f25a";
}
.fa-hand-peace-o:before {
  content: "\f25b";
}
.fa-trademark:before {
  content: "\f25c";
}
.fa-registered:before {
  content: "\f25d";
}
.fa-creative-commons:before {
  content: "\f25e";
}
.fa-gg:before {
  content: "\f260";
}
.fa-gg-circle:before {
  content: "\f261";
}
.fa-tripadvisor:before {
  content: "\f262";
}
.fa-odnoklassniki:before {
  content: "\f263";
}
.fa-odnoklassniki-square:before {
  content: "\f264";
}
.fa-get-pocket:before {
  content: "\f265";
}
.fa-wikipedia-w:before {
  content: "\f266";
}
.fa-safari:before {
  content: "\f267";
}
.fa-chrome:before {
  content: "\f268";
}
.fa-firefox:before {
  content: "\f269";
}
.fa-opera:before {
  content: "\f26a";
}
.fa-internet-explorer:before {
  content: "\f26b";
}
.fa-tv:before,
.fa-television:before {
  content: "\f26c";
}
.fa-contao:before {
  content: "\f26d";
}
.fa-500px:before {
  content: "\f26e";
}
.fa-amazon:before {
  content: "\f270";
}
.fa-calendar-plus-o:before {
  content: "\f271";
}
.fa-calendar-minus-o:before {
  content: "\f272";
}
.fa-calendar-times-o:before {
  content: "\f273";
}
.fa-calendar-check-o:before {
  content: "\f274";
}
.fa-industry:before {
  content: "\f275";
}
.fa-map-pin:before {
  content: "\f276";
}
.fa-map-signs:before {
  content: "\f277";
}
.fa-map-o:before {
  content: "\f278";
}
.fa-map:before {
  content: "\f279";
}
.fa-commenting:before {
  content: "\f27a";
}
.fa-commenting-o:before {
  content: "\f27b";
}
.fa-houzz:before {
  content: "\f27c";
}
.fa-vimeo:before {
  content: "\f27d";
}
.fa-black-tie:before {
  content: "\f27e";
}
.fa-fonticons:before {
  content: "\f280";
}
.fa-reddit-alien:before {
  content: "\f281";
}
.fa-edge:before {
  content: "\f282";
}
.fa-credit-card-alt:before {
  content: "\f283";
}
.fa-codiepie:before {
  content: "\f284";
}
.fa-modx:before {
  content: "\f285";
}
.fa-fort-awesome:before {
  content: "\f286";
}
.fa-usb:before {
  content: "\f287";
}
.fa-product-hunt:before {
  content: "\f288";
}
.fa-mixcloud:before {
  content: "\f289";
}
.fa-scribd:before {
  content: "\f28a";
}
.fa-pause-circle:before {
  content: "\f28b";
}
.fa-pause-circle-o:before {
  content: "\f28c";
}
.fa-stop-circle:before {
  content: "\f28d";
}
.fa-stop-circle-o:before {
  content: "\f28e";
}
.fa-shopping-bag:before {
  content: "\f290";
}
.fa-shopping-basket:before {
  content: "\f291";
}
.fa-hashtag:before {
  content: "\f292";
}
.fa-bluetooth:before {
  content: "\f293";
}
.fa-bluetooth-b:before {
  content: "\f294";
}
.fa-percent:before {
  content: "\f295";
}
.fa-gitlab:before {
  content: "\f296";
}
.fa-wpbeginner:before {
  content: "\f297";
}
.fa-wpforms:before {
  content: "\f298";
}
.fa-envira:before {
  content: "\f299";
}
.fa-universal-access:before {
  content: "\f29a";
}
.fa-wheelchair-alt:before {
  content: "\f29b";
}
.fa-question-circle-o:before {
  content: "\f29c";
}
.fa-blind:before {
  content: "\f29d";
}
.fa-audio-description:before {
  content: "\f29e";
}
.fa-volume-control-phone:before {
  content: "\f2a0";
}
.fa-braille:before {
  content: "\f2a1";
}
.fa-assistive-listening-systems:before {
  content: "\f2a2";
}
.fa-asl-interpreting:before,
.fa-american-sign-language-interpreting:before {
  content: "\f2a3";
}
.fa-deafness:before,
.fa-hard-of-hearing:before,
.fa-deaf:before {
  content: "\f2a4";
}
.fa-glide:before {
  content: "\f2a5";
}
.fa-glide-g:before {
  content: "\f2a6";
}
.fa-signing:before,
.fa-sign-language:before {
  content: "\f2a7";
}
.fa-low-vision:before {
  content: "\f2a8";
}
.fa-viadeo:before {
  content: "\f2a9";
}
.fa-viadeo-square:before {
  content: "\f2aa";
}
.fa-snapchat:before {
  content: "\f2ab";
}
.fa-snapchat-ghost:before {
  content: "\f2ac";
}
.fa-snapchat-square:before {
  content: "\f2ad";
}
.fa-pied-piper:before {
  content: "\f2ae";
}
.fa-first-order:before {
  content: "\f2b0";
}
.fa-yoast:before {
  content: "\f2b1";
}
.fa-themeisle:before {
  content: "\f2b2";
}
.fa-google-plus-circle:before,
.fa-google-plus-official:before {
  content: "\f2b3";
}
.fa-fa:before,
.fa-font-awesome:before {
  content: "\f2b4";
}
.fa-handshake-o:before {
  content: "\f2b5";
}
.fa-envelope-open:before {
  content: "\f2b6";
}
.fa-envelope-open-o:before {
  content: "\f2b7";
}
.fa-linode:before {
  content: "\f2b8";
}
.fa-address-book:before {
  content: "\f2b9";
}
.fa-address-book-o:before {
  content: "\f2ba";
}
.fa-vcard:before,
.fa-address-card:before {
  content: "\f2bb";
}
.fa-vcard-o:before,
.fa-address-card-o:before {
  content: "\f2bc";
}
.fa-user-circle:before {
  content: "\f2bd";
}
.fa-user-circle-o:before {
  content: "\f2be";
}
.fa-user-o:before {
  content: "\f2c0";
}
.fa-id-badge:before {
  content: "\f2c1";
}
.fa-drivers-license:before,
.fa-id-card:before {
  content: "\f2c2";
}
.fa-drivers-license-o:before,
.fa-id-card-o:before {
  content: "\f2c3";
}
.fa-quora:before {
  content: "\f2c4";
}
.fa-free-code-camp:before {
  content: "\f2c5";
}
.fa-telegram:before {
  content: "\f2c6";
}
.fa-thermometer-4:before,
.fa-thermometer:before,
.fa-thermometer-full:before {
  content: "\f2c7";
}
.fa-thermometer-3:before,
.fa-thermometer-three-quarters:before {
  content: "\f2c8";
}
.fa-thermometer-2:before,
.fa-thermometer-half:before {
  content: "\f2c9";
}
.fa-thermometer-1:before,
.fa-thermometer-quarter:before {
  content: "\f2ca";
}
.fa-thermometer-0:before,
.fa-thermometer-empty:before {
  content: "\f2cb";
}
.fa-shower:before {
  content: "\f2cc";
}
.fa-bathtub:before,
.fa-s15:before,
.fa-bath:before {
  content: "\f2cd";
}
.fa-podcast:before {
  content: "\f2ce";
}
.fa-window-maximize:before {
  content: "\f2d0";
}
.fa-window-minimize:before {
  content: "\f2d1";
}
.fa-window-restore:before {
  content: "\f2d2";
}
.fa-times-rectangle:before,
.fa-window-close:before {
  content: "\f2d3";
}
.fa-times-rectangle-o:before,
.fa-window-close-o:before {
  content: "\f2d4";
}
.fa-bandcamp:before {
  content: "\f2d5";
}
.fa-grav:before {
  content: "\f2d6";
}
.fa-etsy:before {
  content: "\f2d7";
}
.fa-imdb:before {
  content: "\f2d8";
}
.fa-ravelry:before {
  content: "\f2d9";
}
.fa-eercast:before {
  content: "\f2da";
}
.fa-microchip:before {
  content: "\f2db";
}
.fa-snowflake-o:before {
  content: "\f2dc";
}
.fa-superpowers:before {
  content: "\f2dd";
}
.fa-wpexplorer:before {
  content: "\f2de";
}
.fa-meetup:before {
  content: "\f2e0";
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
/*!
*
* IPython base
*
*/
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
code {
  color: #000;
}
pre {
  font-size: inherit;
  line-height: inherit;
}
label {
  font-weight: normal;
}
/* Make the page background atleast 100% the height of the view port */
/* Make the page itself atleast 70% the height of the view port */
.border-box-sizing {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.corner-all {
  border-radius: 2px;
}
.no-padding {
  padding: 0px;
}
/* Flexible box model classes */
/* Taken from Alex Russell http://infrequently.org/2009/08/css-3-progress/ */
/* This file is a compatability layer.  It allows the usage of flexible box 
model layouts accross multiple browsers, including older browsers.  The newest,
universal implementation of the flexible box model is used when available (see
`Modern browsers` comments below).  Browsers that are known to implement this 
new spec completely include:

    Firefox 28.0+
    Chrome 29.0+
    Internet Explorer 11+ 
    Opera 17.0+

Browsers not listed, including Safari, are supported via the styling under the
`Old browsers` comments below.
*/
.hbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
.hbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.vbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.vbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.hbox.reverse,
.vbox.reverse,
.reverse {
  /* Old browsers */
  -webkit-box-direction: reverse;
  -moz-box-direction: reverse;
  box-direction: reverse;
  /* Modern browsers */
  flex-direction: row-reverse;
}
.hbox.box-flex0,
.vbox.box-flex0,
.box-flex0 {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
  width: auto;
}
.hbox.box-flex1,
.vbox.box-flex1,
.box-flex1 {
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex,
.vbox.box-flex,
.box-flex {
  /* Old browsers */
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex2,
.vbox.box-flex2,
.box-flex2 {
  /* Old browsers */
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  box-flex: 2;
  /* Modern browsers */
  flex: 2;
}
.box-group1 {
  /*  Deprecated */
  -webkit-box-flex-group: 1;
  -moz-box-flex-group: 1;
  box-flex-group: 1;
}
.box-group2 {
  /* Deprecated */
  -webkit-box-flex-group: 2;
  -moz-box-flex-group: 2;
  box-flex-group: 2;
}
.hbox.start,
.vbox.start,
.start {
  /* Old browsers */
  -webkit-box-pack: start;
  -moz-box-pack: start;
  box-pack: start;
  /* Modern browsers */
  justify-content: flex-start;
}
.hbox.end,
.vbox.end,
.end {
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
}
.hbox.center,
.vbox.center,
.center {
  /* Old browsers */
  -webkit-box-pack: center;
  -moz-box-pack: center;
  box-pack: center;
  /* Modern browsers */
  justify-content: center;
}
.hbox.baseline,
.vbox.baseline,
.baseline {
  /* Old browsers */
  -webkit-box-pack: baseline;
  -moz-box-pack: baseline;
  box-pack: baseline;
  /* Modern browsers */
  justify-content: baseline;
}
.hbox.stretch,
.vbox.stretch,
.stretch {
  /* Old browsers */
  -webkit-box-pack: stretch;
  -moz-box-pack: stretch;
  box-pack: stretch;
  /* Modern browsers */
  justify-content: stretch;
}
.hbox.align-start,
.vbox.align-start,
.align-start {
  /* Old browsers */
  -webkit-box-align: start;
  -moz-box-align: start;
  box-align: start;
  /* Modern browsers */
  align-items: flex-start;
}
.hbox.align-end,
.vbox.align-end,
.align-end {
  /* Old browsers */
  -webkit-box-align: end;
  -moz-box-align: end;
  box-align: end;
  /* Modern browsers */
  align-items: flex-end;
}
.hbox.align-center,
.vbox.align-center,
.align-center {
  /* Old browsers */
  -webkit-box-align: center;
  -moz-box-align: center;
  box-align: center;
  /* Modern browsers */
  align-items: center;
}
.hbox.align-baseline,
.vbox.align-baseline,
.align-baseline {
  /* Old browsers */
  -webkit-box-align: baseline;
  -moz-box-align: baseline;
  box-align: baseline;
  /* Modern browsers */
  align-items: baseline;
}
.hbox.align-stretch,
.vbox.align-stretch,
.align-stretch {
  /* Old browsers */
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  box-align: stretch;
  /* Modern browsers */
  align-items: stretch;
}
div.error {
  margin: 2em;
  text-align: center;
}
div.error > h1 {
  font-size: 500%;
  line-height: normal;
}
div.error > p {
  font-size: 200%;
  line-height: normal;
}
div.traceback-wrapper {
  text-align: left;
  max-width: 800px;
  margin: auto;
}
div.traceback-wrapper pre.traceback {
  max-height: 600px;
  overflow: auto;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
body {
  background-color: #fff;
  /* This makes sure that the body covers the entire window and needs to
       be in a different element than the display: box in wrapper below */
  position: absolute;
  left: 0px;
  right: 0px;
  top: 0px;
  bottom: 0px;
  overflow: visible;
}
body > #header {
  /* Initially hidden to prevent FLOUC */
  display: none;
  background-color: #fff;
  /* Display over codemirror */
  position: relative;
  z-index: 100;
}
body > #header #header-container {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  padding: 5px;
  padding-bottom: 5px;
  padding-top: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
body > #header .header-bar {
  width: 100%;
  height: 1px;
  background: #e7e7e7;
  margin-bottom: -1px;
}
@media print {
  body > #header {
    display: none !important;
  }
}
#header-spacer {
  width: 100%;
  visibility: hidden;
}
@media print {
  #header-spacer {
    display: none;
  }
}
#ipython_notebook {
  padding-left: 0px;
  padding-top: 1px;
  padding-bottom: 1px;
}
[dir="rtl"] #ipython_notebook {
  margin-right: 10px;
  margin-left: 0;
}
[dir="rtl"] #ipython_notebook.pull-left {
  float: right !important;
  float: right;
}
.flex-spacer {
  flex: 1;
}
#noscript {
  width: auto;
  padding-top: 16px;
  padding-bottom: 16px;
  text-align: center;
  font-size: 22px;
  color: red;
  font-weight: bold;
}
#ipython_notebook img {
  height: 28px;
}
#site {
  width: 100%;
  display: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  overflow: auto;
}
@media print {
  #site {
    height: auto !important;
  }
}
/* Smaller buttons */
.ui-button .ui-button-text {
  padding: 0.2em 0.8em;
  font-size: 77%;
}
input.ui-button {
  padding: 0.3em 0.9em;
}
span#kernel_logo_widget {
  margin: 0 10px;
}
span#login_widget {
  float: right;
}
[dir="rtl"] span#login_widget {
  float: left;
}
span#login_widget > .button,
#logout {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button:focus,
#logout:focus,
span#login_widget > .button.focus,
#logout.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
span#login_widget > .button:hover,
#logout:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active:hover,
#logout:active:hover,
span#login_widget > .button.active:hover,
#logout.active:hover,
.open > .dropdown-togglespan#login_widget > .button:hover,
.open > .dropdown-toggle#logout:hover,
span#login_widget > .button:active:focus,
#logout:active:focus,
span#login_widget > .button.active:focus,
#logout.active:focus,
.open > .dropdown-togglespan#login_widget > .button:focus,
.open > .dropdown-toggle#logout:focus,
span#login_widget > .button:active.focus,
#logout:active.focus,
span#login_widget > .button.active.focus,
#logout.active.focus,
.open > .dropdown-togglespan#login_widget > .button.focus,
.open > .dropdown-toggle#logout.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  background-image: none;
}
span#login_widget > .button.disabled:hover,
#logout.disabled:hover,
span#login_widget > .button[disabled]:hover,
#logout[disabled]:hover,
fieldset[disabled] span#login_widget > .button:hover,
fieldset[disabled] #logout:hover,
span#login_widget > .button.disabled:focus,
#logout.disabled:focus,
span#login_widget > .button[disabled]:focus,
#logout[disabled]:focus,
fieldset[disabled] span#login_widget > .button:focus,
fieldset[disabled] #logout:focus,
span#login_widget > .button.disabled.focus,
#logout.disabled.focus,
span#login_widget > .button[disabled].focus,
#logout[disabled].focus,
fieldset[disabled] span#login_widget > .button.focus,
fieldset[disabled] #logout.focus {
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button .badge,
#logout .badge {
  color: #fff;
  background-color: #333;
}
.nav-header {
  text-transform: none;
}
#header > span {
  margin-top: 10px;
}
.modal_stretch .modal-dialog {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 80vh;
}
.modal_stretch .modal-dialog .modal-body {
  max-height: calc(100vh - 200px);
  overflow: auto;
  flex: 1;
}
.modal-header {
  cursor: move;
}
@media (min-width: 768px) {
  .modal .modal-dialog {
    width: 700px;
  }
}
@media (min-width: 768px) {
  select.form-control {
    margin-left: 12px;
    margin-right: 12px;
  }
}
/*!
*
* IPython auth
*
*/
.center-nav {
  display: inline-block;
  margin-bottom: -4px;
}
[dir="rtl"] .center-nav form.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] .center-nav .navbar-text {
  float: right;
}
[dir="rtl"] .navbar-inner {
  text-align: right;
}
[dir="rtl"] div.text-left {
  text-align: right;
}
/*!
*
* IPython tree view
*
*/
/* We need an invisible input field on top of the sentense*/
/* "Drag file onto the list ..." */
.alternate_upload {
  background-color: none;
  display: inline;
}
.alternate_upload.form {
  padding: 0;
  margin: 0;
}
.alternate_upload input.fileinput {
  position: absolute;
  display: block;
  width: 100%;
  height: 100%;
  overflow: hidden;
  cursor: pointer;
  opacity: 0;
  z-index: 2;
}
.alternate_upload .btn-xs > input.fileinput {
  margin: -1px -5px;
}
.alternate_upload .btn-upload {
  position: relative;
  height: 22px;
}
::-webkit-file-upload-button {
  cursor: pointer;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
ul#tabs {
  margin-bottom: 4px;
}
ul#tabs a {
  padding-top: 6px;
  padding-bottom: 4px;
}
[dir="rtl"] ul#tabs.nav-tabs > li {
  float: right;
}
[dir="rtl"] ul#tabs.nav.nav-tabs {
  padding-right: 0;
}
ul.breadcrumb a:focus,
ul.breadcrumb a:hover {
  text-decoration: none;
}
ul.breadcrumb i.icon-home {
  font-size: 16px;
  margin-right: 4px;
}
ul.breadcrumb span {
  color: #5e5e5e;
}
.list_toolbar {
  padding: 4px 0 4px 0;
  vertical-align: middle;
}
.list_toolbar .tree-buttons {
  padding-top: 1px;
}
[dir="rtl"] .list_toolbar .tree-buttons .pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .list_toolbar .col-sm-4,
[dir="rtl"] .list_toolbar .col-sm-8 {
  float: right;
}
.dynamic-buttons {
  padding-top: 3px;
  display: inline-block;
}
.list_toolbar [class*="span"] {
  min-height: 24px;
}
.list_header {
  font-weight: bold;
  background-color: #EEE;
}
.list_placeholder {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
}
.list_container {
  margin-top: 4px;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 2px;
}
.list_container > div {
  border-bottom: 1px solid #ddd;
}
.list_container > div:hover .list-item {
  background-color: red;
}
.list_container > div:last-child {
  border: none;
}
.list_item:hover .list_item {
  background-color: #ddd;
}
.list_item a {
  text-decoration: none;
}
.list_item:hover {
  background-color: #fafafa;
}
.list_header > div,
.list_item > div {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
.list_header > div input,
.list_item > div input {
  margin-right: 7px;
  margin-left: 14px;
  vertical-align: text-bottom;
  line-height: 22px;
  position: relative;
  top: -1px;
}
.list_header > div .item_link,
.list_item > div .item_link {
  margin-left: -1px;
  vertical-align: baseline;
  line-height: 22px;
}
[dir="rtl"] .list_item > div input {
  margin-right: 0;
}
.new-file input[type=checkbox] {
  visibility: hidden;
}
.item_name {
  line-height: 22px;
  height: 24px;
}
.item_icon {
  font-size: 14px;
  color: #5e5e5e;
  margin-right: 7px;
  margin-left: 7px;
  line-height: 22px;
  vertical-align: baseline;
}
.item_modified {
  margin-right: 7px;
  margin-left: 7px;
}
[dir="rtl"] .item_modified.pull-right {
  float: left !important;
  float: left;
}
.item_buttons {
  line-height: 1em;
  margin-left: -5px;
}
.item_buttons .btn,
.item_buttons .btn-group,
.item_buttons .input-group {
  float: left;
}
.item_buttons > .btn,
.item_buttons > .btn-group,
.item_buttons > .input-group {
  margin-left: 5px;
}
.item_buttons .btn {
  min-width: 13ex;
}
.item_buttons .running-indicator {
  padding-top: 4px;
  color: #5cb85c;
}
.item_buttons .kernel-name {
  padding-top: 4px;
  color: #5bc0de;
  margin-right: 7px;
  float: left;
}
[dir="rtl"] .item_buttons.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .item_buttons .kernel-name {
  margin-left: 7px;
  float: right;
}
.toolbar_info {
  height: 24px;
  line-height: 24px;
}
.list_item input:not([type=checkbox]) {
  padding-top: 3px;
  padding-bottom: 3px;
  height: 22px;
  line-height: 14px;
  margin: 0px;
}
.highlight_text {
  color: blue;
}
#project_name {
  display: inline-block;
  padding-left: 7px;
  margin-left: -2px;
}
#project_name > .breadcrumb {
  padding: 0px;
  margin-bottom: 0px;
  background-color: transparent;
  font-weight: bold;
}
.sort_button {
  display: inline-block;
  padding-left: 7px;
}
[dir="rtl"] .sort_button.pull-right {
  float: left !important;
  float: left;
}
#tree-selector {
  padding-right: 0px;
}
#button-select-all {
  min-width: 50px;
}
[dir="rtl"] #button-select-all.btn {
  float: right ;
}
#select-all {
  margin-left: 7px;
  margin-right: 2px;
  margin-top: 2px;
  height: 16px;
}
[dir="rtl"] #select-all.pull-left {
  float: right !important;
  float: right;
}
.menu_icon {
  margin-right: 2px;
}
.tab-content .row {
  margin-left: 0px;
  margin-right: 0px;
}
.folder_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f114";
}
.folder_icon:before.fa-pull-left {
  margin-right: .3em;
}
.folder_icon:before.fa-pull-right {
  margin-left: .3em;
}
.folder_icon:before.pull-left {
  margin-right: .3em;
}
.folder_icon:before.pull-right {
  margin-left: .3em;
}
.notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
}
.notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.notebook_icon:before.pull-left {
  margin-right: .3em;
}
.notebook_icon:before.pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
  color: #5cb85c;
}
.running_notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before.pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.pull-right {
  margin-left: .3em;
}
.file_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f016";
  position: relative;
  top: -2px;
}
.file_icon:before.fa-pull-left {
  margin-right: .3em;
}
.file_icon:before.fa-pull-right {
  margin-left: .3em;
}
.file_icon:before.pull-left {
  margin-right: .3em;
}
.file_icon:before.pull-right {
  margin-left: .3em;
}
#notebook_toolbar .pull-right {
  padding-top: 0px;
  margin-right: -1px;
}
ul#new-menu {
  left: auto;
  right: 0;
}
#new-menu .dropdown-header {
  font-size: 10px;
  border-bottom: 1px solid #e5e5e5;
  padding: 0 0 3px;
  margin: -3px 20px 0;
}
.kernel-menu-icon {
  padding-right: 12px;
  width: 24px;
  content: "\f096";
}
.kernel-menu-icon:before {
  content: "\f096";
}
.kernel-menu-icon-current:before {
  content: "\f00c";
}
#tab_content {
  padding-top: 20px;
}
#running .panel-group .panel {
  margin-top: 3px;
  margin-bottom: 1em;
}
#running .panel-group .panel .panel-heading {
  background-color: #EEE;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
#running .panel-group .panel .panel-heading a:focus,
#running .panel-group .panel .panel-heading a:hover {
  text-decoration: none;
}
#running .panel-group .panel .panel-body {
  padding: 0px;
}
#running .panel-group .panel .panel-body .list_container {
  margin-top: 0px;
  margin-bottom: 0px;
  border: 0px;
  border-radius: 0px;
}
#running .panel-group .panel .panel-body .list_container .list_item {
  border-bottom: 1px solid #ddd;
}
#running .panel-group .panel .panel-body .list_container .list_item:last-child {
  border-bottom: 0px;
}
.delete-button {
  display: none;
}
.duplicate-button {
  display: none;
}
.rename-button {
  display: none;
}
.move-button {
  display: none;
}
.download-button {
  display: none;
}
.shutdown-button {
  display: none;
}
.dynamic-instructions {
  display: inline-block;
  padding-top: 4px;
}
/*!
*
* IPython text editor webapp
*
*/
.selected-keymap i.fa {
  padding: 0px 5px;
}
.selected-keymap i.fa:before {
  content: "\f00c";
}
#mode-menu {
  overflow: auto;
  max-height: 20em;
}
.edit_app #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.edit_app #menubar .navbar {
  /* Use a negative 1 bottom margin, so the border overlaps the border of the
    header */
  margin-bottom: -1px;
}
.dirty-indicator {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator.pull-left {
  margin-right: .3em;
}
.dirty-indicator.pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-dirty.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty.pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-clean.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f00c";
}
.dirty-indicator-clean:before.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.pull-right {
  margin-left: .3em;
}
#filename {
  font-size: 16pt;
  display: table;
  padding: 0px 5px;
}
#current-mode {
  padding-left: 5px;
  padding-right: 5px;
}
#texteditor-backdrop {
  padding-top: 20px;
  padding-bottom: 20px;
}
@media not print {
  #texteditor-backdrop {
    background-color: #EEE;
  }
}
@media print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container {
    padding: 0px;
    background-color: #fff;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
.CodeMirror-dialog {
  background-color: #fff;
}
/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area .rendered_html table {
  margin-left: 0;
  margin-right: 0;
}
div.output_area .rendered_html img {
  margin-left: 0;
  margin-right: 0;
}
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}
.rendered_html em {
  font-style: italic;
}
.rendered_html strong {
  font-weight: bold;
}
.rendered_html u {
  text-decoration: underline;
}
.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}
.rendered_html h1 {
  font-size: 185.7%;
  margin: 1.08em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h2 {
  font-size: 157.1%;
  margin: 1.27em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h3 {
  font-size: 128.6%;
  margin: 1.55em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h4 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h5 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h6 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}
.rendered_html ul {
  list-style: disc;
}
.rendered_html ul ul {
  list-style: square;
  margin-top: 0;
}
.rendered_html ul ul ul {
  list-style: circle;
}
.rendered_html ol {
  list-style: decimal;
}
.rendered_html ol ol {
  list-style: upper-alpha;
  margin-top: 0;
}
.rendered_html ol ol ol {
  list-style: lower-alpha;
}
.rendered_html ol ol ol ol {
  list-style: lower-roman;
}
.rendered_html ol ol ol ol ol {
  list-style: decimal;
}
.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}
.rendered_html hr {
  color: black;
  background-color: black;
}
.rendered_html pre {
  margin: 1em 2em;
  padding: 0px;
  background-color: #fff;
}
.rendered_html code {
  background-color: #eff0f1;
}
.rendered_html p code {
  padding: 1px 5px;
}
.rendered_html pre code {
  background-color: #fff;
}
.rendered_html pre,
.rendered_html code {
  border: 0;
  color: #000;
  font-size: 100%;
}
.rendered_html blockquote {
  margin: 1em 2em;
}
.rendered_html table {
  margin-left: auto;
  margin-right: auto;
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.rendered_html tr,
.rendered_html th,
.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.rendered_html th {
  font-weight: bold;
}
.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}
.rendered_html p {
  text-align: left;
}
.rendered_html * + p {
  margin-top: 1em;
}
.rendered_html img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,
.rendered_html svg {
  max-width: 100%;
  height: auto;
}
.rendered_html img.unconfined,
.rendered_html svg.unconfined {
  max-width: none;
}
.rendered_html .alert {
  margin-bottom: initial;
}
.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] .rendered_html p {
  text-align: right;
}
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered .rendered_html {
  overflow-x: auto;
  overflow-y: hidden;
}
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered .rendered_html td {
  max-width: none;
}
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
/*!
*
* IPython notebook webapp
*
*/
@media (max-width: 767px) {
  .notebook_app {
    padding-left: 0px;
    padding-right: 0px;
  }
}
#ipython-main-app {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook_panel {
  margin: 0px;
  padding: 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook {
  font-size: 14px;
  line-height: 20px;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
  /* This spaces the page away from the edge of the notebook area */
  padding-top: 20px;
  margin: 0px;
  outline: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  min-height: 100%;
}
@media not print {
  #notebook-container {
    padding: 15px;
    background-color: #fff;
    min-height: 0;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
@media print {
  #notebook-container {
    width: 100%;
  }
}
div.ui-widget-content {
  border: 1px solid #ababab;
  outline: none;
}
pre.dialog {
  background-color: #f7f7f7;
  border: 1px solid #ddd;
  border-radius: 2px;
  padding: 0.4em;
  padding-left: 2em;
}
p.dialog {
  padding: 0.2em;
}
/* Word-wrap output correctly.  This is the CSS3 spelling, though Firefox seems
   to not honor it correctly.  Webkit browsers (Chrome, rekonq, Safari) do.
 */
pre,
code,
kbd,
samp {
  white-space: pre-wrap;
}
#fonttest {
  font-family: monospace;
}
p {
  margin-bottom: 0;
}
.end_space {
  min-height: 100px;
  transition: height .2s ease;
}
.notebook_app > #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
@media not print {
  .notebook_app {
    background-color: #EEE;
  }
}
kbd {
  border-style: solid;
  border-width: 1px;
  box-shadow: none;
  margin: 2px;
  padding-left: 2px;
  padding-right: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
.jupyter-keybindings {
  padding: 1px;
  line-height: 24px;
  border-bottom: 1px solid gray;
}
.jupyter-keybindings input {
  margin: 0;
  padding: 0;
  border: none;
}
.jupyter-keybindings i {
  padding: 6px;
}
.well code {
  background-color: #ffffff;
  border-color: #ababab;
  border-width: 1px;
  border-style: solid;
  padding: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
/* CSS for the cell toolbar */
.celltoolbar {
  border: thin solid #CFCFCF;
  border-bottom: none;
  background: #EEE;
  border-radius: 2px 2px 0px 0px;
  width: 100%;
  height: 29px;
  padding-right: 4px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
  display: -webkit-flex;
}
@media print {
  .celltoolbar {
    display: none;
  }
}
.ctb_hideshow {
  display: none;
  vertical-align: bottom;
}
/* ctb_show is added to the ctb_hideshow div to show the cell toolbar.
   Cell toolbars are only shown when the ctb_global_show class is also set.
*/
.ctb_global_show .ctb_show.ctb_hideshow {
  display: block;
}
.ctb_global_show .ctb_show + .input_area,
.ctb_global_show .ctb_show + div.text_cell_input,
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border-top-right-radius: 0px;
  border-top-left-radius: 0px;
}
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border: 1px solid #cfcfcf;
}
.celltoolbar {
  font-size: 87%;
  padding-top: 3px;
}
.celltoolbar select {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  width: inherit;
  font-size: inherit;
  height: 22px;
  padding: 0px;
  display: inline-block;
}
.celltoolbar select:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.celltoolbar select::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.celltoolbar select:-ms-input-placeholder {
  color: #999;
}
.celltoolbar select::-webkit-input-placeholder {
  color: #999;
}
.celltoolbar select::-ms-expand {
  border: 0;
  background-color: transparent;
}
.celltoolbar select[disabled],
.celltoolbar select[readonly],
fieldset[disabled] .celltoolbar select {
  background-color: #eeeeee;
  opacity: 1;
}
.celltoolbar select[disabled],
fieldset[disabled] .celltoolbar select {
  cursor: not-allowed;
}
textarea.celltoolbar select {
  height: auto;
}
select.celltoolbar select {
  height: 30px;
  line-height: 30px;
}
textarea.celltoolbar select,
select[multiple].celltoolbar select {
  height: auto;
}
.celltoolbar label {
  margin-left: 5px;
  margin-right: 5px;
}
.tags_button_container {
  width: 100%;
  display: flex;
}
.tag-container {
  display: flex;
  flex-direction: row;
  flex-grow: 1;
  overflow: hidden;
  position: relative;
}
.tag-container > * {
  margin: 0 4px;
}
.remove-tag-btn {
  margin-left: 4px;
}
.tags-input {
  display: flex;
}
.cell-tag:last-child:after {
  content: "";
  position: absolute;
  right: 0;
  width: 40px;
  height: 100%;
  /* Fade to background color of cell toolbar */
  background: linear-gradient(to right, rgba(0, 0, 0, 0), #EEE);
}
.tags-input > * {
  margin-left: 4px;
}
.cell-tag,
.tags-input input,
.tags-input button {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  box-shadow: none;
  width: inherit;
  font-size: inherit;
  height: 22px;
  line-height: 22px;
  padding: 0px 4px;
  display: inline-block;
}
.cell-tag:focus,
.tags-input input:focus,
.tags-input button:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.cell-tag::-moz-placeholder,
.tags-input input::-moz-placeholder,
.tags-input button::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.cell-tag:-ms-input-placeholder,
.tags-input input:-ms-input-placeholder,
.tags-input button:-ms-input-placeholder {
  color: #999;
}
.cell-tag::-webkit-input-placeholder,
.tags-input input::-webkit-input-placeholder,
.tags-input button::-webkit-input-placeholder {
  color: #999;
}
.cell-tag::-ms-expand,
.tags-input input::-ms-expand,
.tags-input button::-ms-expand {
  border: 0;
  background-color: transparent;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
.cell-tag[readonly],
.tags-input input[readonly],
.tags-input button[readonly],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  background-color: #eeeeee;
  opacity: 1;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  cursor: not-allowed;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button {
  height: auto;
}
select.cell-tag,
select.tags-input input,
select.tags-input button {
  height: 30px;
  line-height: 30px;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button,
select[multiple].cell-tag,
select[multiple].tags-input input,
select[multiple].tags-input button {
  height: auto;
}
.cell-tag,
.tags-input button {
  padding: 0px 4px;
}
.cell-tag {
  background-color: #fff;
  white-space: nowrap;
}
.tags-input input[type=text]:focus {
  outline: none;
  box-shadow: none;
  border-color: #ccc;
}
.completions {
  position: absolute;
  z-index: 110;
  overflow: hidden;
  border: 1px solid #ababab;
  border-radius: 2px;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  line-height: 1;
}
.completions select {
  background: white;
  outline: none;
  border: none;
  padding: 0px;
  margin: 0px;
  overflow: auto;
  font-family: monospace;
  font-size: 110%;
  color: #000;
  width: auto;
}
.completions select option.context {
  color: #286090;
}
#kernel_logo_widget .current_kernel_logo {
  display: none;
  margin-top: -1px;
  margin-bottom: -1px;
  width: 32px;
  height: 32px;
}
[dir="rtl"] #kernel_logo_widget {
  float: left !important;
  float: left;
}
.modal .modal-body .move-path {
  display: flex;
  flex-direction: row;
  justify-content: space;
  align-items: center;
}
.modal .modal-body .move-path .server-root {
  padding-right: 20px;
}
.modal .modal-body .move-path .path-input {
  flex: 1;
}
#menubar {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  margin-top: 1px;
}
#menubar .navbar {
  border-top: 1px;
  border-radius: 0px 0px 2px 2px;
  margin-bottom: 0px;
}
#menubar .navbar-toggle {
  float: left;
  padding-top: 7px;
  padding-bottom: 7px;
  border: none;
}
#menubar .navbar-collapse {
  clear: left;
}
[dir="rtl"] #menubar .navbar-toggle {
  float: right;
}
[dir="rtl"] #menubar .navbar-collapse {
  clear: right;
}
[dir="rtl"] #menubar .navbar-nav {
  float: right;
}
[dir="rtl"] #menubar .nav {
  padding-right: 0px;
}
[dir="rtl"] #menubar .navbar-nav > li {
  float: right;
}
[dir="rtl"] #menubar .navbar-right {
  float: left !important;
}
[dir="rtl"] ul.dropdown-menu {
  text-align: right;
  left: auto;
}
[dir="rtl"] ul#new-menu.dropdown-menu {
  right: auto;
  left: 0;
}
.nav-wrapper {
  border-bottom: 1px solid #e7e7e7;
}
i.menu-icon {
  padding-top: 4px;
}
[dir="rtl"] i.menu-icon.pull-right {
  float: left !important;
  float: left;
}
ul#help_menu li a {
  overflow: hidden;
  padding-right: 2.2em;
}
ul#help_menu li a i {
  margin-right: -1.2em;
}
[dir="rtl"] ul#help_menu li a {
  padding-left: 2.2em;
}
[dir="rtl"] ul#help_menu li a i {
  margin-right: 0;
  margin-left: -1.2em;
}
[dir="rtl"] ul#help_menu li a i.pull-right {
  float: left !important;
  float: left;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu > .dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
}
[dir="rtl"] .dropdown-submenu > .dropdown-menu {
  right: 100%;
  margin-right: -1px;
}
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
.dropdown-submenu > a:after {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  content: "\f0da";
  float: right;
  color: #333333;
  margin-top: 2px;
  margin-right: -10px;
}
.dropdown-submenu > a:after.fa-pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.fa-pull-right {
  margin-left: .3em;
}
.dropdown-submenu > a:after.pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.pull-right {
  margin-left: .3em;
}
[dir="rtl"] .dropdown-submenu > a:after {
  float: left;
  content: "\f0d9";
  margin-right: 0;
  margin-left: -10px;
}
.dropdown-submenu:hover > a:after {
  color: #262626;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left > .dropdown-menu {
  left: -100%;
  margin-left: 10px;
}
#notification_area {
  float: right !important;
  float: right;
  z-index: 10;
}
[dir="rtl"] #notification_area {
  float: left !important;
  float: left;
}
.indicator_area {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] .indicator_area {
  float: left !important;
  float: left;
}
#kernel_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  border-left: 1px solid;
}
#kernel_indicator .kernel_indicator_name {
  padding-left: 5px;
  padding-right: 5px;
}
[dir="rtl"] #kernel_indicator {
  float: left !important;
  float: left;
  border-left: 0;
  border-right: 1px solid;
}
#modal_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] #modal_indicator {
  float: left !important;
  float: left;
}
#readonly-indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  margin-top: 2px;
  margin-bottom: 0px;
  margin-left: 0px;
  margin-right: 0px;
  display: none;
}
.modal_indicator:before {
  width: 1.28571429em;
  text-align: center;
}
.edit_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f040";
}
.edit_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.edit_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: ' ';
}
.command_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f10c";
}
.kernel_idle_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f111";
}
.kernel_busy_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f1e2";
}
.kernel_dead_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f127";
}
.kernel_disconnected_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.pull-right {
  margin-left: .3em;
}
.notification_widget {
  color: #777;
  z-index: 10;
  background: rgba(240, 240, 240, 0.5);
  margin-right: 4px;
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget:focus,
.notification_widget.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.notification_widget:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active:hover,
.notification_widget.active:hover,
.open > .dropdown-toggle.notification_widget:hover,
.notification_widget:active:focus,
.notification_widget.active:focus,
.open > .dropdown-toggle.notification_widget:focus,
.notification_widget:active.focus,
.notification_widget.active.focus,
.open > .dropdown-toggle.notification_widget.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  background-image: none;
}
.notification_widget.disabled:hover,
.notification_widget[disabled]:hover,
fieldset[disabled] .notification_widget:hover,
.notification_widget.disabled:focus,
.notification_widget[disabled]:focus,
fieldset[disabled] .notification_widget:focus,
.notification_widget.disabled.focus,
.notification_widget[disabled].focus,
fieldset[disabled] .notification_widget.focus {
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget .badge {
  color: #fff;
  background-color: #333;
}
.notification_widget.warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning:focus,
.notification_widget.warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.notification_widget.warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active:hover,
.notification_widget.warning.active:hover,
.open > .dropdown-toggle.notification_widget.warning:hover,
.notification_widget.warning:active:focus,
.notification_widget.warning.active:focus,
.open > .dropdown-toggle.notification_widget.warning:focus,
.notification_widget.warning:active.focus,
.notification_widget.warning.active.focus,
.open > .dropdown-toggle.notification_widget.warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  background-image: none;
}
.notification_widget.warning.disabled:hover,
.notification_widget.warning[disabled]:hover,
fieldset[disabled] .notification_widget.warning:hover,
.notification_widget.warning.disabled:focus,
.notification_widget.warning[disabled]:focus,
fieldset[disabled] .notification_widget.warning:focus,
.notification_widget.warning.disabled.focus,
.notification_widget.warning[disabled].focus,
fieldset[disabled] .notification_widget.warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.notification_widget.success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success:focus,
.notification_widget.success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.notification_widget.success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active:hover,
.notification_widget.success.active:hover,
.open > .dropdown-toggle.notification_widget.success:hover,
.notification_widget.success:active:focus,
.notification_widget.success.active:focus,
.open > .dropdown-toggle.notification_widget.success:focus,
.notification_widget.success:active.focus,
.notification_widget.success.active.focus,
.open > .dropdown-toggle.notification_widget.success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  background-image: none;
}
.notification_widget.success.disabled:hover,
.notification_widget.success[disabled]:hover,
fieldset[disabled] .notification_widget.success:hover,
.notification_widget.success.disabled:focus,
.notification_widget.success[disabled]:focus,
fieldset[disabled] .notification_widget.success:focus,
.notification_widget.success.disabled.focus,
.notification_widget.success[disabled].focus,
fieldset[disabled] .notification_widget.success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.notification_widget.info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info:focus,
.notification_widget.info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.notification_widget.info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active:hover,
.notification_widget.info.active:hover,
.open > .dropdown-toggle.notification_widget.info:hover,
.notification_widget.info:active:focus,
.notification_widget.info.active:focus,
.open > .dropdown-toggle.notification_widget.info:focus,
.notification_widget.info:active.focus,
.notification_widget.info.active.focus,
.open > .dropdown-toggle.notification_widget.info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  background-image: none;
}
.notification_widget.info.disabled:hover,
.notification_widget.info[disabled]:hover,
fieldset[disabled] .notification_widget.info:hover,
.notification_widget.info.disabled:focus,
.notification_widget.info[disabled]:focus,
fieldset[disabled] .notification_widget.info:focus,
.notification_widget.info.disabled.focus,
.notification_widget.info[disabled].focus,
fieldset[disabled] .notification_widget.info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.notification_widget.danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger:focus,
.notification_widget.danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.notification_widget.danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active:hover,
.notification_widget.danger.active:hover,
.open > .dropdown-toggle.notification_widget.danger:hover,
.notification_widget.danger:active:focus,
.notification_widget.danger.active:focus,
.open > .dropdown-toggle.notification_widget.danger:focus,
.notification_widget.danger:active.focus,
.notification_widget.danger.active.focus,
.open > .dropdown-toggle.notification_widget.danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  background-image: none;
}
.notification_widget.danger.disabled:hover,
.notification_widget.danger[disabled]:hover,
fieldset[disabled] .notification_widget.danger:hover,
.notification_widget.danger.disabled:focus,
.notification_widget.danger[disabled]:focus,
fieldset[disabled] .notification_widget.danger:focus,
.notification_widget.danger.disabled.focus,
.notification_widget.danger[disabled].focus,
fieldset[disabled] .notification_widget.danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger .badge {
  color: #d9534f;
  background-color: #fff;
}
div#pager {
  background-color: #fff;
  font-size: 14px;
  line-height: 20px;
  overflow: hidden;
  display: none;
  position: fixed;
  bottom: 0px;
  width: 100%;
  max-height: 50%;
  padding-top: 8px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  /* Display over codemirror */
  z-index: 100;
  /* Hack which prevents jquery ui resizable from changing top. */
  top: auto !important;
}
div#pager pre {
  line-height: 1.21429em;
  color: #000;
  background-color: #f7f7f7;
  padding: 0.4em;
}
div#pager #pager-button-area {
  position: absolute;
  top: 8px;
  right: 20px;
}
div#pager #pager-contents {
  position: relative;
  overflow: auto;
  width: 100%;
  height: 100%;
}
div#pager #pager-contents #pager-container {
  position: relative;
  padding: 15px 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
div#pager .ui-resizable-handle {
  top: 0px;
  height: 8px;
  background: #f7f7f7;
  border-top: 1px solid #cfcfcf;
  border-bottom: 1px solid #cfcfcf;
  /* This injects handle bars (a short, wide = symbol) for 
        the resize handle. */
}
div#pager .ui-resizable-handle::after {
  content: '';
  top: 2px;
  left: 50%;
  height: 3px;
  width: 30px;
  margin-left: -15px;
  position: absolute;
  border-top: 1px solid #cfcfcf;
}
.quickhelp {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  line-height: 1.8em;
}
.shortcut_key {
  display: inline-block;
  width: 21ex;
  text-align: right;
  font-family: monospace;
}
.shortcut_descr {
  display: inline-block;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
span.save_widget {
  height: 30px;
  margin-top: 4px;
  display: flex;
  justify-content: flex-start;
  align-items: baseline;
  width: 50%;
  flex: 1;
}
span.save_widget span.filename {
  height: 100%;
  line-height: 1em;
  margin-left: 16px;
  border: none;
  font-size: 146.5%;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  border-radius: 2px;
}
span.save_widget span.filename:hover {
  background-color: #e6e6e6;
}
[dir="rtl"] span.save_widget.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] span.save_widget span.filename {
  margin-left: 0;
  margin-right: 16px;
}
span.checkpoint_status,
span.autosave_status {
  font-size: small;
  white-space: nowrap;
  padding: 0 5px;
}
@media (max-width: 767px) {
  span.save_widget {
    font-size: small;
    padding: 0 0 0 5px;
  }
  span.checkpoint_status,
  span.autosave_status {
    display: none;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  span.checkpoint_status {
    display: none;
  }
  span.autosave_status {
    font-size: x-small;
  }
}
.toolbar {
  padding: 0px;
  margin-left: -5px;
  margin-top: 2px;
  margin-bottom: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.toolbar select,
.toolbar label {
  width: auto;
  vertical-align: middle;
  margin-right: 2px;
  margin-bottom: 0px;
  display: inline;
  font-size: 92%;
  margin-left: 0.3em;
  margin-right: 0.3em;
  padding: 0px;
  padding-top: 3px;
}
.toolbar .btn {
  padding: 2px 8px;
}
.toolbar .btn-group {
  margin-top: 0px;
  margin-left: 5px;
}
.toolbar-btn-label {
  margin-left: 6px;
}
#maintoolbar {
  margin-bottom: -3px;
  margin-top: -8px;
  border: 0px;
  min-height: 27px;
  margin-left: 0px;
  padding-top: 11px;
  padding-bottom: 3px;
}
#maintoolbar .navbar-text {
  float: none;
  vertical-align: middle;
  text-align: right;
  margin-left: 5px;
  margin-right: 0px;
  margin-top: 0px;
}
.select-xs {
  height: 24px;
}
[dir="rtl"] .btn-group > .btn,
.btn-group-vertical > .btn {
  float: right;
}
.pulse,
.dropdown-menu > li > a.pulse,
li.pulse > a.dropdown-toggle,
li.pulse.open > a.dropdown-toggle {
  background-color: #F37626;
  color: white;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
/** WARNING IF YOU ARE EDITTING THIS FILE, if this is a .css file, It has a lot
 * of chance of beeing generated from the ../less/[samename].less file, you can
 * try to get back the less file by reverting somme commit in history
 **/
/*
 * We'll try to get something pretty, so we
 * have some strange css to have the scroll bar on
 * the left with fix button on the top right of the tooltip
 */
@-moz-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-moz-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/*properties of tooltip after "expand"*/
.bigtooltip {
  overflow: auto;
  height: 200px;
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
}
/*properties of tooltip before "expand"*/
.smalltooltip {
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
  text-overflow: ellipsis;
  overflow: hidden;
  height: 80px;
}
.tooltipbuttons {
  position: absolute;
  padding-right: 15px;
  top: 0px;
  right: 0px;
}
.tooltiptext {
  /*avoid the button to overlap on some docstring*/
  padding-right: 30px;
}
.ipython_tooltip {
  max-width: 700px;
  /*fade-in animation when inserted*/
  -webkit-animation: fadeOut 400ms;
  -moz-animation: fadeOut 400ms;
  animation: fadeOut 400ms;
  -webkit-animation: fadeIn 400ms;
  -moz-animation: fadeIn 400ms;
  animation: fadeIn 400ms;
  vertical-align: middle;
  background-color: #f7f7f7;
  overflow: visible;
  border: #ababab 1px solid;
  outline: none;
  padding: 3px;
  margin: 0px;
  padding-left: 7px;
  font-family: monospace;
  min-height: 50px;
  -moz-box-shadow: 0px 6px 10px -1px #adadad;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
}
.ipython_tooltip a {
  float: right;
}
.ipython_tooltip .tooltiptext pre {
  border: 0;
  border-radius: 0;
  font-size: 100%;
  background-color: #f7f7f7;
}
.pretooltiparrow {
  left: 0px;
  margin: 0px;
  top: -16px;
  width: 40px;
  height: 16px;
  overflow: hidden;
  position: absolute;
}
.pretooltiparrow:before {
  background-color: #f7f7f7;
  border: 1px #ababab solid;
  z-index: 11;
  content: "";
  position: absolute;
  left: 15px;
  top: 10px;
  width: 25px;
  height: 25px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}
ul.typeahead-list i {
  margin-left: -10px;
  width: 18px;
}
[dir="rtl"] ul.typeahead-list i {
  margin-left: 0;
  margin-right: -10px;
}
ul.typeahead-list {
  max-height: 80vh;
  overflow: auto;
}
ul.typeahead-list > li > a {
  /** Firefox bug **/
  /* see https://github.com/jupyter/notebook/issues/559 */
  white-space: normal;
}
ul.typeahead-list  > li > a.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .typeahead-list {
  text-align: right;
}
.cmd-palette .modal-body {
  padding: 7px;
}
.cmd-palette form {
  background: white;
}
.cmd-palette input {
  outline: none;
}
.no-shortcut {
  min-width: 20px;
  color: transparent;
}
[dir="rtl"] .no-shortcut.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .command-shortcut.pull-right {
  float: left !important;
  float: left;
}
.command-shortcut:before {
  content: "(command mode)";
  padding-right: 3px;
  color: #777777;
}
.edit-shortcut:before {
  content: "(edit)";
  padding-right: 3px;
  color: #777777;
}
[dir="rtl"] .edit-shortcut.pull-right {
  float: left !important;
  float: left;
}
#find-and-replace #replace-preview .match,
#find-and-replace #replace-preview .insert {
  background-color: #BBDEFB;
  border-color: #90CAF9;
  border-style: solid;
  border-width: 1px;
  border-radius: 0px;
}
[dir="ltr"] #find-and-replace .input-group-btn + .form-control {
  border-left: none;
}
[dir="rtl"] #find-and-replace .input-group-btn + .form-control {
  border-right: none;
}
#find-and-replace #replace-preview .replace .match {
  background-color: #FFCDD2;
  border-color: #EF9A9A;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .insert {
  background-color: #C8E6C9;
  border-color: #A5D6A7;
  border-radius: 0px;
}
#find-and-replace #replace-preview {
  max-height: 60vh;
  overflow: auto;
}
#find-and-replace #replace-preview pre {
  padding: 5px 10px;
}
.terminal-app {
  background: #EEE;
}
.terminal-app #header {
  background: #fff;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.terminal-app .terminal {
  width: 100%;
  float: left;
  font-family: monospace;
  color: white;
  background: black;
  padding: 0.4em;
  border-radius: 2px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
}
.terminal-app .terminal,
.terminal-app .terminal dummy-screen {
  line-height: 1em;
  font-size: 14px;
}
.terminal-app .terminal .xterm-rows {
  padding: 10px;
}
.terminal-app .terminal-cursor {
  color: black;
  background: white;
}
.terminal-app #terminado-container {
  margin-top: 20px;
}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
<style type="text/css">
    
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="TOC"></a></p>
<h1 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents">&#182;</a></h1><p><a href="#Introduction">Introduction</a></p>
<p><a href="#CollectingData">Collecting the Race Data</a></p>
<p><a href = "#ibu_data_collection">Collecting the IBU Cup Sprint Data</a></p>
<p><a href = "#removing_penalized_racers">Deleting Bad Racer Data</a></p>
<p><a href="#CollectingCourseData">Collecting the Course Data</a></p>
<p><a href="#CollectingWeatherData">Collecting the Weather Data</a></p>
<p><a href = "#ibu_course_and_weather">Collecting IBU Cup course and weather data</a></p>
<p><a href = "#data_corrections">Adjustments to course and weather data</a></p>
<p><a href="#ExploringRelationships">Exploring Relationships</a></p>
<p><a href="#ExploringRelationshipSpeed">Effect of Conditions on Speed</a></p>
<!--<a href = "#quantifying_snow_data">Quantifying snow and weather condition data</a>-->

<p><a href="#EvaluatingSpeedImpacts">Evaluating Impacts on Speed</a></p>
<p><a href="#ExploringRelationshipAccuracy">Effect of Conditions on Shooting Accuracy</a></p>
<p><a href="#EvaluatingAccuracyImpacts">Evaluating Impacts on Shooting Accuracy</a></p>
<p><a href="#ExploringRelationshipRange">Effect of Conditions on Range Times</a></p>
<p><a href="#EvaluatingRangeImpacts">Evaluating Impacts on Range Times</a></p>
<p><a href="#EvaluatingPenaltyImpacts">Evaluating Impacts on Penalty Loop Times</a></p>
<p><a href = "#handing_off">Handing off to the next notebook</a></p>
<!--[Collecting Data by Racer](#CollectingDataByRacer) [Weighting the Races](#WeightingtheRaces) [Similarities for Speed](#SimilarityforSpeed) [Similarities for Prone Accuracy](#SimilarityforProneAcc) [Similarities for Standing Accuracy](#SimilarityforStandingAcc) [Similarities for Prone Range](#SimilarityforProneRange) [Similarities for Standing Range](#SimilarityforStandingRange) [Similarities for Prone Penalties](#SimilarityforPronePen) [Similarities for Standing Penalties](#SimilarityforStandingPen)-->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="Introduction"></a></p>
<h1 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h1><p>The biathlon is a winter individual sport that consists of alternating stints of cross country skiing and target shooting. There are four major event types (not including relays) which exist in both men's and women's versions: sprint, pursuit, individual, and mass start. Of these, the sprint is the most frequently run, and typically has the largest number of competitors. (Pursuit and mass start both limit the number of competitors in a race in order to avoid overcrowding at the shooting range, while individual is run only a few times per season.)</p>
<p>The men's sprint race consists of a roughly 3300m ski loop (due to the fact that these events take place outside, there is some variation in this distance) followed by 5 shots in a prone position, then another 3300m ski loop followed by 5 shots in a standing position, and finally another 3300m ski loop before the finish line. Each missed shot requires the biathlete to ski a 150m penalty lap before continuing with the course. For the sprint, racers leave the start gate at 30 second intervals, which means that they are not in direct competition with each other.</p>
<p>There are two levels of international biathlon competition, the higher of the two is the World Cup circuit, the other is the IBU (International Biathlon Union) Cup circuit. Most biathletes start their careers on the IBU Cup circuit before the most successful of them move up to compete on the World Cup circut. In this project, I am be interested in making predictions about outcomes of World Cup events, in part because the athletes who don't move up to the World Cup circuit tend not to compete for more than a few seasons, however, I will be collecting data from IBU Cup races as well in order to have data about each racer from the beginning of their career.</p>
<p>In this project, I hope to explore the effects of different conditions (snow, temperature, amount of climb) on the results of men's sprint races, as well as to use the results of earlier races to make some predictions about the outcomes of later races.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># First a cell to prepare the notebook.</span>
<span class="c1"># special IPython command to prepare the notebook for matplotlib</span>
<span class="o">%</span><span class="k">matplotlib</span> inline 

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>

<span class="c1"># And the additional modules that I&#39;ve used</span>

<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">PyPDF2</span> <span class="kn">import</span> <span class="n">PdfFileReader</span>
<span class="kn">from</span> <span class="nn">tabula</span> <span class="kn">import</span> <span class="n">read_pdf</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="kn">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">re</span>


<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color_codes</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1">#import requests</span>
<span class="c1">#from pattern import web</span>
<span class="c1">#from fnmatch import fnmatch</span>
<span class="c1">#import math</span>
<span class="c1">#import fnmatch</span>
<span class="c1">#import os</span>
<span class="c1">#import sklearn</span>

<span class="c1">#from sklearn.model_selection import train_test_split</span>
<span class="c1">#from sklearn.ensemble import RandomForestRegressor</span>
<span class="c1">#from sklearn.datasets import make_regression</span>
<span class="c1">#from sklearn.ensemble import AdaBoostRegressor</span>
<span class="c1">#from sklearn.tree import DecisionTreeRegressor</span>

<span class="c1">#from sklearn.linear_model import Lasso</span>
<span class="c1">#from sklearn.linear_model import LassoCV</span>
<span class="c1">#from sklearn.linear_model import Ridge</span>
<span class="c1">#from sklearn.preprocessing import PolynomialFeatures</span>

<span class="c1">#from sklearn.model_selection import GridSearchCV</span>
<span class="c1">#from sklearn import linear_model</span>
<span class="c1">#from sklearn.ensemble import RandomForestClassifier</span>
<span class="c1">#from sklearn.datasets import make_classification</span>
<span class="c1">#from sklearn.linear_model import ElasticNet</span>

<span class="c1">#import joblib</span>

<span class="c1">#import matplotlib as mpl</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="CollectingData"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="CollectingData"></a></p>
<h2 id="Collecting-the-race-data">Collecting the race data<a class="anchor-link" href="#Collecting-the-race-data">&#182;</a></h2><p>The first step, obviously, was to collect the data. As it turned out, this was more difficult than I had envisioned, because the results of the races were stored in pdf files which needed to be downloaded and read using <a href="https://blog.chezo.uno/tabula-py-extract-table-from-pdf-into-python-dataframe-6c7acfa5f302">tabula-py</a>. To further complicate things, the [International Biathlon Union's results website}(<a href="https://biathlonresults.com">https://biathlonresults.com</a>) buries access to the pdf files in several layers of java code, which makes downloading the source code useless. Eventually I was able to discover that the pdf files of the competition results could be accessed directly using urls that looked like this:</p>
<p><a href="https://ibu.blob.core.windows.net/docs/1617/BT/SWRL/CP04/SMSP/BT_C77B_1.0.pdf">https://ibu.blob.core.windows.net/docs/1617/BT/SWRL/CP04/SMSP/BT_C77B_1.0.pdf</a></p>
<p>or more generally, like:</p>
<p>https: //ibu.blob.core.windows. net/docs/<font color=red>season</font>/BT/SWRL/<font color=red>event</font>/<font color=red>race</font>/BT_C77B_1.0.pdf</p>
<p>In order to retrieve these pdf files and store the data that I wanted from them in a form that was both accessible and useful for me, I used the following group of functions:</p>
<ol>
<li><a href = "#get_analysis_file">```get_analysis_file```</a>: This function takes the season, event, and type of a given World Cup race, and finds the url of the pdf file containing the competition analysis data. It then retrieves the pdf and stores it on the hard drive as biathlon.pdf.</li>
<li><a href = "#flatten_row">```flatten_row```</a>: This function takes a row from the tabula-py reading of a biathlon.pdf file and returns it as a list of values.</li>
<li><a href = "#competition_analysis_splitSP">```competition_analysis_splitSP```</a>: This function takes a the dataframe produced by reading a single page of a competition analysis pdf using tabula-py, along with the year and event in which the race was held. It then parses it as follows:<ul>
<li>First, eliminate any racers found at the end of the page who were disqualified, abandonned the race partway through, or did not start. Since these racers are listed at the very end of the file, any subsequent pages of the pdf can be disregarded.</li>
<li>Find all rows in which the word "Cumulative" occurs. These serve as anchor rows that allow us to locate all the other needed information.</li>
<li>Get the names of the competitors on the given page. The rows containing this information can be found directly above the rows with "Cumulative" in them. These will make up the first column of the dataframe.</li>
<li>Get the shooting times and missed shots. The rows containing this information are found two rows after the anchor rows. Add these columns to the dataframe.</li>
<li>Get the times for the individual course loops. The rows containing this information are found four rows after the anchor rows. Add these columns to the dataframe.</li>
<li>Get the range times. The rows containing this information are found three rows after the anchor rows. Add these columns to the dataframe.</li>
<li>For seasons beginning with 2011-2012, get the penalty times. The rows containing this information are found five rows after the anchor rows. Add these columns to the dataframe. (Note that prior to the 2011-2012 season, the penalty times are included in the range times.)</li>
</ul>
</li>
<li><a href = "#competition_analysis_mergeSP">```competition_analysis_mergeSP```</a>: This function uses tabula-py to read in each page of a biathlon.pdf file, sends the resulting page to <code>competition_analysis_splitSP</code>, and then concatenates the resulting dataframes into a single large dataframe.</li>
<li><a href = "#pickle_competition_analysisSP">```pickle_competition_analysisSP```</a>: This function takes a takes a year, event, and race type and  calls <code>get_analysis_file</code> to download the relevant competition analysis file to the hard drive. It then calls <code>competition_analysis_merge</code> to extract the desired data and place it into a dataframe. Finally, it stores the resulting dataframe as a pickle file.</li>
<li><a href = "#pickle_biathlon_seasonSP">```pickle_biathlon_seasonSP```</a>: This function loops through all possible events for a given year and attempts to run <code>pickle_competition_analysisSP</code> on each. A try and except structure handles cases where there is not actually a race of the desired type (for this project, a men's sprint) held during the given event.</li>
</ol>
<p>I then looped through all the seasons for which I could obtain the requisite World Cup data (there are no <a href = "https://ibu.blob.core.windows.net/docs/0910/BT/SWRL/CP01/SMSP/BT_C82_1.0.pdf">competition data summary</a> files available before the 2004-2005 season) using <code>pickle_biathlon_season</code> and stored the dataframes produced as pickle files on the hard drive. Unfortunately, using tabula-py effectively requires specifying the area of the table to be read, and, while in theory there should be a consistant layout for each season, in practice each host site seems to have the ability to design their own layouts. As a result, some of the competition analysis files were not correctly read.</p>
<p>In order to read these files, I used a slightly altered version of <a href = "#rerunning">```competition_analysis_mergeSP```</a> together with <code>pickle_competition_analysisSP</code> to obtain the desired data for those files that were previously problematic.</p>
<p>Finally, because the Turin (2006) and Sochi (2014) <a href = "#olympic_times">Olympic Games</a> used a completely different form of url for their competition analysis files, I used <code>pickle_competition_analysisSP</code> on manually obtained pdf files in order to get and store the necessary data.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "get_analysis_file"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">get_analysis_file : takes the season, event, and type of a given World </span>
<span class="sd">                    Cup race, and finds the url of the pdf file containing the </span>
<span class="sd">                    competition analysis data, then retrieves it and stores</span>
<span class="sd">                    it as a pdf file named biathlon.pdf</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year: the years of the biathlon season, in form y1y2 where y1 is the last 2 digits</span>
<span class="sd">      of the first year and y2 is the last two digits of the second year</span>
<span class="sd">event: a four character code specifying the event. Possibilities are “CP01”, “CP02”,</span>
<span class="sd">       . . ., “CP09”, “OG__”,”CH__”</span>
<span class="sd">race: a four character code specifying the type of race. Possibilities are SWIN, SWSP,</span>
<span class="sd">      SWPU, SWMS, SMIN, SMSP, SMPU, SMMS</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">Stores a .pdf file on the hard drive as biathlon.pdf. </span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_analysis_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">):</span>
    <span class="n">codes</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;SWIN&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;SMIN&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;SWSP&quot;</span><span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;SMSP&quot;</span><span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;SWPU&quot;</span><span class="p">:</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;SMPU&quot;</span><span class="p">:</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span>
             <span class="s2">&quot;SWMS&quot;</span><span class="p">:</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;SMMS&quot;</span><span class="p">:</span> <span class="s2">&quot;D&quot;</span><span class="p">}</span>
    <span class="n">L</span> <span class="o">=</span> <span class="n">codes</span><span class="p">[</span><span class="n">race</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;0102&quot;</span><span class="p">,</span> <span class="s2">&quot;0203&quot;</span><span class="p">,</span><span class="s2">&quot;0304&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">race</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;SWMS&quot;</span><span class="p">,</span> <span class="s2">&quot;SMMS&quot;</span><span class="p">]:</span>
            <span class="n">L</span> <span class="o">=</span> <span class="s2">&quot;D&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://ibu.blob.core.windows.net/docs/</span><span class="si">%(y)s</span><span class="s2">/BT/SWRL/</span><span class="si">%(e)s</span><span class="s2">/</span><span class="si">%(r)s</span><span class="s2">/BT_O77</span><span class="si">%(L)s</span><span class="s2">_1.0.pdf&quot;</span>
               <span class="o">%</span><span class="p">{</span><span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span><span class="n">race</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">year</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">:</span><span class="n">L</span><span class="p">}</span> <span class="p">)</span>       
    
    <span class="k">else</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;https://ibu.blob.core.windows.net/docs/</span><span class="si">%(y)s</span><span class="s2">/BT/SWRL/</span><span class="si">%(e)s</span><span class="s2">/</span><span class="si">%(r)s</span><span class="s2">/BT_C77</span><span class="si">%(L)s</span><span class="s2">_1.0.pdf&quot;</span>
               <span class="o">%</span><span class="p">{</span><span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span><span class="n">race</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">year</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span><span class="p">:</span><span class="n">L</span><span class="p">})</span>
        
    <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s2">&quot;biathlon.pdf&quot;</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "flatten_row"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">flatten_row : Takes a row from the tabula-py reading of a biathlon pdf file and returns it as</span>
<span class="sd">              a list of values</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a dataframe produced by a tabula-py reading of a biathlon pdf file</span>
<span class="sd">index : the index of the row to be flattened</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">flattened_row : the flattened version of the row</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">flatten_row</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
    
    <span class="n">row</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">,:]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
    <span class="n">flat_row</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)):</span>
        <span class="n">flat_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

    <span class="n">flat_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">flat_row</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    
    <span class="n">flattened</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">flat_row</span><span class="p">)):</span> 
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">flat_row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">dumb</span> <span class="o">=</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">flat_row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>
            <span class="n">dumber</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dumber</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dumb</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dumb</span><span class="p">)):</span>
                <span class="n">dumber</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">dumb</span><span class="p">[</span><span class="n">i</span><span class="p">]]))</span>
            <span class="n">flattened</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dumber</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flattened</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flat_row</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
    <span class="n">flattened_row</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">flattened</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)):</span>
                <span class="n">flattened_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">flattened_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="n">flattened_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">flattened_row</span> <span class="k">if</span> <span class="n">item</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">item</span> <span class="o">!=</span> <span class="s1">&#39;X&#39;</span><span class="p">]</span>
        
    <span class="k">return</span> <span class="n">flattened_row</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "competition_analysis_splitSP"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">competition_analysis_splitSP : takes a the dataframe produced by reading a single page </span>
<span class="sd">                               of a competition analysis pdf using tabula-py, along with</span>
<span class="sd">                               the year and event in which the race was held and, for each</span>
<span class="sd">                               racer, extracts name, shooting times, missed shots, course</span>
<span class="sd">                               time, range time, and, where relevant, penalty time. It then </span>
<span class="sd">                               returns them as a dataframe.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">race: the data from a single page of a pdf file containing a competition analysis page</span>
<span class="sd">      for an individual race</span>
<span class="sd">year : the season code for the race</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : a dataframe containing a subset of the data from the file</span>
<span class="sd">continuer : a boolean indicating whether or not the next page of the pdf file should be</span>
<span class="sd">            read or not (assuming that it exists)</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">continuer</span> <span class="o">=</span> <span class="bp">True</span>
    
    <span class="c1"># First drop any all NaN columns</span>
    
    <span class="n">race</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># And then replace any remaining NaNs with X</span>
    <span class="n">race</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Step 0 is to get rid of any bad data (non starters, non finishers, disqualifications)</span>
    <span class="c1"># at the end of the page</span>
    
    <span class="n">data_end</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Jury&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Did&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Disqualification&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Lapped&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
    
    <span class="k">if</span> <span class="n">data_end</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">race</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">data_end</span><span class="p">:],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Step 1 is to find the data. Because of the way that the data on the page is </span>
    <span class="c1"># structured, one can use the locations of the rows containing the expression </span>
    <span class="c1"># &quot;Cumulative Time&quot; as a means of locating all the needed rows.</span>
    
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Cumulative&quot;</span> <span class="ow">in</span> <span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="c1"># Now, I know that the names are in the rows just above the rows that have &quot;Cumulative </span>
    <span class="c1"># Time&quot; in them</span>
    <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            
        <span class="n">flat_name_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">flat_name_row</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">flat_name_row</span><span class="p">)</span><span class="o">-</span><span class="mi">5</span><span class="p">]))</span>
        
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">])</span>
    
    <span class="c1"># Also, I know that the shooting information is three rows after the rows with &quot;Cumulative</span>
    <span class="c1"># Time&quot; I want to collect both the time spent shooting and the number of misses from this</span>
    <span class="c1"># row and create two arrays from it</span>
    
    <span class="n">shooting_times</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">shooting_misses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
                
        <span class="n">flat_shooting_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
        
        <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">9</span><span class="p">]]</span>
        <span class="n">shooting_misses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
        <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
        <span class="n">shooting_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
        
    <span class="n">shooting_times</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">shooting_times</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span><span class="s1">&#39;tot sh&#39;</span><span class="p">])</span>
    <span class="n">shooting_misses</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">shooting_misses</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">])</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">shooting_times</span><span class="p">,</span> <span class="n">shooting_misses</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
        
    <span class="c1"># Next, I want to get the course time for each loop, which is in the 5th row after the</span>
    <span class="c1"># &quot;Cumulative Time&quot; rows</span>
    
    <span class="n">loop_times</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="n">flat_loop_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">loop_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">11</span><span class="p">]]</span>
        <span class="n">loop_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loop_time</span><span class="p">)</span>
        
    <span class="n">loop_times</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">loop_times</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">])</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">loop_times</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># For the sake of completeness, I want to get the range times</span>
    
    <span class="n">range_times</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="n">flat_range_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">range_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_range_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_range_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_range_row</span><span class="p">[</span><span class="mi">8</span><span class="p">]]</span>
        <span class="n">range_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">range_time</span><span class="p">)</span>
        
    <span class="n">range_times</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">range_times</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">])</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">range_times</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    
    
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1112&quot;</span><span class="p">,</span><span class="s2">&quot;1213&quot;</span><span class="p">,</span><span class="s2">&quot;1314&quot;</span><span class="p">,</span><span class="s2">&quot;1415&quot;</span><span class="p">,</span><span class="s2">&quot;1516&quot;</span><span class="p">,</span><span class="s2">&quot;1617&quot;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
        <span class="n">penalty_times</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="n">flat_penalty_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
            <span class="n">penalty_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
            <span class="n">penalty_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">penalty_time</span><span class="p">)</span>
        
        <span class="n">penalty_times</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">penalty_times</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot pen&#39;</span><span class="p">])</span>
    
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">penalty_times</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1112&quot;</span><span class="p">,</span><span class="s2">&quot;1213&quot;</span><span class="p">,</span><span class="s2">&quot;1314&quot;</span><span class="p">,</span><span class="s2">&quot;1415&quot;</span><span class="p">,</span><span class="s2">&quot;1516&quot;</span><span class="p">,</span><span class="s2">&quot;1617&quot;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">,</span><span class="s1">&#39;tot pen&#39;</span><span class="p">]</span>    
    <span class="k">else</span><span class="p">:</span>
         <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span> <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> 
                 <span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex_axis</span><span class="p">([</span><span class="n">cols</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">continuer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "competition_analysis_mergeSP"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">competition_analysis_mergeSP : Uses tabula-py to read in each page of a biathlon.pdf file,</span>
<span class="sd">                               sends the resulting page to competition_analysis_splitSP, </span>
<span class="sd">                               and then concatenates the resulting dataframes into a single</span>
<span class="sd">                               large dataframe.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">file_name: a competition analysis file for a biathlon race</span>
<span class="sd">year: the four digit code for a biathlon season</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">results: a dataframe which contains the combined data from all of the pages of the pdf file</span>

<span class="sd">Note</span>
<span class="sd">----</span>

<span class="sd">There are two sets of areas given for many of the years here. This is due to the fact that, </span>
<span class="sd">although in theory the layout of the pdf pages should be consistant across any given season,</span>
<span class="sd">in practice this is not true, as the individual host sites seem to produce their own pdf </span>
<span class="sd">files for each race. As a result, there are a handful of races for which it will be necessary</span>
<span class="sd">to run a competition_analysis_mergeSP a second time with a slightly different choice of areas.</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">competition_analysis_mergeSP</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
        <span class="c1"># each season has a different part of the page to find the data</span>
    <span class="n">areas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span> 
         <span class="c1"># &quot;0405&quot;: [(145, 19, 777, 575), (145, 19, 777, 575)], # special cases</span>
         <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">202</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">701</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">202</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">701</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span> 
         <span class="c1"># &quot;0506&quot;: [(159, 20, 737, 575),(159, 20, 737, 575)], # special cases</span>
         <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
         <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
         <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span> 
         <span class="c1">#&quot;0809&quot;: [(140, 28, 722, 584), (140, 28, 722, 584)],# special cases</span>
         <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span> 
         <span class="c1">#&quot;0910&quot;: [(140, 28, 722, 584), (140, 28, 722, 584)],# special cases</span>
         <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">162</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">814</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">190</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">686</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">815</span><span class="p">,</span> <span class="mi">586</span><span class="p">)],</span>
         <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">194</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">691</span><span class="p">,</span> <span class="mi">571</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">667</span><span class="p">,</span> <span class="mi">571</span><span class="p">)],</span> 
        <span class="c1"># &quot;1213&quot;: [(194, 26, 691, 571), (20, 26, 744, 571)], # special cases   </span>
        <span class="c1"># &quot;1213&quot;: [(194, 26, 691, 571), (194, 26, 691, 571)],# special cases</span>
         <span class="s2">&quot;1314&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">193</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">689</span><span class="p">,</span> <span class="mi">571</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">662</span><span class="p">,</span> <span class="mi">571</span><span class="p">)],</span> 
         <span class="c1"># special cases&quot;1314&quot;: [(136, 20, 717, 576),(136, 20, 717, 576)],# special cases</span>
         <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">137</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">662</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">137</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">705</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">663</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="c1">#&quot;1617&quot;: [(151, 20, 702, 574), (20, 20, 728, 574)], # special cases</span>
         <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">576</span><span class="p">)],</span> 
            <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">748</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">576</span><span class="p">)]}</span>

    <span class="c1"># Figure out how many pages are in the document</span>
    
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">PdfFileReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">pages</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">getNumPages</span><span class="p">()</span>
        
    <span class="c1"># Get the data from the first page of the pdf</span>
        
    <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                    <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1112&quot;</span><span class="p">,</span><span class="s2">&quot;1213&quot;</span><span class="p">,</span><span class="s2">&quot;1314&quot;</span><span class="p">,</span><span class="s2">&quot;1415&quot;</span><span class="p">,</span><span class="s2">&quot;1516&quot;</span><span class="p">,</span><span class="s2">&quot;1617&quot;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">,</span><span class="s1">&#39;tot pen&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">])</span>
        <span class="n">to_continue</span> <span class="o">=</span> <span class="bp">True</span>
    
    <span class="c1"># Get the data from the remaining pages of the pdf </span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">pages</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="n">to_continue</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
        
            <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                            <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">race</span> <span class="o">==</span> <span class="bp">None</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">results</span><span class="p">,</span> <span class="n">result</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
    <span class="n">results</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>


    
    <span class="k">return</span> <span class="n">results</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the layout of the competition analysis pdf changes from season to season, and so the areas that are being read also need to change from season to season. Furthermore, due to minor changes in the layout of some of the competition analysis files, even within a single season, the code for competition_analysis_mergeSP contains commented out area values that can be used in cases where a single race is unable to be read correctly.</p>
<p><a name = "pickle_competition_analysisSP"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">pickle_competition_analysisSP : takes the url of a biathlon data web page, determines whether</span>
<span class="sd">                                the page is actually a pdf file or not, and it if it, extracts</span>
<span class="sd">                                the relevant data, puts it into a data frame, and then pickles</span>
<span class="sd">                                the resulting data.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SWMS,</span>
<span class="sd">       SMIN, SMSP, SMPU, SMMS</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">stores a pickled dataframe object on the hard drive</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">pickle_competition_analysisSP</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">racecode</span><span class="p">):</span>
    
    <span class="c1"># get the biathlon pdf</span>
    
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;companal_</span><span class="si">%(race)s</span><span class="s2">_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;race&quot;</span><span class="p">:</span> <span class="n">racecode</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span>
                                                            <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">}</span>
    <span class="n">get_analysis_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">racecode</span><span class="p">)</span> <span class="c1">#stored in biathlon.pdf</span>
    
    <span class="c1"># check whether you have a valid biathlon data file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;biathlon.pdf&quot;</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">:</span>
        <span class="n">begin</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;BlobNotFound&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">begin</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">competition_analysis_mergeSP</span><span class="p">(</span><span class="s2">&quot;biathlon.pdf&quot;</span><span class="p">,</span><span class="n">year</span><span class="p">)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            
            <span class="k">return</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "pickle_biathlon_seasonSP"></a>
<a href = "#CollectingData">Back to Collecting the race data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">pickle_biathlon_seasonSP : loops through all sprint races in a given biathlon season, applies </span>
<span class="sd">                            pickle_competition_analysisSP to each, and pickles the resulting</span>
<span class="sd">                            dataframes</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">season : the code of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">stores a pickled data frame object on the hard drive for each sprint event in the season.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">&quot;&quot;&quot;</span>



<span class="k">def</span> <span class="nf">pickle_biathlon_seasonSP</span><span class="p">(</span><span class="n">season</span><span class="p">):</span>
    
    <span class="n">failed_races</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">races</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SMSP&quot;</span><span class="p">]</span>
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">races</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pickle_competition_analysisSP</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">,</span> <span class="ne">AssertionError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">failed_races</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">failed_races</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I then ran <code>pickle_biathlon_seasonSP</code> over each season from 2004-2005 to 2017-2018. Prior to the 2004-2005 season, I had access to performance data for the biathletes, but not to data on the race and weather conditions which I suspected might be impacting speeds and shooting accuracies.</p>
<p>The code looked something like this:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># This has beginning and end prints for each season because, at least on my elderly mac, </span>
<span class="c1"># it takes a couple of hours and it&#39;s nice to have some sense of where it is</span>

<span class="n">failed_races</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">season</span>
    <span class="n">failures</span> <span class="o">=</span> <span class="n">pickle_biathlon_seasonSP</span><span class="p">(</span><span class="n">season</span><span class="p">)</span>
    <span class="n">failed_races</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">failures</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0405
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>PdfReadWarning: PdfFileReader stream/file object is not in binary mode. It may not be read correctly. [pdf.py:1079]
PdfReadWarning: Xref table not zero-indexed. ID numbers for objects will be corrected. [pdf.py:1736]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0506
0607
0708
0809
0910
1011
1112
1213
1314
1415
1516
1617
1718
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "rerunning"></a>
<a href = "#CollectingData">Back to Collecting the data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Extending the list of failed races by a list of races for which the resulting dataframe</span>
<span class="c1"># was much shorter than expected</span>

<span class="n">failed_races1</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">failed_races</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
<span class="n">failed_races1</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">],[</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">],[</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">],</span>
                      <span class="p">[</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">],[</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">competition_analysis_mergeSP</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">file_name: a competition analysis file for a biathlon race</span>
<span class="sd">year: the four digit code for a biathlon season</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">results: a dataframe which contains the combined data from all of the pages of the pdf file</span>

<span class="sd">Note</span>
<span class="sd">----</span>

<span class="sd">Here I am using the alternative areas in order to obtain the sprint data for those races for</span>
<span class="sd">which the layout of the pdf file was somewhat different than the standard layout for the year</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">competition_analysis_mergeSP</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
        <span class="c1"># each season has a different part of the page to find the data</span>
    <span class="n">areas</span> <span class="o">=</span> <span class="p">{</span><span class="c1">#&quot;0405&quot;: [(204, 37, 706, 559), (204, 37, 706, 559)], </span>
         <span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">145</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">777</span><span class="p">,</span> <span class="mi">575</span><span class="p">),</span> <span class="p">(</span><span class="mi">145</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">777</span><span class="p">,</span> <span class="mi">575</span><span class="p">)],</span> <span class="c1"># special cases</span>
         <span class="c1">#&quot;0506&quot;: [(202, 37, 701, 559), (202, 37, 701, 559)], </span>
         <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">159</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">737</span><span class="p">,</span> <span class="mi">575</span><span class="p">),(</span><span class="mi">159</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">737</span><span class="p">,</span> <span class="mi">575</span><span class="p">)],</span> <span class="c1"># special cases</span>
         <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
         <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">692</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
         <span class="c1">#&quot;0809&quot;: [(192, 37, 692, 559), (192, 37, 692, 559)], </span>
         <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">722</span><span class="p">,</span> <span class="mi">584</span><span class="p">),</span> <span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">722</span><span class="p">,</span> <span class="mi">584</span><span class="p">)],</span><span class="c1"># special cases</span>
         <span class="c1">#&quot;0910&quot;: [(192, 37, 692, 559), (192, 37, 692, 559)], </span>
         <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">722</span><span class="p">,</span> <span class="mi">584</span><span class="p">),</span> <span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">722</span><span class="p">,</span> <span class="mi">584</span><span class="p">)],</span><span class="c1"># special cases</span>
         <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">162</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">814</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">190</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">686</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">815</span><span class="p">,</span> <span class="mi">586</span><span class="p">)],</span>
         <span class="c1">#&quot;1213&quot;: [(194, 26, 691, 571), (20, 26, 667, 571)], </span>
         <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">194</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">691</span><span class="p">,</span> <span class="mi">571</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">744</span><span class="p">,</span> <span class="mi">571</span><span class="p">)],</span> <span class="c1"># special cases   </span>
        <span class="c1"># &quot;1213&quot;: [(194, 26, 691, 571), (194, 26, 691, 571)],# special cases</span>
         <span class="c1">#&quot;1314&quot;: [(193, 26, 689, 571), (20, 26, 662, 571)], </span>
        <span class="s2">&quot;1314&quot;</span><span class="p">:[(</span><span class="mi">143</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">575</span><span class="p">),(</span><span class="mi">143</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">575</span><span class="p">)],</span> <span class="c1"># special cases</span>
         <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">137</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">662</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">137</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">705</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">663</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
         <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">702</span><span class="p">,</span> <span class="mi">574</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">728</span><span class="p">,</span> <span class="mi">574</span><span class="p">)],</span> <span class="c1"># special cases</span>
         <span class="c1">#&quot;1617&quot;: [(151, 20, 727, 576), (20, 20, 759, 576)] </span>
            <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">748</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">576</span><span class="p">)]}</span>

    <span class="c1"># Figure out how many pages are in the document</span>
    
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">PdfFileReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">pages</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">getNumPages</span><span class="p">()</span>
        
    <span class="c1"># Get the data from the first page of the pdf</span>
        
    <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                    <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1112&quot;</span><span class="p">,</span><span class="s2">&quot;1213&quot;</span><span class="p">,</span><span class="s2">&quot;1314&quot;</span><span class="p">,</span><span class="s2">&quot;1415&quot;</span><span class="p">,</span><span class="s2">&quot;1516&quot;</span><span class="p">,</span><span class="s2">&quot;1617&quot;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span>
                                              <span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">,</span><span class="s1">&#39;tot pen&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span> 
                                              <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">])</span>
        <span class="n">to_continue</span> <span class="o">=</span> <span class="bp">True</span>
    
    <span class="c1"># Get the data from the remaining pages of the pdf </span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">pages</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="n">to_continue</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
        
            <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                            <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">race</span> <span class="o">==</span> <span class="bp">None</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">results</span><span class="p">,</span> <span class="n">result</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
    <span class="n">results</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>


    
    <span class="k">return</span> <span class="n">results</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">still_failed</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">failed_races1</span><span class="p">)):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">pickle_competition_analysisSP</span><span class="p">(</span><span class="n">failed_races1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">failed_races1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                                      <span class="n">failed_races1</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">still_failed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">failed_races1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
<span class="n">still_failed</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "olympic_times"></a>
<a href = "#CollectingData">Back to Collecting the data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://ibu.blob.core.windows.net/docs/1314/BT/SWRL/OG__/SMSP/BT_C77B_1.1.pdf&quot;</span>

<span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s2">&quot;biathlon.pdf&quot;</span><span class="p">)</span>

<span class="n">results_sochi</span> <span class="o">=</span> <span class="n">competition_analysis_mergeSP</span><span class="p">(</span><span class="s1">&#39;biathlon.pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;1314&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ibu.blob.core.windows.net/docs/0506/BT/SWRL/OG__/SMSP/BT_C77B_1.1.pdf&#39;</span>

<span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;biathlon.pdf&#39;</span><span class="p">)</span>

<span class="n">results_torino</span> <span class="o">=</span> <span class="n">competition_analysis_mergeSP</span><span class="p">(</span><span class="s1">&#39;biathlon.pdf&#39;</span><span class="p">,</span> <span class="s1">&#39;0506&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">results_sochi</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1314_OG__.pkl&#39;</span><span class="p">)</span>
<span class="n">results_torino</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0506_OG__.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_data_collection"></a></p>
<h1 id="Collecting-IBU-Cup-sprint-data">Collecting IBU Cup sprint data<a class="anchor-link" href="#Collecting-IBU-Cup-sprint-data">&#182;</a></h1><p>In fact, the <a href="https://biathlonworld.com">International Biathlon Union</a>(IBU) runs two separate cup seasons, in addition to various youth and junior competitions. The first is the World Cup, which has the top hundred or so racers. The races above are the men's sprint competions from these races. There is another cup though, the IBU cup. Although not all biathletes in the IBU cup will ever make the transition to the World Cup circuit, most World Cup racers have spent at least some time competing in the IBU cup circuit. As a result, their results on the IBU cup circuit might be useful for informing predictions about their results on the World Cup circuit. To that end, we will also collect the mens sprint data for the IBU cup races from 2004-2005 until the present season. The functions that we use here are analogous to those used for collecting the World Cup data, and so I will list them without further description.</p>
<ol>
<li><a href = "#find_comp_url">```find_comp_url```</a>: This function, together with <code>get_comp_file</code>, is analogous to <code>get_analysis_file</code></li>
<li><a href = "#get_comp_file">```get_comp_file```</a>: This function, together with <code>find_comp_url</code>, is analogous to <code>get_analysis_file</code></li>
<li><a href = "#ibu_competition_analysis_splitSP">```ibu_competition_analysis_splitSP```</a>: This function is analogus to <code>competition_analysis_splitSP</code></li>
<li><a href = "#ibu_competition_analysis_mergeSP">```ibu_competition_analysis_mergeSP```</a>: This function is analogous to <code>competition_analysis_mergeSP</code></li>
<li><a href = "#ibu_pickle_competition_analysisSP">```ibu_pickle_competition_analysisSP```</a>: This function is analogous to <code>pickle_competition_analysisSP</code></li>
<li><a href = "#ibu_pickle_biathlon_seasonSP">```ibu_pickle_biathlon_seasonSP```</a>: This function is analogous to <code>pickle_biathlon_seasonSP</code></li>
</ol>
<p>The IBU Cup races presented a few problems that were not encountered with the World Cup races.</p>
<ol>
<li>Some of the IBU Cup events each year run not one but two men's sprint races. It is therefore necessary to ensure that the results of both races are taken into consideration.</li>
<li>Some of the IBU Cup files have shooting times included. Some of the IBU Cup files do not have shooting times included. Unfortunately, this does not seem to be a season by season thing but rather a race by race thing, due perhaps to the equipment set up at a given course. That means that in getting the shot data, it will be necessary to somehow distinguish between these two cases on the fly, rather than as a season by season thing.</li>
<li>Finally, there is a problem that is exclusive to the 2017-2018 season. The files for the 2017-2018 races have odd spacing for the IBU Cup races, which means that those racers who are slowest at the first shooting end up with an improperly parsed missed standing shots value. Here, the simplest fix seems to be to simply get rid of those rows for which this is an issue. To do this, we have the function<ul>
<li><a href = "#dump_bad_rows">```dump_bad_rows```</a>: This function takes a ibu competition analysis dataframe and checks the column <code>'S1'</code> for entries that cannot be a number of missed shots (that is to say, values that do not belong to the set {0, 1, 2, 3, 4, 5} and eliminates those rows from the dataframe.</li>
</ul>
</li>
</ol>
<p><a href = "#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "find_comp_url"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">find_comp_url : Finds and return the url for the pdf of the competition analysis file </span>
<span class="sd">                associated to a race in the ibu cup series</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the season in which the race took place, given as a four digit string of the form y1y2,</span>
<span class="sd">        where y1 is the last two digits of the year in which the season started and y2 is the</span>
<span class="sd">        last two digits of the year in which the season ended.</span>
<span class="sd">event : a four character code indicating the event within a season with the possibilities CP01,</span>
<span class="sd">        CP02, CP03, CP04, CP05, CP06, CP07, CP08 (regular events), and CH__ (championships)</span>
<span class="sd">race : a four character code indicating the race within an event which has possible values</span>
<span class="sd">        SMSP, SMPU, SMIN, SWSP, SWPU, SWIN</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">comp_url : the url at which the competition analysis pdf can be found</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># competition analysis urls</span>

<span class="k">def</span> <span class="nf">find_comp_url</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">):</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">]):</span>
        <span class="n">cup</span> <span class="o">=</span> <span class="s2">&quot;SCEU&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">event</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;CH__&#39;</span><span class="p">]:</span>
            <span class="n">cup</span> <span class="o">=</span> <span class="s1">&#39;SCEU&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cup</span> <span class="o">=</span> <span class="s2">&quot;SIBU&quot;</span>
        
    <span class="n">comp_url</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://ibu.blob.core.windows.net/docs/</span><span class="si">%(y)s</span><span class="s2">/BT/</span><span class="si">%(c)s</span><span class="s2">/</span><span class="si">%(e)s</span><span class="s2">/</span><span class="si">%(r)s</span><span class="s2">/BT_C77</span><span class="si">%(L)s</span><span class="s2">_1.0.pdf&quot;</span>
                <span class="o">%</span><span class="p">{</span><span class="s2">&quot;y&quot;</span> <span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="n">cup</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span> <span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span> <span class="p">:</span> <span class="n">race</span><span class="p">,</span> <span class="s2">&quot;L&quot;</span> <span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">})</span>
    
    <span class="k">return</span> <span class="n">comp_url</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "get_comp_file"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">get_comp_file : retrieves the competition analysis file from the web and stores it as</span>
<span class="sd">                a pdf file at &quot;ibu_cup.pdf&quot;</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">Stores a .pdf file at ibu_cup.pdf. </span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_comp_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">find_comp_url</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
        
    <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s2">&quot;ibu_cup.pdf&quot;</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Competition Analysis Areas, ibu cup races. Note that the first entry for each season</span>
<span class="c1"># is the data area on the first page of the pdf, while the second entry is the data area</span>
<span class="c1"># for all subsequent pages</span>

<span class="n">competition_area</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0405&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)]</span> <span class="p">,</span>
                    <span class="s1">&#39;0506&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
                    <span class="s1">&#39;0607&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
                    <span class="s1">&#39;0708&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">197</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">197</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
                    <span class="s1">&#39;0809&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
                    <span class="s1">&#39;0910&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
                    <span class="s1">&#39;1011&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">161</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">569</span><span class="p">),</span> <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">672</span><span class="p">,</span> <span class="mi">569</span><span class="p">)],</span>
                    <span class="s1">&#39;1112&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">191</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">688</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">815</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
                    <span class="s1">&#39;1213&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">193</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">694</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">784</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
                    <span class="s1">&#39;1314&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">194</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">696</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
                    <span class="s1">&#39;1415&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">136</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">710</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">666</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
                    <span class="s1">&#39;1516&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">136</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">662</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
                    <span class="s1">&#39;1617&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">718</span><span class="p">,</span> <span class="mi">576</span><span class="p">)],</span>
                    <span class="s1">&#39;1718&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">718</span><span class="p">,</span> <span class="mi">576</span><span class="p">)]}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_competition_analysis_splitSP"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_competition_analysis_splitSP : takes a data frame produced by using read_pdf from the </span>
<span class="sd">                                   tabula package to read a single page of a read in </span>
<span class="sd">                                   competition analysis file, cleans it up, and returns the</span>
<span class="sd">                                   desired subset of the data in a format that is </span>
<span class="sd">                                   straightforward to use.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">race : the data from a single page of a pdf file containing a competition analysis page</span>
<span class="sd">year : the season code for the race</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : a dataframe containing a subset of the data from the file</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">continuer</span> <span class="o">=</span> <span class="bp">True</span>
    
    <span class="c1"># First drop any all NaN columns</span>
    
    <span class="n">race</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># And then replace any remaining NaNs with X</span>
    <span class="n">race</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Step 0 is to get rid of any bad data (non starters, non finishers, disqualifications)</span>
    <span class="c1"># at the end of the page</span>
    
    <span class="n">data_end</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Jury&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Did&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Disqualification&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
        <span class="k">elif</span> <span class="s2">&quot;Lapped&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">data_end</span> <span class="o">=</span> <span class="n">i</span>
            <span class="n">continuer</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">break</span>
    
    <span class="k">if</span> <span class="n">data_end</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">race</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">data_end</span><span class="p">:],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Step 1 is to find the data. Because of the way that the data on the page is structured,</span>
    <span class="c1"># one can use the locations of the rows containing the expression &quot;Cumulative Time&quot; as a</span>
    <span class="c1"># means of locating all the needed rows.</span>
    
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Cumulative&quot;</span> <span class="ow">in</span> <span class="n">race</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span><span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span>
            <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">]</span>
    <span class="n">cols_long</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span><span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">,</span> <span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot pen&#39;</span> <span class="p">]</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols_long</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">racer</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1"># Get the racers name</span>
            <span class="n">flat_name_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">racer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">flat_name_row</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">flat_name_row</span><span class="p">)</span><span class="o">-</span><span class="mi">5</span><span class="p">]))</span>
            
            <span class="c1"># Get the shot info</span>
            <span class="n">flat_shooting_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">flat_shooting_row</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">:</span>
                <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
                <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
                <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
                <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">9</span><span class="p">]]</span>
                <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
                <span class="n">shot_row</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">flat_shooting_row</span><span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
                <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">shot_row</span><span class="p">)</span>
            
            <span class="c1"># Get the loop times</span>
            <span class="n">flat_loop_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">loop_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> 
                                                                         <span class="n">flat_loop_row</span><span class="p">[</span><span class="mi">11</span><span class="p">]]</span>
            <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">loop_time</span><span class="p">)</span>
            
            <span class="c1"># Get the range times</span>
            <span class="n">flat_range_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">range_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_range_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_range_row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">flat_range_row</span><span class="p">[</span><span class="mi">8</span><span class="p">]]</span>
            <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">range_time</span><span class="p">)</span>
            
            <span class="c1"># If relevant, get the penalty times</span>
            <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
                <span class="n">flat_penalty_row</span> <span class="o">=</span> <span class="n">flatten_row</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">row</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
                <span class="n">penalty_time</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">flat_penalty_row</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span>
                <span class="n">racer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">penalty_time</span><span class="p">)</span>
            
            <span class="c1"># Attach the column names</span>
            <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
                <span class="n">racer</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">racer</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols_long</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span><span class="n">racer</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">racer</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">racer</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">racer</span><span class="p">])</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
        <span class="n">new_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;pen1&#39;</span><span class="p">,</span> <span class="s1">&#39;pen2&#39;</span><span class="p">,</span> 
                <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">,</span><span class="s1">&#39;tot pen&#39;</span><span class="p">]</span> 
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="s1">&#39;sh1&#39;</span><span class="p">,</span><span class="s1">&#39;sh2&#39;</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">,</span> <span class="s2">&quot;L1&quot;</span><span class="p">,</span><span class="s2">&quot;L2&quot;</span><span class="p">,</span><span class="s1">&#39;L3&#39;</span><span class="p">,</span>
           <span class="s1">&#39;r1&#39;</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;tot sh&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">,</span><span class="s1">&#39;tot r&#39;</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reindex_axis</span><span class="p">([</span><span class="n">new_cols</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">continuer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_competition_analysis_mergeSP"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_competition_analysis_mergeSP : takes a pdf file containing the competition analysis data</span>
<span class="sd">                                    for a given race and returns the desired subset of the </span>
<span class="sd">                                    data in the form of a single dataframe</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">file_name: a competition analysis pdf file from a biathlon race</span>
<span class="sd">year : the four digit string indicating the season in which the competition was held</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">results: a dataframe containing the combined data from all of the pages of the pdf file</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_competition_analysis_mergeSP</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
        <span class="c1"># each season has a different part of the page to find the data</span>
    <span class="n">areas</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0405&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)]</span> <span class="p">,</span>
            <span class="s1">&#39;0506&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
            <span class="s1">&#39;0607&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">704</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
            <span class="s1">&#39;0708&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">197</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">559</span><span class="p">),</span> <span class="p">(</span><span class="mi">197</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">559</span><span class="p">)],</span>
            <span class="s1">&#39;0809&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
            <span class="s1">&#39;0910&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
            <span class="s1">&#39;1011&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">161</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">736</span><span class="p">,</span> <span class="mi">569</span><span class="p">),</span> <span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">784</span><span class="p">,</span> <span class="mi">569</span><span class="p">)],</span>
            <span class="s1">&#39;1112&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">191</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">694</span><span class="p">,</span> <span class="mi">573</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">815</span><span class="p">,</span> <span class="mi">573</span><span class="p">)],</span>
            <span class="s1">&#39;1213&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">193</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">694</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">784</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
            <span class="s1">&#39;1314&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">194</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">696</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">716</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
            <span class="s1">&#39;1415&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">136</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">710</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">666</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
            <span class="s1">&#39;1516&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">136</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">695</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">662</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
            <span class="s1">&#39;1617&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">718</span><span class="p">,</span> <span class="mi">576</span><span class="p">)],</span>
            <span class="s1">&#39;1718&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">151</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">706</span><span class="p">,</span> <span class="mi">576</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">718</span><span class="p">,</span> <span class="mi">576</span><span class="p">)]}</span>

    <span class="c1"># Figure out how many pages are in the document</span>
    
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">doc</span> <span class="o">=</span> <span class="n">PdfFileReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">pages</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">getNumPages</span><span class="p">()</span>
        
    
    <span class="c1"># Get the data from the first page of the pdf</span>
    
    
    <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> 
                    <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="n">ibu_competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c1"># Get the data from the remaining pages of the pdf </span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">pages</span><span class="p">):</span>
        
        <span class="k">if</span> <span class="n">to_continue</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
    
    
            <span class="n">race</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">pages</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">area</span> <span class="o">=</span> <span class="n">areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> 
                            <span class="n">multiple_tables</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        
            <span class="k">try</span><span class="p">:</span>
                <span class="n">race</span> <span class="o">==</span> <span class="bp">None</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">ibu_competition_analysis_splitSP</span><span class="p">(</span><span class="n">race</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">to_continue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">results</span><span class="p">,</span> <span class="n">result</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
                                
    <span class="n">results</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>


    
    <span class="k">return</span> <span class="n">results</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_pickle_competition_analysisSP"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_pickle_competition_analysisSP : takes the url of a biathlon data web page, determines </span>
<span class="sd">                                    whether the page is actually a pdf file or not, and </span>
<span class="sd">                                    in the case that it is, extracts the relevant data,</span>
<span class="sd">                                    puts it into a data frame, and then pickles the resulting </span>
<span class="sd">                                    data.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>


<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">stores a pickled data frame object on the hard drive</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_pickle_competition_analysisSP</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">racecode</span><span class="p">):</span>
    
    <span class="c1"># get the biathlon pdf</span>
    
    <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ibu_</span><span class="si">%(race)s</span><span class="s2">_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> 
                <span class="o">%</span><span class="p">{</span><span class="s2">&quot;race&quot;</span><span class="p">:</span> <span class="n">racecode</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">})</span>
    <span class="n">get_comp_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">racecode</span><span class="p">)</span> <span class="c1">#stored in ibu_cup.pdf</span>
    
    
    <span class="c1"># check whether you have a valid biathlon data file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;ibu_cup.pdf&quot;</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">:</span>
        <span class="n">begin</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;BlobNotFound&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">begin</span><span class="p">:</span>
             <span class="c1"># run biathlon_data to extract the data</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">ibu_competition_analysis_mergeSP</span><span class="p">(</span><span class="s2">&quot;ibu_cup.pdf&quot;</span><span class="p">,</span><span class="n">year</span><span class="p">)</span>
            <span class="n">data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_pickle_biathlon_seasonSP"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_pickle_biathlon_seasonSP : performs ibu_pickle_competition_analysisSP on every men&#39;s</span>
<span class="sd">                                sprint race in a given biathlon season</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">season : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">failed_races : a list of races for which we were unable to pickle an object to save</span>

<span class="sd">and, in addition, stores a pickled dataframe to the hard drive for every event that is </span>
<span class="sd">successfully pickled</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_pickle_biathlon_seasonSP</span><span class="p">(</span><span class="n">season</span><span class="p">):</span>
    
    <span class="n">failed_races</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">races</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SMSP&quot;</span><span class="p">,</span><span class="s2">&quot;SMSPS&quot;</span><span class="p">]</span>
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">races</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ibu_pickle_competition_analysisSP</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">failed_races</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">failed_races</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="n">ibu_failures</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">season</span>
    <span class="n">ibu_failures</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ibu_pickle_biathlon_seasonSP</span><span class="p">(</span><span class="n">season</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0405
0506
0607
0708
0809
0910
1011
1112
1213
1314
1415
1516
1617
1718
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "dump_bad_rows"></a>
<a href = "#ibu_data_collection">Back to Getting IBU Cup sprint data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">dump_bad_rows : takes a ibu dataframe and eliminates those racer rows for which odd spacing</span>
<span class="sd">                in the pdf file lead to improperly parsed data being read in</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>


<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">Nothing, the dataframe is changed in place rather than by making copies</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">dump_bad_rows</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_</span><span class="si">%(race)s</span><span class="s1">_</span><span class="si">%(year)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;year&#39;</span> <span class="p">:</span> <span class="n">year</span><span class="p">,</span>
                                                       <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span> <span class="p">:</span> <span class="n">race</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="n">bad_rows</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        
        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;S1&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0&#39;</span><span class="p">,</span> <span class="s1">&#39;2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0&#39;</span><span class="p">,</span> <span class="s1">&#39;4.0&#39;</span><span class="p">,</span> <span class="s1">&#39;5.0&#39;</span><span class="p">]:</span>
            <span class="n">bad_rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">bad_rows</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s1">&#39;check file for&#39;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span>
    
    <span class="c1">#return df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
         <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">]</span>
<span class="n">races</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMSP&#39;</span><span class="p">,</span><span class="s1">&#39;SMSPS&#39;</span><span class="p">]</span>

<span class="n">missing_files</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">races</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">dump_bad_rows</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">missing_files</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">])</span>
            
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>check file for 1415 CH__ SMSP
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "removing_penalized_racers"></a></p>
<h1 id="Deleting-bad-racer-data">Deleting bad racer data<a class="anchor-link" href="#Deleting-bad-racer-data">&#182;</a></h1><p>In biathlon competitions, each missed shot requires that the athlete ski a 150 meter penalty loop (which takes in the neighborhood of 25 to 30 seconds). If an athlete fails to ski some or all of his penalty loops, he is then assigned a time penalty of two minutes for each penalty loop that he fails to ski. These time penalties are assessed relatively infrequently (around twice a year on average), but have the potential to severely skew the data when they occur, particularly in those cases where an athlete missed all five shots, failed to ski any penalty laps, and was thus assessed a ten minute penalty. As a result, I have chosen to drop those racers who were assessed penalties of this type from the races in which the infractions occurred.</p>
<p>(And, since reading the code for all of these deletions isn't very interesting, here's a <a href = "#CollectingCourseData">link</a> to jump to the next section.)</p>
<p><a href = "#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># 0405 CP02 ISA Hidenori</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ISA Hidenori&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP02.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0405 CP04 KLETCHEROV Michail</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KLETCHEROV Michail&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP04.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0405 CP09 VITEK Zdenek</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP09.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;VITEK Zdenek&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0405_CP09.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0506 CP01 MOYSEY Peter</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0506_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;MOYSEY Peter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0506_CP01.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0506 CP02 OS Alexander, NOVIKOV Sergei</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0506_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;OS Alexander&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;NOVIKOV Sergei&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0506_CP02.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0708 CP08 SUMANN Christopher</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0708_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;SUMANN Christopher&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0708_CP08.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0708 CP09 YAROSHENKO Dmitri</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0708_CP09.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;YAROSHENKO Dmitri&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0708_CP09.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0809 CP04 TOBRELUTS Indrek</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0809_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;TOBRELUTS Indrek&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0809_CP04.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0910 CP02 LEGUELLEC Jean Philippe</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;LEGUELLEC Jean Philippe&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP02.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0910 CP03 KAUPPINEN Jarkko, KALDVEE Martten</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KAUPPINEN Jarkko&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KALDVEE Martten&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP03.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0910 CP05 KOSARAC Namanja</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP05.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KOSARAC Namanja&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_0910_CP05.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1011 CH__ LOPATIC Stefan</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1011_CH__.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;LOPATIC Stefan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1011_CH__.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1112 CP07 EBERHARD Tobias</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1112_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;EBERHARD Tobias&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1112_CP07.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1213 CP01 KLETCHEROV Martin</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KLETCHEROV Martin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP01.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1213 CP06 FOURCADE Simon, OTCENAS Martin</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP06.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;FOURCADE Simon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;OTCENAS Martin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP06.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1213 CP09 CHRISTIANSEN Vetle Sjastad</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP09.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;CHRISTIANSEN Vetle Sjastad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1213_CP09.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1314 CP07 FILLON MAILLET Quentin</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1314_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;FILLON MAILLET Quentin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1314_CP07.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1314 CP09 BOGETVEIT Haavard</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1314_CP09.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;BOGETVEIT Haavard&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1314_CP09.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1415 CP04 EBERHARD Julian</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;EBERHARD Julian&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CP04.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1415 CH__ PODKORYTOV Vassiliy</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CH__.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PODKORYTOV Vassiliy&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CH__.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1415 CP09 STEPHAN Christoph</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CP09.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;STEPHAN Christoph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;companal_SMSP_1415_CP09.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Similarly, I have assessed time penalty data for IBU cup races</span>

<span class="c1"># 0506 CP02 EMONTS Ralph</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;EMONTS Ralph&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP02.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0506 CP03 NAVARRO PEREZ Jose Ramon ,PRADES REVERTER Benjamin</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;NAVARRO PEREZ Jose Ramon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PRADES REVERTER Benjamin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP03.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0506 CP04 PERRAS Scott</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PERRAS Scott&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CP04.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0506 CH__ DEBAYLE Yann, FOIDL Hans Peter</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CH__.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;DEBAYLE Yann&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;FOIDL Hans Peter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0506_CH__.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0607 CP02 GJELLAND Egil, DAMJANOVSKI Darko</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0607_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;GJELLAND Egil&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;DAMJANOVSKI Darko&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0607_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0607 CP03 FREI Thomas</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0607_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;FREI Thomas&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0607_CP03.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0607 CP06(S) COOL Herbert</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_0607_CP06.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;COOL Herbert&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_0607_CP06.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0708 CP07 ICOSKI Gjorgji, STOJANOSKI Dejan</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0708_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ICOSKI Gjorgji&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;STOJANOSKI Dejan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0708_CP07.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0809 CP01 DRIFFILL Craig</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;DRIFFILL Craig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0809 CP02 TADEJEVIC Zvonimir</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;TADEJEVIC Zvonimir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0809 CP07 HODZIC Admir</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;HODZIC Admir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CP07.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0809 CH__ OTCENAS Martin</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CH__.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;OTCENAS Martin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0809_CH__.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0910 CP02 HRKALOVIC Emir</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;HRKALOVIC Emir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0910 CP03 CEPULIS Darius, RASTIC Ajlan, ANGELIS Apostolos</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;CEPULIS Darius&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;RASTIC Ajlan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ANGELIS Apostolos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP03.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0910 CP05 RASTIC Demir</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP05.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;RASTIC Demir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP05.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 0910 CP06 NAUDI BERMON Miquel</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP06.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;NAUDI BERMON Miquel&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_0910_CP06.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1011 CP01(S) ICOSKI Gjorgji, GORBALD Paul</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1011_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ICOSKI Gjorgji&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;GORBALD Paul&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1011_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1011 CP02 EHRHART Ludwig</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;EHRHART Ludwig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1011 CP03 BURIC Matej</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;BURIC Matej&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP03.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1011 CP04 SLOOF Lucien</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;SLOOF Lucien&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1011 CP07 SHIPULIN Anton, PALEVSKI Radi, PETROV Andrej</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;SHIPULIN Anton&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PALEVSKI Radi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PETROV Andrej&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1011_CP07.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1112 CP04 DAMJANOVSKI Darko</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1112_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;DAMJANOVSKI Darko&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1112_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1112 CP08 KEIFER Alexander</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1112_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KEIFER Alexander&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1112_CP08.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1213 CP02 SLETTEMARK Oystein</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;SLETTEMARK Oystein&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1213 CP05 ARNAULT Clement</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP05.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ARNAULT Clement&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP05.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1213 CP06 MAEDA Ryo</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP06.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;MAEDA Ryo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1213_CP06.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1314 CP01 STANOESKI Tosho</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;STANOESKI Tosho&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1314 CP02 CRNKOVIC Kresimir, CHENG Fangming</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;CRNKOVIC Kresimir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;CHENG Fangming&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1314 CP04 CUENOT Gaspard, KUEHN Johannes</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;CUENOT Gaspard&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KUEHN Johannes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1314 CP05 ORHAN Erkan</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP05.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;ORHAN Erkan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1314_CP05.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1415 CP01 LEE Su-Young, REITER Michael</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1415_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;LEE Su-Young&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;REITER Michael&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1415_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1415 CP03 MARSANIC Mihael</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1415_CP03.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;MARSANIC Mihael&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1415_CP03.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP01(S) VAHTRA Eno</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;VAHTRA Eno&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP02 GOMBOS Karoly</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP02.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;GOMBOS Karoly&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP02.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP04 MILOSHEVSKI Velche</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;MILOSHEVSKI Velche&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP04(S) PETROVIC Filip</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PETROVIC Filip&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP07 TALIHAERM Johan, PETROVIC Filip</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP07.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;TALIHAERM Johan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PETROVIC Filip&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP07.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CH__ REITER Michael</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CH__.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;REITER Michael&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CH__.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP08 JOVANOSKI Borce</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;JOVANOSKI Borce&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1516_CP08.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1516 CP08(S) STANOESKI Tosho</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;STANOESKI Tosho&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1516_CP08.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1617 CP01 GOND Balazs</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;GOND Balazsh&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1617 CP04 KRISTEJN Lukas, RAZQUIN MANGADO Alejandro</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;KRISTEJN Lukas&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;RAZQUIN MANGADO Alejandro&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1617 CP04(S) YEREMIN Roman</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1617_CP04.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;YEREMIN Roman&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1617_CP04.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1617 CP08 PADDER Rameez Ahmad</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;PADDER Rameez Ahmad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1617_CP08.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1718 CP01(S) FLANAGAN Jeremy</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1718_CP01.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;FLANAGAN Jeremy&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSPS_1718_CP01.pkl&#39;</span><span class="p">)</span>


<span class="c1"># 1718 CP08 TREIER Jan</span>
<span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1718_CP08.pkl&#39;</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="n">race_data</span><span class="o">.</span><span class="n">Name</span> <span class="o">==</span> <span class="sa">u</span><span class="s1">&#39;TREIER Jan&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_SMSP_1718_CP08.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="CollectingCourseData"></a></p>
<h2 id="Collecting-the-course-data">Collecting the course data<a class="anchor-link" href="#Collecting-the-course-data">&#182;</a></h2><p>In order to consider the effects of conditions on race times and shooting accuracy, not to mention computing accurate speeds, it was necessary to collect a certain amount of data on the weather and course conditions. This data can be found at urls that look like:</p>
<p><a href="https://ibu.blob.core.windows.net/docs/0809/BT/SWRL/CH__/SMSP/BT_C82_1.1.pdf">https://ibu.blob.core.windows.net/docs/0809/BT/SWRL/CH__/SMSP/BT_C82_1.1.pdf</a></p>
<p>or more generally, like:</p>
<p><a href="https://ibu.blob.core.windows.net/docs/">https://ibu.blob.core.windows.net/docs/</a><font color = red>season</font>/BT/SWRL/<font color = red>event</font>/<font color = red>race</font>/BT_C82_1.0.pdf</p>
<p>Due to the layout of these pages, it was simpler to collect all of the weather information over the course of a season and all of the course information over the course of a season separately, and then to pickle the resulting dataframes. As a result, we produce both a weather dataframe and a course dataframe for each season. We begin by collecting the course data.</p>
<p>In order to do this, we use the following functions:</p>
<ol>
<li><a href = "#get_summary_file">```get_summary_file```</a>: This function takes a year, event, and race type, finds the url of the associated competition data summary, then downloads the file and stores it at summary.pdf.</li>
<li><a href = "#extract_distance">```extract_distance```</a>: This function takes in a string  containing a distance and strips any letters from the string. It then converts any distances given in kilometers into meters and returns the relevant distances in meters.</li>
<li><a href = "#extract_values">```extract_values```</a>: This function takes a string containing a value and strips non numerical information from it.</li>
<li><a href = "#course_layout_split">```course_layout_split```</a>: This function takes as input the contents of the cell containing the course layout, which can be of many forms. It calls <code>extract_distance</code> to remove extraneous information and to convert all lengths to meters and returns the lengths of the individual laps.</li>
<li><a href = "#get_course_info">```get_course_info```</a>: This function reads a pdf file containing the competition data summary for a race and returns the course information in the form of a dataframe containing a single line.</li>
<li><a href = "#collect_course_info">```collect_course_info```</a>: This function calls <code>get_course_info</code> for each men's sprint race in a world cup season, concatenates the returned dataframes, and stores the resulting dataframe as a pickle file.</li>
</ol>
<p>I ran <code>collect_course_info</code> over all the seasons for which competition data summary files existed (from 2004-2005 on). Once again, some of the <a href = "#olympic_course">Olympic files</a> posed a problem, once because of a non standard url (as above), and once because of a nonstandard pdf layout. In both cases, I added the necessary information to the relevent course file manually.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "get_summary_file"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">get_summary_file : downloads a biathlon results competition data summary file to the hard </span>
<span class="sd">                    drive </span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>


<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">Stores a .pdf file at summary.pdf. </span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">):</span>

    <span class="n">url</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https://ibu.blob.core.windows.net/docs/</span><span class="si">%(y)s</span><span class="s2">/BT/SWRL/</span><span class="si">%(e)s</span><span class="s2">/</span><span class="si">%(r)s</span><span class="s2">/BT_C82_1.0.pdf&quot;</span> 
           <span class="o">%</span><span class="p">{</span><span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">:</span><span class="n">race</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">year</span><span class="p">})</span>
        
    <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "extract_distance"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function </span>
<span class="sd">--------</span>

<span class="sd">extract_distance : takes in a string of containing a distance, strips excess data, and returns </span>
<span class="sd">                    the relevant distances in meters</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string which contains a distance, possibly in meters, possibly in kilometers, as </span>
<span class="sd">        well as a possible unit or course description</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">dist : the distance, stripped of any other words or symbols and converted into meters if</span>
<span class="sd">        necessary</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">extract_distance</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">multiple</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="c1"># First, split the string to allow extraction.</span>

    <span class="n">split_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="c1"># Next, get rid of any pieces that are just color, unit, etc</span>
    
    <span class="n">to_strip</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;course&#39;</span><span class="p">,</span> <span class="s1">&#39;km&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;Yellow&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Green&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">,</span><span class="s1">&#39;Brown&#39;</span><span class="p">,</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span><span class="s1">&#39;Course&#39;</span><span class="p">]</span>
    <span class="n">digits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;9&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">]</span>
    
    <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_string</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_strip</span><span class="p">:</span>
            <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            
    <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
    
            
    <span class="c1"># For what is left</span>
    
    <span class="k">if</span> <span class="s1">&#39;x&#39;</span> <span class="ow">in</span> <span class="n">to_keep</span><span class="p">:</span>
        <span class="c1"># We have multiple notation</span>
        <span class="n">multiple</span> <span class="o">=</span> <span class="bp">True</span>
        
        <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">i</span>
                
        <span class="n">to_keep</span> <span class="o">=</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
        
        <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
                <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
        
        
    <span class="k">else</span><span class="p">:</span>
        
        <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
                <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

        <span class="n">dist</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
        
    <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>


    <span class="k">return</span> <span class="n">dist</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "extract_values"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">extract_values : takes a string containing a value and strips non numerical information</span>
<span class="sd">                from it, e.g., HD, MT, km, etc.</span>


<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string which contains a number and may contain other symbols </span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">value : the number that remains when extraneous data has been stripped.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">extract_values</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">split_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="n">to_strip</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;(HD)&quot;</span><span class="p">,</span> <span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;(MM)&quot;</span><span class="p">,</span> <span class="s2">&quot;MM&quot;</span><span class="p">,</span> <span class="s2">&quot;(MT)&quot;</span><span class="p">,</span> <span class="s2">&quot;MT&quot;</span><span class="p">,</span> <span class="s2">&quot;(Length)&quot;</span><span class="p">,</span> <span class="s2">&quot;Length&quot;</span><span class="p">,</span> <span class="s2">&quot;km&quot;</span><span class="p">,</span>
                <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;Difference:&quot;</span><span class="p">,</span> <span class="s2">&quot;Max.&quot;</span><span class="p">,</span> <span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;Climb:&quot;</span><span class="p">,</span> <span class="s2">&quot;Total&quot;</span><span class="p">,</span> <span class="s2">&quot;Course&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Length:&quot;</span><span class="p">,</span> <span class="s1">&#39;nan&#39;</span><span class="p">]</span>
    
    <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_string</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_strip</span><span class="p">:</span>
            <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
            
    <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
    
    <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="n">value</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "course_layout_split"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">course_layout_split : takes the contents of the cell containing the course layout and </span>
<span class="sd">                    returns the individual lap length</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string containing the (possibly) concatenated loop lengths for a sprint race</span>
<span class="sd">race : the code for the race (SWSP for a women&#39;s sprint, SMSP for a men&#39;s sprint)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">distance : a list containing the lengths of the three laps of the sprint race.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">course_layout_split</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">distance</span> <span class="o">=</span> <span class="p">[]</span>
            
    <span class="n">split</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span> <span class="c1"># then each of the loop distances is in here separately</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span> <span class="p">:</span> <span class="c1"># They&#39;re hopefully skiing the two middle laps together</span>
        <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
        
    <span class="k">else</span><span class="p">:</span> <span class="c1"># The same distance is skied for each lap</span>
        <span class="n">distance</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                         <span class="n">extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span>
        
                    
    <span class="k">return</span> <span class="n">distance</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "get_course_info"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">get_course_info : reads a pdf file containing the competition data summary for a race and </span>
<span class="sd">                    returns the course information</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">filename : A file containing a pdf of competition data summary</span>
<span class="sd">year : The season of the race (necessary to determine which portion of the page to read)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : The relevant course data in a single line dataframe</span>

<span class="sd">Example</span>
<span class="sd">-------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_course_info</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">summary_areas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
                <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">586</span><span class="p">)],</span>
                <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">242</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">350</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">380</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">550</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">270</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">375</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">381</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1314&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">381</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">217</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">323</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">221</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">326</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">580</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">252</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">386</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">577</span><span class="p">)],</span>
                <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">252</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">386</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">577</span><span class="p">)]}</span>
    
    <span class="n">summary_areas_OG</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0506&quot;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">355</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">434</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">515</span><span class="p">,</span> <span class="mi">572</span><span class="p">)]}</span>
    

    <span class="n">data</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">area</span> <span class="o">=</span> <span class="n">summary_areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
    
    
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">]</span>
    
    <span class="c1"># First, I want to find where the Course Information cell is, because my stuff is there</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Course Information&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">i</span>
        
    <span class="c1"># The important information should be in rows b+1 to b+5</span>
    
    <span class="c1"># Get the loop information and add it to info</span>
    
    <span class="n">distance</span> <span class="o">=</span> <span class="n">course_layout_split</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">race</span><span class="p">)</span>
    <span class="n">info</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
    
    <span class="c1"># Get the other information and add it to the info</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">stuff</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">stuff</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">stuff</span><span class="p">]</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stuff</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">extract_values</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">info</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">info</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "collect_course_info"></a>
<a href = "#CollectingCourseData">Back to Collecting the course data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">collect_course_info : collects the course information for all of the men&#39;s or women&#39;s </span>
<span class="sd">                        sprint races for an entire world cup season</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : The code for the season under consideration</span>
<span class="sd">gender : M or W</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">data : A data frame containing the data summary for all the men&#39;s or women&#39;s races in the </span>
<span class="sd">        given season</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">collect_course_info</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">gender</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span>
        <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMSP&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SWSP&#39;</span><span class="p">]</span>
        
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span> <span class="s1">&#39;CP02&#39;</span><span class="p">,</span> <span class="s1">&#39;CP03&#39;</span><span class="p">,</span> <span class="s1">&#39;CP04&#39;</span><span class="p">,</span> <span class="s1">&#39;CP05&#39;</span><span class="p">,</span> <span class="s1">&#39;CP06&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;CP08&#39;</span><span class="p">,</span> <span class="s1">&#39;CP09&#39;</span><span class="p">,</span> <span class="s1">&#39;CH__&#39;</span><span class="p">,</span>
              <span class="s1">&#39;OG__&#39;</span><span class="p">]</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">racecodes</span><span class="p">:</span>
            <span class="n">get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">get_course_info</span><span class="p">(</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            
    <span class="n">pickle</span> <span class="o">=</span> <span class="s2">&quot;course_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
            
    <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>    
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">pickle</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">collect_course_info</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "olympic_course"></a></p>
<h4 id="Problems-with-the-Sochi--and-PyeongChang-Olympic-Games">Problems with the Sochi  and PyeongChang Olympic Games<a class="anchor-link" href="#Problems-with-the-Sochi--and-PyeongChang-Olympic-Games">&#182;</a></h4><p>Due to a nonstandardized choice of url for the competition summary files for the Sochi Olympics and then nonstandardized choice of layout for the PyeongChang Olympics, I judged that it would be simpler to simply add the relevant data for these events by hand rather than to try to write a function to put it in. The code for that is:</p>
<p><a href = "#CollectingData">Back to Collecting the Course Data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># For the Sochi Olympics</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;course_summary_1314_M.pkl&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">,</span><span class="mi">3393</span><span class="p">,</span><span class="mi">3388</span><span class="p">,</span><span class="mi">3494</span><span class="p">,</span><span class="mi">10275</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">381</span><span class="p">]]</span>

<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">])</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df1</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;course_summary_1314_M.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># For the PyeongChang Olympics</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;course_summary_1718_M.pkl&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;1718&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">,</span><span class="s1">&#39;SMSP&#39;</span><span class="p">,</span><span class="mi">3159</span><span class="p">,</span><span class="mi">3424</span><span class="p">,</span><span class="mi">3230</span><span class="p">,</span><span class="mi">9813</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">348</span><span class="p">]]</span>

<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">])</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df1</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;course_summary_1718_M.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="CollectingWeatherData"></a></p>
<h2 id="Collecting-the-weather-data">Collecting the weather data<a class="anchor-link" href="#Collecting-the-weather-data">&#182;</a></h2><p>The weather data for the races (temperature, humidity, wind, etc) can be found on the same pdf as the course data. In order to keep things managable, I collected the weather data separately, and stored it in a separate dataframe from the course data.</p>
<p>The functions that were used for collecting the weather information are as follows:</p>
<ol>
<li><a href = "#get_weather_info">```get_weather_info```</a>: This function takes a pdf file containing a competition data summary and uses tabula-py to read in the portion containing data about weather conditions. It then collects information about weather, snow conditions, air temperature, snow temperature, humidity, and wind speed and returns that information in the form of a dataframe containing a single row.</li>
<li><a href = "#collect_weather">```collect_weather```</a>: This function calls <code>get_weather_info</code> for each men's sprint race in a world cup season, concatenates the returned dataframes, and stores the resulting dataframe as a pickle file.</li>
</ol>
<p>Once again, we run into problems with the Sochi (url) and PyeongChang (layout) <a href = "#olympic_weather">Olympic Games</a>. I again judged that the simplest solution was to enter the missing information manually.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "get_weather_info"></a>
<a href = "#CollectingWeatherData">Back to Collecting the weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">get_weather_info : takes a pdf file containing a competition data summary returns information </span>
<span class="sd">                    about the weather and snow conditions during the given race</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">filename : A file containing a pdf of competition data summary</span>
<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : The relevant weather data in a single line dataframe</span>

<span class="sd">Example</span>
<span class="sd">-------</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">get_weather_info</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">summary_areas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">464</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">540</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">442</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">520</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">471</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">548</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">475</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1314&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">475</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">417</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">420</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">498</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">488</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">577</span><span class="p">)],</span>
                <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">488</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">577</span><span class="p">)]}</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">area</span> <span class="o">=</span> <span class="n">summary_areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
            
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span><span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span><span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span><span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span><span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind D&#39;</span><span class="p">]</span>
    
    <span class="c1"># Find the upper left corner of the data, which is the word &#39;Weather&#39;</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;Weather&#39;</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">column</span> <span class="o">=</span> <span class="n">j</span>
        
    <span class="c1"># Drop all extraneous rows</span>
    
    <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">8</span><span class="p">:],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        
    <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="n">row</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        
    <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Drop any columns that are now entirely nan values</span>
    
    <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Weather&quot;</span><span class="p">:</span>
            <span class="n">row1</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Humidity&quot;</span><span class="p">:</span>
            <span class="n">row2</span> <span class="o">=</span> <span class="n">i</span>

    <span class="n">difference</span> <span class="o">=</span> <span class="n">row2</span> <span class="o">-</span> <span class="n">row1</span>
    
    <span class="k">if</span> <span class="n">difference</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">race</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">race_1</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">1</span><span class="p">])):</span>
            <span class="n">race_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]),</span><span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="n">i</span><span class="p">])]))</span>
        <span class="n">new_race</span> <span class="o">=</span> <span class="p">[</span><span class="n">race</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">race_1</span><span class="p">,</span> <span class="n">race</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="n">race</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="mi">7</span><span class="p">]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">new_race</span><span class="p">)</span>
    
    <span class="c1"># Fill the dataframe row</span>
    
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
    
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>            
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span><span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="n">length</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
            
    <span class="k">else</span><span class="p">:</span>
        
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="n">length</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
    <span class="c1"># Make it a dataframe</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">info</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "collect_weather"></a>
<a href = "#CollectingWeatherData">Back to Collecting the weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">collect_weather : passes through all of the sprint races for a given season and collects </span>
<span class="sd">                    the weather data into a single data frame </span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">gender : M or W</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">data : A data frame containing the data summary for all the men&#39;s or women&#39;s races in the </span>
<span class="sd">        given season</span>

<span class="sd">NB: columns coded &#39;A&#39; give conditions 30 minutes before start time, columns coded &#39;B&#39; </span>
<span class="sd">    give conditions at start time, columns coded &#39;C&#39; give conditions 30 minutes after</span>
<span class="sd">    start time, and columns coded &#39;D&#39; give conditions at the finish.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">collect_weather</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">gender</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="s1">&#39;M&#39;</span><span class="p">:</span>
        <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMSP&#39;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SWSP&#39;</span><span class="p">]</span>
        
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span> <span class="s1">&#39;CP02&#39;</span><span class="p">,</span> <span class="s1">&#39;CP03&#39;</span><span class="p">,</span> <span class="s1">&#39;CP04&#39;</span><span class="p">,</span> <span class="s1">&#39;CP05&#39;</span><span class="p">,</span> <span class="s1">&#39;CP06&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;CP08&#39;</span><span class="p">,</span> <span class="s1">&#39;CP09&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;CH__&#39;</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">]</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Wind D&#39;</span><span class="p">])</span>
    
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">racecodes</span><span class="p">:</span>
            <span class="n">get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">get_weather_info</span><span class="p">(</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            
    <span class="n">pickle</span> <span class="o">=</span> <span class="s2">&quot;weather_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
            
    <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>   
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">pickle</span><span class="p">)</span>
    
    <span class="n">course_file</span> <span class="o">=</span> <span class="s2">&quot;course_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
    <span class="n">course</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">course_file</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;You have&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">),</span> <span class="s2">&quot;course files and only&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;&quot;&quot;weather files </span><span class="se">\</span>
<span class="s2">        for the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;You have&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;weather files and only&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">),</span> <span class="s2">&quot;&quot;&quot;course files </span><span class="se">\</span>
<span class="s2">        for the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;&quot;&quot;You have the same number of weather and course files for </span><span class="se">\</span>
<span class="s2">        the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>

    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">collect_weather</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>You have the same number of weather and course files for         the M 0405 season.
You have the same number of weather and course files for         the M 0506 season.
You have the same number of weather and course files for         the M 0607 season.
You have the same number of weather and course files for         the M 0708 season.
You have the same number of weather and course files for         the M 0809 season.
You have the same number of weather and course files for         the M 0910 season.
You have the same number of weather and course files for         the M 1011 season.
You have the same number of weather and course files for         the M 1112 season.
You have the same number of weather and course files for         the M 1213 season.
You have 9 course files and only 8 weather files         for the M 1314 season.
You have the same number of weather and course files for         the M 1415 season.
You have the same number of weather and course files for         the M 1516 season.
You have the same number of weather and course files for         the M 1617 season.
You have the same number of weather and course files for         the M 1718 season.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "olympic_weather"></a></p>
<h2 id="Problems-with-the-Olympic-Games">Problems with the Olympic Games<a class="anchor-link" href="#Problems-with-the-Olympic-Games">&#182;</a></h2><p><a href = "#CollectingWeatherData">Back to Collecting the weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;weather_summary_1314_M.pkl&quot;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">,</span> <span class="s1">&#39;Sky Clear&#39;</span><span class="p">,</span> <span class="s1">&#39;Partly Cloudy&#39;</span><span class="p">,</span> <span class="s1">&#39;Partly Cloudy&#39;</span><span class="p">,</span> <span class="s1">&#39;Partly Cloudy&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Packed&#39;</span><span class="p">,</span> <span class="s1">&#39;Packed&#39;</span><span class="p">,</span> <span class="s1">&#39;Packed&#39;</span><span class="p">,</span><span class="s1">&#39;Packed&#39;</span><span class="p">,</span> <span class="s1">&#39;-0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;-0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;-0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;-0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;1.9&#39;</span><span class="p">,</span> <span class="s1">&#39;0.9&#39;</span><span class="p">,</span>
       <span class="s1">&#39;0.4&#39;</span><span class="p">,</span> <span class="s1">&#39;0.3&#39;</span><span class="p">,</span> <span class="s1">&#39;47&#39;</span><span class="p">,</span> <span class="s1">&#39;54&#39;</span><span class="p">,</span> <span class="s1">&#39;56&#39;</span><span class="p">,</span> <span class="s1">&#39;54&#39;</span><span class="p">,</span> <span class="s1">&#39;0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="s1">&#39;0.0&#39;</span><span class="p">,</span> <span class="s1">&#39;0.0&#39;</span><span class="p">]]</span>
      
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Wind D&#39;</span><span class="p">])</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data</span><span class="p">,</span><span class="n">df</span><span class="p">])</span>
<span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1314_M.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;weather_summary_1718_M.pkl&quot;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;1718&#39;</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Light snow&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Mostly cloudy&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Mostly cloudy&#39;</span><span class="p">,</span> 
       <span class="sa">u</span><span class="s1">&#39;Mostly cloudy&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-12.9&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-14.3&#39;</span><span class="p">,</span>
       <span class="sa">u</span><span class="s1">&#39;-14.3&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-13.8&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-11.0&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-10.7&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-11.0&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;-11.3&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;68&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;63&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;64&#39;</span><span class="p">,</span>
       <span class="sa">u</span><span class="s1">&#39;64&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;1.9&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;2.7&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;1.4&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;2.3&#39;</span><span class="p">]]</span>
      
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;Wind D&#39;</span><span class="p">])</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">data</span><span class="p">,</span><span class="n">df</span><span class="p">])</span>
<span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1718_M.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_course_and_weather"></a></p>
<h1 id="Collecting-IBU-Cup-course-and-weather-data">Collecting IBU Cup course and weather data<a class="anchor-link" href="#Collecting-IBU-Cup-course-and-weather-data">&#182;</a></h1><p>Blah blah blah blah blah...</p>
<p>The functions that are used here are:</p>
<ol>
<li><a href = "#ibu_find_course_url">```ibu_find_course_url```</a>: This function, together with <code>ibu_get_summary_file</code> is analogous to <a href = "#get_summary_file">```get_summary_file```</a>.</li>
<li><a href = "#ibu_get_summary_file">```ibu_get_summary_file```</a>: This function, together with <code>ibu_find_course_url</code> is analogous to <a href = "#get_summary_file">```get_summary_file```</a>.</li>
<li><a href = "#ibu_extract_distance">```ibu_extract_distance```</a>: This function is analogous to <a href = "#extract_distance">```extract_distance```</a>.</li>
<li><a href = "#ibu_extract_values">```ibu_extract_values```</a>: This function is analogous to <a href = "#extract_values">```extract_values```</a>.</li>
<li><a href = "#ibu_course_layout_split">```ibu_course_layout_split```</a>: This function is analogous to <a href = "#course_layout_split">```course_layout_split```</a>.</li>
<li><a href = "#ibu_get_course_info">```ibu_get_course_info```</a>: This function is analogous to <a href = "#get_course_info">```get_course_info```</a>.</li>
<li><a href = "#ibu_collect_course_info">```ibu_collect_course_info```</a>: This function is analogous to <a href = "#collect_course_info">```collect_course_info```</a>.</li>
<li><a href = "#ibu_get_weather_info">```ibu_get_weather_info```</a>: This function is analogous to <a href = "#get_weather_info">```get_weather_info```</a>.</li>
<li><a href = "#ibu_get_weather_info">```ibu_get_weather_info```</a>: This function is analogous to <a href = "#get_weather_info">```get_weather_info```</a>.</li>
</ol>
<p><a href = "#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_find_course_url"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_find_course_url : given the year, event, and race code of a particular competition, </span>
<span class="sd">                        returns the url for the competition data summary</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">course_url : a string containing the url of the competition data summary pdf</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_find_course_url</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">]:</span>
        <span class="n">cup</span> <span class="o">=</span> <span class="s2">&quot;SCEU&quot;</span>
    <span class="k">elif</span> <span class="n">event</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;CH__&#39;</span><span class="p">]:</span>
        <span class="n">cup</span> <span class="o">=</span> <span class="s2">&quot;SCEU&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cup</span> <span class="o">=</span> <span class="s2">&quot;SIBU&quot;</span>
    
    <span class="n">course_url</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;https://ibu.blob.core.windows.net/docs/</span><span class="si">%(y)s</span><span class="s2">/BT/</span><span class="si">%(c)s</span><span class="s2">/</span><span class="si">%(e)s</span><span class="s2">/</span><span class="si">%(r)s</span><span class="s2">/BT_C82_1.0.pdf&quot;</span>
        <span class="o">%</span><span class="p">{</span><span class="s2">&quot;y&quot;</span> <span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="n">cup</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span> <span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span> <span class="p">:</span> <span class="n">race</span><span class="p">})</span>
    
    <span class="k">return</span> <span class="n">course_url</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Course and weather areas</span>

<span class="n">ibu_course_area</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0405&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">268</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">453</span><span class="p">,</span> <span class="mi">560</span><span class="p">),</span> <span class="p">(</span><span class="mi">453</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">594</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
               <span class="s1">&#39;0506&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">355</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">451</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">451</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">700</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
               <span class="s1">&#39;0607&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">266</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">431</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">431</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">586</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
               <span class="s1">&#39;0708&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">266</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">439</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">439</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">593</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
               <span class="s1">&#39;0809&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">243</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">428</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">571</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
               <span class="s1">&#39;0910&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">241</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">419</span><span class="p">,</span> <span class="mi">558</span><span class="p">),</span> <span class="p">(</span><span class="mi">419</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">589</span><span class="p">,</span> <span class="mi">558</span><span class="p">)],</span>
               <span class="s1">&#39;1011&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">416</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">416</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">567</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1112&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">232</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">431</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">431</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">573</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1213&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">239</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">438</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">438</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1314&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">249</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">440</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">440</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">579</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1415&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">182</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">382</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">382</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">529</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1516&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">183</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">383</span><span class="p">,</span> <span class="mi">568</span><span class="p">),</span> <span class="p">(</span><span class="mi">383</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
               <span class="s1">&#39;1617&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">440</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">440</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">609</span><span class="p">,</span> <span class="mi">572</span><span class="p">)],</span>
               <span class="s1">&#39;1718&#39;</span> <span class="p">:</span> <span class="p">[(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">440</span><span class="p">,</span> <span class="mi">572</span><span class="p">),</span> <span class="p">(</span><span class="mi">440</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">609</span><span class="p">,</span> <span class="mi">572</span><span class="p">)]}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_get_summary_file"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_get_summary_file : retrieves a competition data summary pdf file from the web</span>
<span class="sd">                        and stores it on the hard drive</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>


<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">Stores a .pdf file at summary.pdf. </span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">):</span>

    <span class="n">url</span> <span class="o">=</span> <span class="n">ibu_find_course_url</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
    
    
    <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_extract_distance"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function </span>
<span class="sd">--------</span>

<span class="sd">ibu_extract_distance : takes in a string of containing a distance, strips excess data, and</span>
<span class="sd">                        returns the relevant distances in meters</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string which contains a distance, possibly in meters, possibly in kilometers, as </span>
<span class="sd">        well as a possible unit or course description</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">dist : the distance, stripped of any other words or symbols and converted into meters if</span>
<span class="sd">        necessary</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_extract_distance</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">multiple</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="c1"># First, split the string to allow extraction.</span>

    <span class="n">split_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="c1"># Next, get rid of any pieces that are just color, unit, etc</span>
    
    <span class="n">to_strip</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;course&#39;</span><span class="p">,</span> <span class="s1">&#39;km&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;Yellow&#39;</span><span class="p">,</span>
                <span class="s1">&#39;Green&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">,</span><span class="s1">&#39;Brown&#39;</span><span class="p">,</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span> <span class="s1">&#39;Course&#39;</span><span class="p">]</span>
    <span class="n">digits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;9&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">]</span>
    
    <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_string</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_strip</span><span class="p">:</span>
            <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            
    <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
    
            
    <span class="c1"># For what is left</span>
    
    <span class="k">if</span> <span class="s1">&#39;x&#39;</span> <span class="ow">in</span> <span class="n">to_keep</span><span class="p">:</span>
        <span class="c1"># We have multiple notation</span>
        <span class="n">multiple</span> <span class="o">=</span> <span class="bp">True</span>
        
        <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">i</span>
                
        <span class="n">to_keep</span> <span class="o">=</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
        
        <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
                <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
        
        
    <span class="k">else</span><span class="p">:</span>
        
        <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
                <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

        <span class="n">dist</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
        
    <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>


    <span class="k">return</span> <span class="n">dist</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_extract_values"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_extract_values : takes a string containing a value and strips non numerical information</span>
<span class="sd">                from it, e.g., HD, MT, km, etc.</span>


<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string which contains a number and may contain other symbols </span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">value : the number that remains when extraneous data has been stripped.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_extract_values</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">split_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    
    <span class="n">to_strip</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;(HD)&quot;</span><span class="p">,</span> <span class="s2">&quot;HD&quot;</span><span class="p">,</span> <span class="s2">&quot;(MM)&quot;</span><span class="p">,</span> <span class="s2">&quot;MM&quot;</span><span class="p">,</span> <span class="s2">&quot;(MT)&quot;</span><span class="p">,</span> <span class="s2">&quot;MT&quot;</span><span class="p">,</span> <span class="s2">&quot;(Length)&quot;</span><span class="p">,</span> <span class="s2">&quot;Length&quot;</span><span class="p">,</span> <span class="s2">&quot;km&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;Height&quot;</span><span class="p">,</span> <span class="s2">&quot;Difference:&quot;</span><span class="p">,</span>
               <span class="s2">&quot;Max.&quot;</span><span class="p">,</span> <span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;Climb:&quot;</span><span class="p">,</span> <span class="s2">&quot;Total&quot;</span><span class="p">,</span> <span class="s2">&quot;Course&quot;</span><span class="p">,</span> <span class="s2">&quot;Length:&quot;</span><span class="p">,</span> <span class="s1">&#39;nan&#39;</span><span class="p">]</span>
    
    <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">split_string</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">to_strip</span><span class="p">:</span>
            <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
            
    <span class="n">to_keep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)</span>
    
    <span class="n">number</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">to_keep</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">to_keep</span><span class="p">[</span><span class="n">j</span><span class="p">])))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="n">value</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_course_layout_split"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_course_layout_split : takes the contents of the cell containing the course layout and </span>
<span class="sd">                    returns the individual lap length</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string containing the (possibly) concatenated loop lengths for a sprint race</span>
<span class="sd">race : the code for the race (SWSP for a women&#39;s sprint, SMSP for a men&#39;s sprint)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">distance : a list containing the lengths of the three laps of the sprint race.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_course_layout_split</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">distance</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">if</span> <span class="n">race</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;SWSP&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">,</span><span class="s1">&#39;SWSPS&#39;</span><span class="p">,</span><span class="s1">&#39;SMSPS&#39;</span><span class="p">]:</span> <span class="c1"># (race is a sprint)</span>
        
        <span class="n">split</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span> <span class="c1"># then each of the loop distances is in here separately</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span> <span class="p">:</span> <span class="c1"># They&#39;re hopefully skiing the two middle laps together</span>
            <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
            <span class="n">distance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># The same distance is skied for each lap</span>
            <span class="n">distance</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                             <span class="n">ibu_extract_distance</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="mi">0</span><span class="p">])])</span>
        
    <span class="k">return</span> <span class="n">distance</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_get_course_info"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_get_course_info : reads a pdf file containing the competition data summary for a race and </span>
<span class="sd">                    returns the course information</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">filename : A file containing a pdf of competition data summary</span>
<span class="sd">year : The season of the race (necessary to determine which portion of the page to read)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : The relevant course data in a single line dataframe</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_get_course_info</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">summary_areas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">290</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">395</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">588</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">560</span><span class="p">,</span> <span class="mi">560</span><span class="p">)],</span>
                <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">380</span><span class="p">,</span> <span class="mi">557</span><span class="p">),(</span><span class="mi">273</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">586</span><span class="p">)],</span>
                <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">242</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">350</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">380</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">550</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">270</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">375</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">381</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1314&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">381</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">275</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">600</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">217</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">323</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">350</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">530</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">221</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">326</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">580</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">252</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">386</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">577</span><span class="p">)],</span>
                <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">252</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">386</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">590</span><span class="p">,</span> <span class="mi">577</span><span class="p">)]}</span>
        

    <span class="n">data</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">area</span> <span class="o">=</span> <span class="n">summary_areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">]</span>
    
    <span class="c1"># First, I want to find where the Course Information cell is, because my stuff is there</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="s2">&quot;Course Information&quot;</span> <span class="ow">in</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">i</span>
        
    <span class="c1"># The important information should be in rows b+1 to b+5</span>
    
    <span class="c1"># Get the loop information and add it to info</span>
    
    <span class="n">distance</span> <span class="o">=</span> <span class="n">ibu_course_layout_split</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">race</span><span class="p">)</span>
    <span class="n">info</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
    
    <span class="c1"># Get the other information and add it to the info</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">stuff</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="p">:]</span>
        <span class="n">stuff</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">stuff</span><span class="p">]</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stuff</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">ibu_extract_values</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">info</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">info</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_collect_course_info"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_collect_course_info : collects the course information for all of the men&#39;s or women&#39;s </span>
<span class="sd">                        sprint races for an entire IBU world cup season</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : The code for the season under consideration</span>
<span class="sd">gender : M or W</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">data : A data frame containing the data summary for all the men&#39;s or women&#39;s races in the </span>
<span class="sd">        given season</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_collect_course_info</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">gender</span><span class="p">):</span>
    
    <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMSP&#39;</span><span class="p">,</span><span class="s1">&#39;SMSPS&#39;</span><span class="p">]</span>
        
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span> <span class="s1">&#39;CP02&#39;</span><span class="p">,</span> <span class="s1">&#39;CP03&#39;</span><span class="p">,</span> <span class="s1">&#39;CP04&#39;</span><span class="p">,</span> <span class="s1">&#39;CP05&#39;</span><span class="p">,</span> <span class="s1">&#39;CP06&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;CP08&#39;</span><span class="p">,</span> <span class="s1">&#39;CH__&#39;</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">]</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span><span class="s1">&#39;Loop 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Loop 3&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">racecodes</span><span class="p">:</span>
            <span class="n">ibu_get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">ibu_get_course_info</span><span class="p">(</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            
    <span class="n">pickle</span> <span class="o">=</span> <span class="s2">&quot;ibu_course_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
            
    <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>    
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">pickle</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">ibu_collect_course_info</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_get_weather_info"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_get_weather_info : takes a pdf file containing a competition data summary returns</span>
<span class="sd">                    information about the weather and snow conditions during the given race</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">filename : A file containing a pdf of competition data summary</span>
<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>
<span class="sd">race : a four character code specifying the race. Possibilities are SWIN, SWSP, SWPU, SMIN,</span>
<span class="sd">        SMSP, SMPU</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : The relevant weather data in a single line dataframe</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_get_weather_info</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">):</span>
    
    <span class="n">summary_areas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;0405&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0506&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0607&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0708&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">464</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">540</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0809&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;0910&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">428</span><span class="p">,</span> <span class="mi">576</span><span class="p">),(</span><span class="mi">474</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">554</span><span class="p">,</span> <span class="mi">557</span><span class="p">)],</span>
                <span class="s2">&quot;1011&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">442</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">520</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1112&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">471</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">548</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1213&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">475</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1314&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">425</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">475</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1415&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">417</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">493</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1516&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">568</span><span class="p">),(</span><span class="mi">420</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">498</span><span class="p">,</span> <span class="mi">568</span><span class="p">)],</span>
                <span class="s2">&quot;1617&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">488</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">577</span><span class="p">)],</span>
                <span class="s2">&quot;1718&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">577</span><span class="p">),(</span><span class="mi">488</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">577</span><span class="p">)]}</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="n">read_pdf</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">area</span> <span class="o">=</span> <span class="n">summary_areas</span><span class="p">[</span><span class="n">year</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">guess</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
        
    
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span><span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind D&#39;</span><span class="p">]</span>
    
    <span class="c1"># Find the upper left corner of the data, which is the word &#39;Weather&#39;</span>
    
    <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="s1">&#39;Weather&#39;</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">column</span> <span class="o">=</span> <span class="n">j</span>
        
    <span class="c1"># Drop all extraneous rows</span>
    
    <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">row</span><span class="o">+</span><span class="mi">8</span><span class="p">:],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        
    <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="n">row</span><span class="p">],</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        
    <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="c1"># Drop any columns that are now entirely nan values</span>
    
    <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Weather&quot;</span><span class="p">:</span>
            <span class="n">row1</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Humidity&quot;</span><span class="p">:</span>
            <span class="n">row2</span> <span class="o">=</span> <span class="n">i</span>

    <span class="n">difference</span> <span class="o">=</span> <span class="n">row2</span> <span class="o">-</span> <span class="n">row1</span>
    
    <span class="k">if</span> <span class="n">difference</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">race</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">race_1</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">1</span><span class="p">])):</span>
            <span class="n">race_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]),</span><span class="nb">unicode</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="n">i</span><span class="p">])]))</span>
        <span class="n">new_race</span> <span class="o">=</span> <span class="p">[</span><span class="n">race</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">race_1</span><span class="p">,</span> <span class="n">race</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="n">race</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="mi">7</span><span class="p">]]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">new_race</span><span class="p">)</span>
    
    <span class="c1"># Fill the dataframe row</span>
    
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
    
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>            
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">if</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;nan&#39;</span><span class="p">,</span> <span class="s1">&#39;NaN&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="n">length</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
            
    <span class="k">else</span><span class="p">:</span>
        
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            
        <span class="n">cond</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
            <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
            <span class="n">info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="n">cond</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="n">length</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
    <span class="c1"># Make it a dataframe</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">info</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_collect_weather"></a>
<a href = "#ibu_course_and_weather">Back to Collecting IBU Cup course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_collect_weather : passes through all of the sprint races for a given season and collects </span>
<span class="sd">                    the weather data into a single data frame </span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">year : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">gender : M or W</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">data : A data frame containing the data summary for all the men&#39;s or women&#39;s races in the </span>
<span class="sd">        given season</span>

<span class="sd">NB: columns coded &#39;A&#39; give conditions 30 minutes before start time, columns coded &#39;B&#39; </span>
<span class="sd">    give conditions at start time, columns coded &#39;C&#39; give conditions 30 minutes after</span>
<span class="sd">    start time, and columns coded &#39;D&#39; give conditions at the finish.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_collect_weather</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">gender</span><span class="p">):</span>
    
    <span class="n">racecodes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SMSP&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSPS&#39;</span><span class="p">]</span>
            
    <span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span> <span class="s1">&#39;CP02&#39;</span><span class="p">,</span> <span class="s1">&#39;CP03&#39;</span><span class="p">,</span> <span class="s1">&#39;CP04&#39;</span><span class="p">,</span> <span class="s1">&#39;CP05&#39;</span><span class="p">,</span> <span class="s1">&#39;CP06&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;CP08&#39;</span><span class="p">,</span> <span class="s1">&#39;CP09&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;CH__&#39;</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">]</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Race&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Weather C&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Snow Cond C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Cond D&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Snow Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp A&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp B&#39;</span><span class="p">,</span> 
                                 <span class="s1">&#39;Air Temp C&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp D&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity A&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity B&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Humidity C&#39;</span><span class="p">,</span> <span class="s1">&#39;Humidity D&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind A&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind B&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind C&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;Wind D&#39;</span><span class="p">])</span>
    
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">race</span> <span class="ow">in</span> <span class="n">racecodes</span><span class="p">:</span>
            <span class="n">ibu_get_summary_file</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">race</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">ibu_get_weather_info</span><span class="p">(</span><span class="s2">&quot;summary.pdf&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            
    <span class="n">pickle</span> <span class="o">=</span> <span class="s2">&quot;ibu_weather_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
            
    <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>   
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">pickle</span><span class="p">)</span>
    
    <span class="n">course_file</span> <span class="o">=</span> <span class="s2">&quot;ibu_course_summary_</span><span class="si">%(year)s</span><span class="s2">_</span><span class="si">%(gender)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="n">gender</span><span class="p">}</span>
    <span class="n">course</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">course_file</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;You have&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">),</span> <span class="s2">&quot;course files and only&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;&quot;&quot;weather files </span><span class="se">\</span>
<span class="s2">        for the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&quot;You have&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">),</span> <span class="s2">&quot;weather files and only&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">course</span><span class="p">),</span> <span class="s2">&quot;&quot;&quot;course files </span><span class="se">\</span>
<span class="s2">        for the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s2">&quot;&quot;&quot;You have the same number of weather and course files for </span><span class="se">\</span>
<span class="s2">        the&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="s2">&quot;season.&quot;</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">ibu_collect_weather</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>You have the same number of weather and course files for         the M 0405 season.
You have the same number of weather and course files for         the M 0506 season.
You have the same number of weather and course files for         the M 0607 season.
You have the same number of weather and course files for         the M 0708 season.
You have the same number of weather and course files for         the M 0809 season.
You have the same number of weather and course files for         the M 0910 season.
You have the same number of weather and course files for         the M 1011 season.
You have the same number of weather and course files for         the M 1112 season.
You have the same number of weather and course files for         the M 1213 season.
You have the same number of weather and course files for         the M 1314 season.
You have the same number of weather and course files for         the M 1415 season.
You have the same number of weather and course files for         the M 1516 season.
You have the same number of weather and course files for         the M 1617 season.
You have the same number of weather and course files for         the M 1718 season.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "data_corrections"></a></p>
<h1 id="Adjustments-to-course-and-weather-data">Adjustments to course and weather data<a class="anchor-link" href="#Adjustments-to-course-and-weather-data">&#182;</a></h1><p>Although at this point we have collected course and weather data for both the World Cup and IBU Cup races, there are still a few things to be done with these data files. In particular, I want to</p>
<ol>
<li>Convert quantitative variables from strings to float values. In some cases, this will require converting numbers given in European format. In order to do this, I use the function<ul>
<li><a href = "#euro_to_float">```euro_to_float```</a>: This function takes as input either a string containing a number in either decimal or European format or a number (float or integer). It then converts the input into a float and returns it. (Obviously, inputs that are actually floats are returned as is.) </li>
</ul>
</li>
<li>Add <a href = "#altitudes">altitudes</a> to for each race. The altitudes are currently stored in a .csv file, and were obtained by using the website <a href = "https://elevationmap.net/old/">elevationmap.net</a> together with the names of the biathlon stadia (available in the headers of the competition analysis files). </li>
<li>Add columns for <a href = "#quantitative_year">quantitative year</a> and <a href = "#quantitative_event">quantitative event</a> (which will be useful later).</li>
<li>Make a handful of <a href = "#corrections">corrections</a> for badly read or inaccurate data.</li>
</ol>
<p>We then perform the same <a href = "#ibu_corrections">steps</a> for the IBU Cup data</p>
<p><a href = "#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "euro_to_float"></a>
<a href = "#data_corrections">Back to Correcting course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">euro_to_float : converts numbers from European format (with commas as decimal </span>
<span class="sd">                separators) to standard decimal format</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a string containing a number, possibly in decimal format, possibly in European </span>
<span class="sd">        format. Could also be an integer or a real number</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">string2 : a real number (float) derived from the input string</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">euro_to_float</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">string2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>    
        <span class="n">string1</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">string1</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">string2</span> <span class="o">=</span> <span class="n">string</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">string2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">string1</span><span class="p">))</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">string2</span> <span class="o">=</span> <span class="n">string</span>
    
    <span class="k">return</span> <span class="n">string2</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;weather_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">filename1</span> <span class="o">=</span> <span class="s1">&#39;ibu_weather_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">])</span>
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename1</span><span class="p">)</span>
    
    <span class="n">columns</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="p">)):</span>
            <span class="n">df1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">])</span>
        
    <span class="n">df1</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">filename1</span> <span class="o">=</span> <span class="s1">&#39;ibu_course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">])</span>
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename1</span><span class="p">)</span>
    
    <span class="n">columns</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df1</span><span class="p">)):</span>
            <span class="n">df1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">column</span><span class="p">])</span>
        
    <span class="n">df1</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "altitudes"></a></p>
<h2 id="Adding-altitudes-to-the-course-summaries">Adding altitudes to the course summaries<a class="anchor-link" href="#Adding-altitudes-to-the-course-summaries">&#182;</a></h2><p><a href = "#data_corrections">Back to Correcting course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding altitudes to the dataframe (choosing to use course_summaries here)</span>

<span class="n">altitudes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;site_altitudes.csv&#39;</span><span class="p">)</span>
<span class="n">altitudes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">season</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">])</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>
    
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">altitudes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">]</span>

    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "quantitative_year"></a>
<a name = "quantitative_event"></a></p>
<h2 id="Quantifying-the-seasons-and-events">Quantifying the seasons and events<a class="anchor-link" href="#Quantifying-the-seasons-and-events">&#182;</a></h2><p><a href = "#data_corrections">Back to Correcting course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">quant_seasons</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0405&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;0506&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;0607&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;0708&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;0809&#39;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;0910&#39;</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
                 <span class="s1">&#39;1011&#39;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;1112&#39;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;1213&#39;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;1314&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;1415&#39;</span> <span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;1516&#39;</span> <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                 <span class="s1">&#39;1617&#39;</span> <span class="p">:</span> <span class="mi">13</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span> <span class="p">:</span> <span class="mi">14</span><span class="p">}</span>
<span class="n">quant_events</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CP01&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;CP02&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;CP03&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;CP04&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> 
                <span class="s1">&#39;CP05&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;CP06&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;CP07&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;CP08&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> 
                <span class="s1">&#39;CP09&#39;</span><span class="p">:[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="s1">&#39;CH__&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;OG__&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">]}</span>

<span class="c1"># note that the order of events in a given season is dependent on the season</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding quantitative values for season and event to the dataframes </span>
<span class="c1"># (choosing to use course_summaries here)</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">season</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">season</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="n">season</span><span class="p">])</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>
    
        <span class="k">if</span> <span class="n">season</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">]:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_seasons</span><span class="p">[</span><span class="n">season</span><span class="p">]</span>
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "quantitative_year"></a></p>
<h2 id="Correcting-inconsistancies-in-capitalization-and-bad-data">Correcting inconsistancies in capitalization and bad data<a class="anchor-link" href="#Correcting-inconsistancies-in-capitalization-and-bad-data">&#182;</a></h2><p>To be entirely clear here, bad data refers to cases where the data was misread from the pdf files, in which case it is being replaced by the original data from the pdf file, and cases where the given values are logically impossible (a maximum climb that exceeds the height differential of the course) in which case it is replaced by the value from other races held at the same site.
<a href = "#data_corrections">Back to Correcting course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Making a few alterations to snow and weather conditions due to inconsistancies in using</span>
<span class="c1"># capitalization</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;weather_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Mostly cloudy&#39;</span><span class="p">,</span><span class="s1">&#39;Mostly Cloudy&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Partly cloudy&#39;</span><span class="p">,</span><span class="s1">&#39;Partly Cloudy&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Partly cloudy night&#39;</span><span class="p">,</span><span class="s1">&#39;Partly Cloudy Night&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Packed powder&#39;</span><span class="p">,</span><span class="s1">&#39;Packed Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet and powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet &amp; powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet and Powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Light snow&#39;</span><span class="p">,</span><span class="s1">&#39;Light Snow&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Hard packed variable&#39;</span><span class="p">,</span><span class="s1">&#39;Hard Packed Variable&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Hard packed&#39;</span><span class="p">,</span><span class="s1">&#39;Hard Packed&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Spring conditions&#39;</span><span class="p">,</span> <span class="s1">&#39;Spring Conditions&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Correcting for misread or missing data </span>

<span class="c1"># PyeongChang 1718 OG__</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1718_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;OG__&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_z</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1718.0</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">,</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">,</span> <span class="s1">&#39;Light Snow&#39;</span><span class="p">,</span> <span class="s1">&#39;Mostly Cloudy&#39;</span><span class="p">,</span> <span class="s1">&#39;Mostly Cloudy&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;Mostly Cloudy&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;Compact&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.9</span><span class="p">,</span>
                 <span class="o">-</span><span class="mf">14.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">14.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">13.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.3</span><span class="p">,</span> <span class="mf">68.0</span><span class="p">,</span> <span class="mf">63.0</span><span class="p">,</span> <span class="mf">64.0</span><span class="p">,</span> <span class="mf">64.0</span><span class="p">,</span> 
                 <span class="mf">1.9</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1718_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Hochfilzen 1718 CH02</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_1718_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP02&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_y</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">39.2</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_1718_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Nove Mesto 1617 CP03 </span>
<span class="c1">## NOTE for this race and the next one, it would probably be better to fill the </span>
<span class="c1"># dataframe completely</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP03&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Weather C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Mostly Cloudy Night&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Snow Cond C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Granular&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Snow Temp C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Air Temp C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Humidity C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">67</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Wind C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c1"># PyeongChang 1617 CP07</span>

<span class="n">row_b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP07&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Weather C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Partly Cloudy Night&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Snow Cond C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Hard Packed Variable&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Snow Temp C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Air Temp C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.2</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Humidity C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">53</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Wind C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.3</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;weather_summary_1617_M.pkl&#39;</span><span class="p">)</span>
<span class="c1"># 1617 Championship (European style decimal was misconverted)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_1617_M.pkl&#39;</span><span class="p">)</span>
<span class="n">row_c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CH__&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_c</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">39.2</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 0607 CP02 Total Climb (Note that the given value here, 3335m is unreasonable. I replace it</span>
<span class="c1"># by the value given for other races at the same site)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0607_M.pkl&#39;</span><span class="p">)</span>
<span class="n">row_d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP02&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_d</span><span class="p">,</span><span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">381</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0607_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># And replacing the Max Climb by Max Climb from another event at the same site, because </span>
<span class="c1"># the given max climb exceeds the height differential</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0405_M.pkl&#39;</span><span class="p">)</span>
<span class="n">row_e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP06&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_e</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">29</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0405_M.pkl&#39;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0506_M.pkl&#39;</span><span class="p">)</span>
<span class="n">row_f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP06&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_f</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">29</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;course_summary_0506_M.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_corrections"></a></p>
<h2 id="Performing-the-same-steps-for-the-ibu-summary-dataframes">Performing the same steps for the ibu summary dataframes<a class="anchor-link" href="#Performing-the-same-steps-for-the-ibu-summary-dataframes">&#182;</a></h2><p><a href = "#data_corrections">Back to Correcting course and weather data</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding altitudes to the dataframe (choosing to use course_summaries here)</span>

<span class="n">altitudes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;ibu_site_elevations.csv&#39;</span><span class="p">)</span>
<span class="n">altitudes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span> <span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">season</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">])</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>
    
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">altitudes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">]</span>

    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">quant_seasons</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0405&#39;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;0506&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;0607&#39;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;0708&#39;</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;0809&#39;</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;0910&#39;</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span> 
                 <span class="s1">&#39;1011&#39;</span> <span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;1112&#39;</span> <span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;1213&#39;</span> <span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;1314&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;1415&#39;</span> <span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;1516&#39;</span> <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                 <span class="s1">&#39;1617&#39;</span> <span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;1718&#39;</span> <span class="p">:</span> <span class="mi">14</span><span class="p">}</span>
<span class="n">quant_events</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CP01&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;CP02&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;CP03&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> 
                <span class="s1">&#39;CP04&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;CP05&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="s1">&#39;CP06&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> 
                <span class="s1">&#39;CP07&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="s1">&#39;CP08&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="s1">&#39;CH__&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]}</span>

<span class="c1"># note that the order of events in a given season is dependent on the season</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding quantitative values for season and event to the dataframes </span>
<span class="c1"># (choosing to use course_summaries here)</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_course_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">season</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">season</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="n">season</span><span class="p">])</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>
    
        <span class="k">if</span> <span class="n">season</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">]:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">season</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">season</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0607&#39;</span><span class="p">]:</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># season in [&#39;0809&#39;,&#39;0910&#39;,&#39;1011&#39;,&#39;1213&#39;,&#39;1516&#39;]</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_events</span><span class="p">[</span><span class="n">event</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">quant_seasons</span><span class="p">[</span><span class="n">season</span><span class="p">]</span>
        
    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Correcting for misread or missing data </span>

<span class="c1"># Altenberg 0506 CP04</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_0506_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP04&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_z</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_0506_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Forni Avoltri 0607 CP04 </span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_0607_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP04&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_a</span><span class="p">,</span><span class="s1">&#39;Length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10000</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_0607_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Brezno Osrblie 1011 CP06 </span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_1011_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP06&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">46.5</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">19.5</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_b</span><span class="p">,</span><span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">122.5</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_1011_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Brezno Osrblie 1617 CP06</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP06&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_c</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">46.8</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_c</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">25.07</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_c</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">381.38</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_course_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Martell-Val Martello 1314 CP08 </span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1314_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP08&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_d</span><span class="p">,</span><span class="s1">&#39;Snow Cond A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Hard Packed Variable&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_d</span><span class="p">,</span><span class="s1">&#39;Snow Cond B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Hard Packed Variable&#39;</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1314_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1617 weather problems</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP07&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_e</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Mostly Cloudy&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_e</span><span class="p">,</span> <span class="s1">&#39;Weather B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Mostly Cloudy&#39;</span>

<span class="n">row_f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP08&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Race&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_f</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_f</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>

<span class="n">row_g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP08&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Race&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SMSPS&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_g</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_g</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1617_M.pkl&#39;</span><span class="p">)</span>

<span class="c1"># 1718 weather problems</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1718_M.pkl&#39;</span><span class="p">)</span>

<span class="n">row_h</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP06&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_h</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_h</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>

<span class="n">row_i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP07&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_i</span><span class="p">,</span> <span class="s1">&#39;Weather A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Partly Cloudy&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_i</span><span class="p">,</span><span class="s1">&#39;Weather B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Partlly Cloudy&#39;</span>

<span class="n">row_j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CP08&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_j</span><span class="p">,</span> <span class="s1">&#39;Snow Cond A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_j</span><span class="p">,</span> <span class="s1">&#39;Snow Cond B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Packed Powder&#39;</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;ibu_weather_summary_1718_M.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Making a few alterations to snow and weather conditions due to inconsistancies in </span>
<span class="c1"># using capitalization</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_weather_summary_</span><span class="si">%(season)s</span><span class="s1">_M.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Mostly cloudy&#39;</span><span class="p">,</span><span class="s1">&#39;Mostly Cloudy&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Partly cloudy&#39;</span><span class="p">,</span><span class="s1">&#39;Partly Cloudy&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Partly cloudy night&#39;</span><span class="p">,</span><span class="s1">&#39;Partly Cloudy Night&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Packed powder&#39;</span><span class="p">,</span><span class="s1">&#39;Packed Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet and powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet &amp; powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Wet and Powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Wet &amp; Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Light snow&#39;</span><span class="p">,</span><span class="s1">&#39;Light Snow&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Hard packed variable&#39;</span><span class="p">,</span><span class="s1">&#39;Hard Packed Variable&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Hard packed&#39;</span><span class="p">,</span><span class="s1">&#39;Hard Packed&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Spring conditions&#39;</span><span class="p">,</span> <span class="s1">&#39;Spring Conditions&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Powder&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>


    <span class="n">df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="ExploringRelationships"></a></p>
<h2 id="Exploring-Relationships">Exploring Relationships<a class="anchor-link" href="#Exploring-Relationships">&#182;</a></h2><p>Next we wish to explore the relationships between various course attributes and weather conditions and speed, shooting accuracy, etc on an individual basis. In particular, for each aspect of the total biathlon time (speed, prone shooting accuracy, standing shooting accuracy, prone shooting time, standing shooting time, prone penalty loop time, and standing penalty loop time), we wish to determine which of the predictor variables correlate most closely with that aspect. In doing this, we recognize that, due to the fact that we have fourteen different predictor variables, it is reasonable to expect that none of the correlation values will be particularly high.</p>
<p><a href="#TOC">Table of Contents</a>
<a id="ExploringRelationshipSpeed"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="ExploringRelationshipSpeed"></a></p>
<h3 id="Effects-of-conditions-on-speed">Effects of conditions on speed<a class="anchor-link" href="#Effects-of-conditions-on-speed">&#182;</a></h3><h4 id="Objective">Objective<a class="anchor-link" href="#Objective">&#182;</a></h4><p>To successfully model the average speed and standard deviation of speed for a race as a function of course characteristics and conditions.</p>
<h4 id="Step-0-:-Convert-'Total-Ski'-into-seconds"><a href="#speed_step_0">Step 0</a> : Convert 'Total Ski' into seconds<a class="anchor-link" href="#Step-0-:-Convert-'Total-Ski'-into-seconds">&#182;</a></h4><p>I find the average ski time, and then use that to compute the average speed.  In order to do this, the first step is going to have to be to convert all of the <code>Total Ski</code> columns in these files from a minutes and seconds format to a seconds format.</p>
<ol>
<li><a href = "#convert_to_seconds">```convert_to_seconds```</a>: This function takes a string of the form "h:mm:ss.s" or "mm:ss.s", converts the elapsed time into seconds, and returns that number as a float.</li>
<li><a href = "#skitimes_to_seconds">```skitimes_to_seconds```</a>: This function loops through all of the rows in a given competition analysis dataframe and replaces the string time entries for <code>'Ski Time'</code> with the time converted to seconds</li>
<li><a href = "#compute_speeds">```compute_speeds```</a>: This function takes as input a season and event, retrieves the length of the men's sprint race for that event from the course summary file, and calculates the speed (in m/s) for every racer in the competition. It then adds these values to the competition analysis file as a dataframe column, and returns the  file to pickle.</li>
<li><a href = "#ibu_compute_speeds">```ibu_compute_speeds```</a>: This function is analogous to <code>compute_speeds</code>.</li>
</ol>
<h4 id="Step-1:-Collect-the-data"><a href="#speed_step_1">Step 1</a>: Collect the data<a class="anchor-link" href="#Step-1:-Collect-the-data">&#182;</a></h4><h1 id="what-you-are-looking-for-here-is-average-speeds-for-the-races">what you are looking for here is average speeds for the races<a class="anchor-link" href="#what-you-are-looking-for-here-is-average-speeds-for-the-races">&#182;</a></h1><p>(The obvious first step here is to assemble the data. In theory, this has already been collected from the pdf pages and saved to my laptop, so what remains is to pull the pieces of it that I want and assemble it into a useable dataframe. Here, I should be able to use data all the way back to the 2004-2005 season, which will, hopefully, increase my ability to get an accurate model.)</p>
<h4 id="Step-2-:-Add-weather-and-snow-condition-data"><a href="#speed_step_2">Step 2</a> : Add weather and snow condition data<a class="anchor-link" href="#Step-2-:-Add-weather-and-snow-condition-data">&#182;</a></h4><p>The next step is to add information about the weather and snow conditions to our dataframe, and then to add information about the course layout to our dataframe.</p>
<ol>
<li><a href = "#add_course_data">```add_course_data```</a>: This function adds data about the course to the output of a dataframe containing <a href = "#response_variable">\*-response variable</a><a name = "back2link"> data</li>
<li><a href = "#add_weather_data">```add_weather_data```</a>: This function adds data about the weather conditions to the output of a dataframe containing *-response variable and course data.</li>
</ol>
<h4 id="Step-3:-Quantifying-snow-and-weather-conditions"><a href="#speed_step_2a">Step 3</a>: Quantifying snow and weather conditions<a class="anchor-link" href="#Step-3:-Quantifying-snow-and-weather-conditions">&#182;</a></h4><p>In order to explore effects of each predictor variable on the response variables, it seemed useful to be able to treat all the variables, including the categorical variables, as quantitative variables. Of our four categorical variables, two, season and event, are relatively easy to quantify because their values are temporal. The other two are less easy to quantify, however. On the one hand, it seems clear that the condition of the snow will have an effect on the speed at which the racers are able to ski. On the other hand, I don't have, a priori, a very good sense of what that effect might be. Similarly, it seems likely that weather conditions might effect shooting accuracy, but again, it is unclear from just looking at the possible values taken by weather what exactly those effects might be. Ideally we would be able to rank all of the values for snow conditions and all of the values for weather from most difficult to least difficult and we would be able to use those rankings to quantify the variables.</p>
<p>The question then becomes how to go about quantifying these categorical variables. My initial approach was to search for descriptions of snow conditions on skiing sites, looking in particular at those that gave an <em>ease of skiing score</em> for each of their listed snow conditions. However, I ran into problems because the snow condition values that I had did not always match the snow condition values available on the sites, because they quite often gave ranges of values for ease of skiing, and because the sites were tailored for Alpine rather than Nordic skiers. Furthermore, there was nothing that was even remotely useful of that nature for weather condition data. My next approach was to simply try to group snow conditions (and weather conditions) based on which variables seemed to be most similar to me. Here the biggest problem is that I didn't know enough to have a sense of what differences are important and which are unimportant.</p>
<p>Ultimately, I decided that the most straightforward approach was to simply use the performance data that I had to attempt to rank values taken by weather and by snow conditions. The first thing to acknowledge here is that this risks being a bit like the tail wagging the dog. In other words, by using the performance data that I have to rank the values and then using the rankings to make predictions about performance data, I risk demonstrating precisely nothing. As a result, I took a couple of precautions:</p>
<ol>
<li>Since my ultimate was to make predictions about the total race times for races in the last four seasons of my available data (from 2014-15 to 2017-18), I used only performance data from World Cup races in the first ten seasons of available data (from 2004-05 to 2013-14) to rank the values. This meant that there were a few values for both snow conditions and weather that appeared only in later races and/or ibu races. In these cases, I decided which of the values that I did have scores for they were the most like and assigned the same scores to the unranked values.</li>
<li>I based the ranking of snow condition and weather values entirely on speed performance, and decided that, if the quantitative versions of snow conditions and weather had no impact on any other aspect, that I would eliminate them and do the best that I could with the categorical variables as categorical variables. (In fact, though their quantification is based entirely on speed, they end up on the list of most significant variables for all seven aspects of the total time.)</li>
</ol>
<p>In order to quantify the categorical variable snow conditions, I did the following:</p>
<ol>
<li>For each value taken by snow conditions during the seasons 2004-05 to 2013-14, I calculated the mean of the average speeds.</li>
<li>I ranked them in order from fastest average to slowest average. </li>
<li>The fastest average was given a score of 10; the slowest was given a score of 0. </li>
<li>The range of the averages was divided into 10 equal pieces, and each remaining value was assigned a score (from 0 to 9) based on which piece of the range it was in.</li>
<li>Any values for snow conditions that were not found in the first ten seasons of world cup data were added manually by deciding which of the known conditions they were most like.</li>
</ol>
<p>The quantification of the categorical variable weather proceeded in much the same way.</p>
<p>Once these quantifications were complete, the variables <code>quant_snow</code> and <code>quant_weather</code> were added to the speed dataframe.</p>
<h4 id="Step-4:-Exploring-correlation-and-impact"><a href="#speed_step_3">Step 4</a>: Exploring correlation and impact<a class="anchor-link" href="#Step-4:-Exploring-correlation-and-impact">&#182;</a></h4><p>The other thing that I want to do here is to compute the correlation coefficients and total changes explained for each of the quantitative predictor variables.</p>
<ol>
<li><a href = "#corr_and_change">```corr_and_change```</a>: Given a predictor variable x and a response variable y in a dataframe df, this function determines the strength of the linear dependance of y on x and what fraction of the total change in y is predicted based on the range of values taken by x.</li>
<li><a href = "#collect_best_variables">```collect_best_variables```</a>: This function takes a dataframe produced by <code>corr_and_change</code> and chooses the predictor variables with the highest coefficients of determination and the highest percent change predicted (in both cases, with values at least half as large as the maximal values)</li>
</ol>
<!--<a id="ExploringRelationshipSpeed"></a>-->

<p><a name = "response_variable"></a>
Because these functions (<code>add_course_data</code> and <code>add_weather_data</code>) are used to add condition data to dataframes containing speed, accuracy, *-response variable indicates that a variety of possible response variables can by entered in this part of the description.
<a href = "#back2link">Back</a></p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "convert_to_seconds"></a>
<a name = "speed_step_0"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">convert_to_seconds : takes a time string of the form &quot;h:mm:ss.s&quot; or &quot;mm:ss.s&quot; and returns </span>
<span class="sd">                     the total number of seconds as a float</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">string : a time string of the form &quot;h:mm:ss.s&quot; or &quot;mm:ss.s&quot;</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">seconds : the elapsed time given by the time string in seconds</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">convert_to_seconds</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">split_string</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_string</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">seconds</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">seconds</span> <span class="o">=</span> <span class="n">string</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_string</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">seconds</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_string</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_string</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_string</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">split_string</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_string</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mi">60</span>
                       <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_string</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">seconds</span> <span class="o">=</span> <span class="n">string</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">seconds</span> <span class="o">=</span> <span class="n">string</span>
        
    <span class="k">return</span> <span class="n">seconds</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "skitimes_to_seconds"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">skitimes_to_seconds : converts all of the ski times for a given competition to seconds</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a competition analysis dataframe</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">modifies the given dataframe in place</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">skitimes_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">])</span>
        
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;companal_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> 
                    <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">})</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">skitimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "compute_speeds"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">compute_speeds : takes as input a season and event, retrieves the length of the men&#39;s sprint</span>
<span class="sd">                 race for that event from the course summary file, then calculates speed </span>
<span class="sd">                 (in m/s) for every racer in the competition (length/time), adds them to </span>
<span class="sd">                 the companal file as a dataframe column, and returns the companal file to </span>
<span class="sd">                 pickle</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">season : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">stores a pickle file to the hard drive</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">compute_speeds</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    
    <span class="n">course_filename</span> <span class="o">=</span> <span class="s2">&quot;course_summary_</span><span class="si">%(season)s</span><span class="s2">_M.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span><span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">course_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">course_filename</span><span class="p">)</span>
    <span class="n">course_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;companal_SMSP_</span><span class="si">%(season)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
    
    <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">event</span><span class="p">,</span> <span class="s1">&#39;Length&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">)):</span>
        <span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">length</span><span class="o">/</span><span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">]</span>
                
    <span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding speed columns to our event dataframes</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="n">failures</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">compute_speeds</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="And-adding-speeds-for-the-IBU-cup-races">And adding speeds for the IBU cup races<a class="anchor-link" href="#And-adding-speeds-for-the-IBU-cup-races">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">skitimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
        
        <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_SMSPS_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">skitimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_compute_speeds"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_compute_speeds : takes as input a season and event, retrieves the length of the men&#39;s</span>
<span class="sd">                     sprint race for that event from the course summary file, then calculates</span>
<span class="sd">                     speed (in m/s) for every racer in the competition (length/time), adds</span>
<span class="sd">                     them to the ibu competition analysis file as a dataframe column, and </span>
<span class="sd">                     returns the competition analysis file to pickle</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">season : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">stores a pickle file to the hard drive</span>

<span class="sd">Example</span>
<span class="sd">-------</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_compute_speeds</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    
    <span class="n">course_filename</span> <span class="o">=</span> <span class="s2">&quot;ibu_course_summary_</span><span class="si">%(season)s</span><span class="s2">_M.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span><span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">course_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">course_filename</span><span class="p">)</span>
    <span class="n">course_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;ibu_SMSP_</span><span class="si">%(season)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
    <span class="n">filenameS</span> <span class="o">=</span> <span class="s2">&quot;ibu_SMSPS_</span><span class="si">%(season)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">event</span><span class="p">,</span> <span class="s1">&#39;Length&#39;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">)):</span>
            <span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">length</span><span class="o">/</span><span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">]</span>
    
        <span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filenameS</span><span class="p">)</span>
        <span class="n">length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">event</span><span class="p">,</span> <span class="s1">&#39;Length&#39;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">)):</span>
            <span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">length</span><span class="o">/</span><span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">]</span>
    
        <span class="n">race_data</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filenameS</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding speed columns to our event dataframes</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span>
           <span class="p">,</span><span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">]</span>

<span class="n">failures</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ibu_compute_speeds</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "speed_step_1"></a></p>
<h4 id="Step-1:-Collect-the-data">Step 1: Collect the data<a class="anchor-link" href="#Step-1:-Collect-the-data">&#182;</a></h4><p>(The obvious first step here is to assemble the data. In theory, this has already been collected from the pdf pages and saved to my laptop, so what remains is to pull the pieces of it that I want and assemble it into a useable dataframe. Here, I should be able to use data all the way back to the 2004-2005 season, which will, hopefully, increase my ability to get an accurate model.)
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Building a dataframe of mean speed and standard deviation</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="n">race_times</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">failures</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="n">course_filename</span> <span class="o">=</span> <span class="s2">&quot;course_summary_</span><span class="si">%(season)s</span><span class="s2">_M.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span><span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    <span class="n">course_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">course_filename</span><span class="p">)</span>
    <span class="n">course_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;companal_SMSP_</span><span class="si">%(season)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> 
                    <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">})</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="n">length</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">event</span><span class="p">,</span> <span class="s1">&#39;Length&#39;</span><span class="p">])</span>
                <span class="n">race_info</span> <span class="o">=</span> <span class="p">[</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">length</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="s1">&#39;Total Ski&#39;</span><span class="p">]),</span> 
                             <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">race_data</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">])]</span>
                <span class="n">race_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">race_info</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span><span class="n">event</span><span class="p">])</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># This race has no companal file</span>
            <span class="n">failures</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">season</span><span class="p">,</span><span class="n">event</span><span class="p">])</span>          
<span class="n">mean_mens_sprint_speed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">race_times</span><span class="p">,</span> 
                                      <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">,</span><span class="s1">&#39;Mean Speed&#39;</span><span class="p">,</span> <span class="s1">&#39;StDev Speed&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "speed_step_2"></a></p>
<h4 id="Step-2-:-Add-weather-and-snow-condition-data">Step 2 : Add weather and snow condition data<a class="anchor-link" href="#Step-2-:-Add-weather-and-snow-condition-data">&#182;</a></h4><p>The next step is to add information about the weather and snow conditions to our dataframe, and then to add information about the course layout to our dataframe.</p>
<p><a name = "add_course_data"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">add_course_data : adds data about the course to the output of a dataframe containing speed</span>
<span class="sd">                  data</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a dataframe containing biathlon speed data</span>
<span class="sd">row : the dataframe row that is under consideration (a particular competition)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : the original dataframe with course information added for the relevant row</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">add_course_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
    
    <span class="c1"># Get the identifying info for the race</span>
    <span class="n">season</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span>
    <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>

    <span class="c1"># Figure out the filename where the relevant course data is stored</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;course_summary_</span><span class="si">%(season)s</span><span class="s2">_M.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span><span class="p">:</span> <span class="n">season</span><span class="p">}</span>

    <span class="c1"># Load that file</span>
    
    <span class="n">course_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="c1"># Figure out which row in that filename corresponds to your row</span>
    
    <span class="n">race_row</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">course_data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">event</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Race&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">):</span>
            <span class="n">race_row</span> <span class="o">=</span> <span class="n">i</span>
        
    <span class="c1"># Next, grab the data and put it in the file</span>
    
    <span class="k">if</span> <span class="n">race_row</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Length&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Height Diff&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Total Climb&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Altitude&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">course_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">])</span>
        
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Height Diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Max Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Total Climb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">)):</span>
    <span class="n">mean_mens_sprint_speed</span> <span class="o">=</span> <span class="n">add_course_data</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "add_weather_data"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">add_weather_data : adds data about the weather conditions to the output of a dataframe</span>
<span class="sd">                   containing speed and course data</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a dataframe containing biathlon speed  and course data</span>
<span class="sd">row : the dataframe row that is under consideration (a particular competition)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : the original dataframe with weather information added to the relevant row</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">add_weather_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
    
    <span class="c1"># Get the identifying info for the race</span>
    
    <span class="n">season</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span>
    <span class="n">event</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span>

    <span class="c1"># Figure out the filename where the relevant course data is stored</span>
    
    <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;weather_summary_</span><span class="si">%(season)s</span><span class="s2">_M.pkl&quot;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span><span class="p">:</span> <span class="n">season</span><span class="p">}</span>

    <span class="c1"># Load that file</span>
    
    <span class="n">weather_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="c1"># Figure out which row in that filename corresponds to your row</span>
    
    <span class="n">race_row</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">weather_data</span><span class="p">)):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">event</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Race&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SMSP&#39;</span><span class="p">):</span>
            <span class="n">race_row</span> <span class="o">=</span> <span class="n">i</span>
     
    <span class="c1"># Next, grab the data and put it in the file</span>
    
    <span class="k">if</span> <span class="n">race_row</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Weather C&#39;</span><span class="p">]</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Snow Cond&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Snow Cond C&#39;</span><span class="p">]</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Snow Temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Snow Temp C&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Air Temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Air Temp C&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Humidity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Humidity C&#39;</span><span class="p">])</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Wind&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">euro_to_float</span><span class="p">(</span><span class="n">weather_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">race_row</span><span class="p">,</span><span class="s1">&#39;Wind C&#39;</span><span class="p">])</span>



        
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Snow Cond&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Snow Temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Air Temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Humidity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="s1">&#39;Wind&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">)):</span>
    <span class="n">mean_mens_sprint_speed</span> <span class="o">=</span> <span class="n">add_weather_data</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "speed_step_2a"></a></p>
<h4 id="Quantifying-snow-and-weather-conditions">Quantifying snow and weather conditions<a class="anchor-link" href="#Quantifying-snow-and-weather-conditions">&#182;</a></h4><p>While most of the data that I have here is quantitative, some of it is categorical. For the categorical data, I would like to introduce some sort of quantification. In the case of season and event, this was quite simple, as the seasons have a natural ordering, and then events within the seasons also have a natural ordering. For the snow conditions and weather this is somewhat more difficult. While it seems obvious that snow conditions will have an effect on speed, it isn't obvious to me (as a non cross country skier) how this is going to play out with respect the the descriptions that are given in the files. As a result, I've decided to assign values between 0 and 10 to each of the possible weather and snow condition values. To do this, I'm going to compute the average speeds associated to each of the different snow conditions and weather conditions over the first 10 seasons of my data. The fastest weather and snow conditions will be assigned a value of 10. The slowest will be assigned a value of 0. The difference between them will be divided in tenths, and each remaining condition will be assigned the value that corresponds to it's slice in the distribution. Because I ultimately want to use this to try to make predictions about more recent seasons, I'm going to restrict the data that I consider here to the first 10 seasons for which I have data (which leaves 4 seasons untouched here).</p>
<h2 id="This-doesn't-go-here,-but-for-all-of-what-follows,-I'm-only-looking-at-the-first-10-seasons-of-data...">This doesn't go here, but for all of what follows, I'm only looking at the first 10 seasons of data...<a class="anchor-link" href="#This-doesn't-go-here,-but-for-all-of-what-follows,-I'm-only-looking-at-the-first-10-seasons-of-data...">&#182;</a></h2><p><a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">predictor_data</span> <span class="o">=</span> <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]</span>

<span class="n">weather_averages</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">weather</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">predictor_data</span><span class="p">[</span><span class="s1">&#39;Weather&#39;</span><span class="p">]):</span>
    <span class="n">weather_data</span> <span class="o">=</span> <span class="n">predictor_data</span><span class="p">[</span><span class="s1">&#39;Weather&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">weather</span>
    <span class="n">weather_averages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">weather</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">predictor_data</span><span class="p">[</span><span class="n">weather_data</span><span class="p">][</span><span class="s1">&#39;Mean Speed&#39;</span><span class="p">])])</span>
    
<span class="n">weather_averages</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">weather_averages</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Condition&#39;</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">weather_averages</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Condition&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">max_weather</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">weather_averages</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">min_weather</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">weather_averages</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">step</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_weather</span><span class="o">-</span><span class="n">min_weather</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>

<span class="k">for</span> <span class="n">weather</span> <span class="ow">in</span> <span class="n">weather_averages</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
    <span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">weather</span><span class="p">,</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">weather</span><span class="p">,</span><span class="s1">&#39;Speed&#39;</span><span class="p">]</span>
                                                          <span class="o">-</span><span class="n">min_weather</span><span class="p">)</span><span class="o">/</span><span class="n">step</span><span class="p">)</span>
    
<span class="n">weather_averages</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[80]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Speed</th>
      <th>Weather Quant</th>
    </tr>
    <tr>
      <th>Condition</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Partly Cloudy Night</th>
      <td>7.223154</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>Mostly Cloudy</th>
      <td>6.868781</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Partly Cloudy</th>
      <td>6.880993</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Clear</th>
      <td>6.836928</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Sunny</th>
      <td>6.715308</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Snow</th>
      <td>6.611454</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>Cloudy</th>
      <td>6.939226</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Sky Clear</th>
      <td>6.867468</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Fog</th>
      <td>6.700835</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Rain</th>
      <td>6.430744</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Wind &amp; Snow</th>
      <td>6.343879</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Light Snow</th>
      <td>6.716619</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Problem : 'Mostly Cloudy Night' appears in later data, but not in the 10 seasons that we have of World Cup data. That means that I'll have to assign it a value. I'm going to assume that it's most like Partly Cloudy Night, and assign it a value of 10. 'Light Snowfall' is also not in the first 10 seasons. This seems to be clearly very similar to 'Light Snow', and I'll assign it a value accordingly</p>
<h2 id="There's-going-to-be-more-here-that-come-from-IBU-data">There's going to be more here that come from IBU data<a class="anchor-link" href="#There's-going-to-be-more-here-that-come-from-IBU-data">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Mostly Cloudy Night&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Light Snowfall&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Rain Snow&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Windy&#39;</span><span class="p">,</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[82]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">predictor_data</span> <span class="o">=</span> <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]</span>

<span class="n">snow_averages</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">snow</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">predictor_data</span><span class="p">[</span><span class="s1">&#39;Snow Cond&#39;</span><span class="p">]):</span>
    <span class="n">snow_data</span> <span class="o">=</span> <span class="n">predictor_data</span><span class="p">[</span><span class="s1">&#39;Snow Cond&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">snow</span>
    <span class="n">snow_averages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">snow</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">predictor_data</span><span class="p">[</span><span class="n">snow_data</span><span class="p">][</span><span class="s1">&#39;Mean Speed&#39;</span><span class="p">])])</span>
    
<span class="n">snow_averages</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">snow_averages</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Condition&#39;</span><span class="p">,</span> <span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">snow_averages</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Condition&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>

<span class="n">max_snow</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">snow_averages</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">min_snow</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">snow_averages</span><span class="p">[</span><span class="s1">&#39;Speed&#39;</span><span class="p">])</span>
<span class="n">step</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_snow</span><span class="o">-</span><span class="n">min_snow</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>

<span class="k">for</span> <span class="n">snow</span> <span class="ow">in</span> <span class="n">snow_averages</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
    <span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">snow</span><span class="p">,</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">snow</span><span class="p">,</span><span class="s1">&#39;Speed&#39;</span><span class="p">]</span>
                                                 <span class="o">-</span> <span class="n">min_snow</span><span class="p">)</span><span class="o">/</span><span class="n">step</span><span class="p">)</span>
    
<span class="n">snow_averages</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[82]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Speed</th>
      <th>Snow Quant</th>
    </tr>
    <tr>
      <th>Condition</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Compact</th>
      <td>7.141269</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>Wet &amp; Powder</th>
      <td>6.063496</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Packed Powder</th>
      <td>6.736725</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Hard Packed</th>
      <td>6.942572</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Hard</th>
      <td>6.744447</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Granular</th>
      <td>6.724335</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Powder</th>
      <td>6.583711</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Wet</th>
      <td>6.712424</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>Fresh</th>
      <td>6.641513</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Packed</th>
      <td>6.933795</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Hard Packed Variable</th>
      <td>6.570229</td>
      <td>4.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[83]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Spring Conditions&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Powder&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Soft&#39;</span><span class="p">,</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[84]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">weather_averages</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;weather_averages.pkl&#39;</span><span class="p">)</span>
<span class="n">snow_averages</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;snow_averages.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[85]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">)):</span>
    <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
                                <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Weather&#39;</span><span class="p">],</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span>
    <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
                                <span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Snow Cond&#39;</span><span class="p">],</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[86]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># And pickle it</span>

<span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;mean_mens_sprint_speed.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "speed_step_3"></a></p>
<h4 id="Step-3:-Exploring-correlation-and-impact">Step 3: Exploring correlation and impact<a class="anchor-link" href="#Step-3:-Exploring-correlation-and-impact">&#182;</a></h4><p>The other thing that I want to do here is to compute the correlation coefficients and total changes explained for each of the quantitative predictor variables.</p>
<p><a name = "corr_and_change"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">corr_and_change : for a given pair of variables x and y in a dataframe df, determines the</span>
<span class="sd">                  strength of their linear relationship and how much of a change in y is</span>
<span class="sd">                  predicted based on the range given for x</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">x : the column to be treated as the predictor variable</span>
<span class="sd">y : the column to be treated as the response variables</span>
<span class="sd">df : the dataframe containing the data</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">[r, r_sq, change] : a list containing the correlation coefficient, the coefficient of </span>
<span class="sd">                    determination, and the percent of the total change in y  predicted </span>
<span class="sd">                    over the given range of x by the best fit line through the data</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">df</span><span class="p">):</span>
    
    <span class="n">correlation_output</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">],</span><span class="n">df</span><span class="p">[</span><span class="n">y</span><span class="p">])</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">correlation_output</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">r_sq</span> <span class="o">=</span> <span class="n">correlation_output</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span>
    
    <span class="n">max_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    <span class="n">min_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    
    <span class="n">change</span> <span class="o">=</span> <span class="n">max_x</span> <span class="o">*</span> <span class="n">correlation_output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">min_x</span> <span class="o">*</span> <span class="n">correlation_output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">total_change</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">y</span><span class="p">])</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">y</span><span class="p">])</span>
    <span class="n">change</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">change</span><span class="p">)</span><span class="o">/</span><span class="n">total_change</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="n">r_sq</span><span class="p">,</span> <span class="n">change</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[88]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_speed</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mean Speed&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">mean_mens_sprint_speed</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_speed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_speed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_speed</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span> <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>

<span class="n">corr_and_changes_speed</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[88]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Mean Speed</td>
      <td>Length</td>
      <td>0.076656</td>
      <td>0.005876</td>
      <td>0.074319</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mean Speed</td>
      <td>Height Diff</td>
      <td>-0.191723</td>
      <td>0.036758</td>
      <td>0.177647</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Mean Speed</td>
      <td>Max Climb</td>
      <td>-0.095647</td>
      <td>0.009148</td>
      <td>0.104154</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Mean Speed</td>
      <td>Total Climb</td>
      <td>-0.275609</td>
      <td>0.075960</td>
      <td>0.227985</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Mean Speed</td>
      <td>Snow Temp</td>
      <td>-0.006824</td>
      <td>0.000047</td>
      <td>0.008645</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Mean Speed</td>
      <td>Air Temp</td>
      <td>-0.077797</td>
      <td>0.006052</td>
      <td>0.096905</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Mean Speed</td>
      <td>Humidity</td>
      <td>-0.208916</td>
      <td>0.043646</td>
      <td>0.177597</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Mean Speed</td>
      <td>Wind</td>
      <td>-0.109666</td>
      <td>0.012027</td>
      <td>0.133893</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Mean Speed</td>
      <td>Altitude</td>
      <td>-0.162561</td>
      <td>0.026426</td>
      <td>0.117719</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Mean Speed</td>
      <td>Quant Year</td>
      <td>0.231685</td>
      <td>0.053678</td>
      <td>0.159730</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Mean Speed</td>
      <td>Quant Event</td>
      <td>0.059486</td>
      <td>0.003539</td>
      <td>0.041085</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Mean Speed</td>
      <td>Quant Weather</td>
      <td>0.401326</td>
      <td>0.161063</td>
      <td>0.536829</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Mean Speed</td>
      <td>Quant Snow</td>
      <td>0.452142</td>
      <td>0.204432</td>
      <td>0.602187</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From here, I want to pluck off the variables that do the best job of predicting...</p>
<p><a name = "collect_best_variables"></a>
<a href = "#ExploringRelationshipSpeed">Back to Effects of Conditions on Speed</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">collect_best_variables : takes a dataframe produced by corr_and_change and chooses the</span>
<span class="sd">                         predictor variables with the highest coefficients of determination</span>
<span class="sd">                         and the highest percent change predicted (in both cases, with </span>
<span class="sd">                         values at least half as large as the maximal values)</span>
<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : the dataframe containing the data</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">best_variables : a list of the variables that seem to best predict the response variable</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">collect_best_variables</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    
    <span class="n">best_variables</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Determination&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
    
    <span class="n">max_deter</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">max_deter</span><span class="p">:</span>
            <span class="n">best_variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
            
    <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
    
    <span class="n">max_change</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">max_change</span><span class="p">:</span>
            <span class="n">best_variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">best_variables</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">best_variables</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">best_variables</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_speed</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_speed</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="EvaluatingSpeedImpacts"></a></p>
<h1 id="Evaluating-Impacts-on-Speed">Evaluating Impacts on Speed<a class="anchor-link" href="#Evaluating-Impacts-on-Speed">&#182;</a></h1><p>We observe here that the variables that do the best jobs individually of predicting speed (assuming that none of the other variables are available for consideration) are Quant(itative) Snow which has an $r$ value of 0.452142 and which explains roughly 60% of the total change in speed, and Quant(itative) Weather which has an $r$ value of 0.401326 and which explains roughly 54% of the total change in speed. There are, of course, some caveats.</p>
<ol>
<li>We defined the variables Quant(itative) Snow and Quant(itative) Weather by looking at the average speeds associated with each value taken by the variables Weather and Snow Conditions. While it is clear that these assignments did not yield perfect alignment (since if they did, we would expect the $r$ values to be much closer to 1 than they are), it is not surprising that that they did well relative to the other variables.</li>
<li>The variables quant_snow in particular likely has some dependence on the other weather related variables, in particular on air temperature and snow temperature.</li>
</ol>
<p>If we eliminate those two variables from consideration, then our best variables are Total Climb with an $r$ value of -0.275609, Humidity with and $r$ value of -0.208916, and Height Diff(erential) with an $r$ value of -0.191723. Note that only the first of these values is even half as large as the values for Quant(itative) Snow and Quant(itative) Weather.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="ExploringRelationshipAccuracy"></a></p>
<h3 id="Effects-of-conditions-on-shooting-accuracy">Effects of conditions on shooting accuracy<a class="anchor-link" href="#Effects-of-conditions-on-shooting-accuracy">&#182;</a></h3><h4 id="Objective">Objective<a class="anchor-link" href="#Objective">&#182;</a></h4><p>To understand the impact of individual course and weather condition variables on prone and standing shooting accuracy.</p>
<h4 id="Step-1-:-Collecting-the-data"><a href="#collecting_accuracy_data">Step 1</a> : Collecting the data<a class="anchor-link" href="#Step-1-:-Collecting-the-data">&#182;</a></h4><p>Because I want to include a certain amount of uncertainty in this shooting data, I'm going to use bootstrap sampling to collect 100 samples (with replacement) from the shooting data for each race. For each of these, I'm going to calculate a mean, and I'm going to use these means to estimate the parameters (mean and standard deviation) of the prone and standing shooting accuracy for each race.</p>
<ol>
<li><a href = "#bootstrap_sample_dist">```bootstrap_sample_dist```</a>: This function takes a competition analysis dataframe and the name of a column containing shooting data, then draws  100 bootstrap samples and finds their means. The function then converts these values from an average number of missed shots to a percentage of accurate shots. Finally, it returns the mean and standard deviation of this list.</li>
</ol>
<p>Now, we loop through all the World Cup men's sprint races, using <code>bootstrap_sample_dist</code> to estimate means and standard deviations for both prone and standing shooting. We then create a dataframe with the following columns: Year, Event, Prone Accuracy, Prone Dev, Standing Accuracy, and Standing Dev. As above, we use <code>add_course_data</code> and <code>add_weather_data</code> to add information about course conditions for each event, and then use the values we found when quantifying the snow conditions and weather to add Quant Snow and Quant Weather values to our dataframe.</p>
<h4 id="Step-2-Correlations"><a href="#accuracy_correlation">Step 2</a> Correlations<a class="anchor-link" href="#Step-2-Correlations">&#182;</a></h4><p>In order to compare the effects of the various predictor variables on prone shooting we loop through all quantitative predictors (including the quantified versions of the categorical variables), applying <code>corr_and_change</code> each time. The results are then stored in a dataframe. We repeat this to explore the effects of the various predictor variables on standing shooting. Finally, we use the function <code>collect_best_variables</code> on each of the resulting dataframes to select which of the predictor variables seem to be most closely tied to prone shooting accuracy and standing shooting accuracy.</p>
<p><a href="#TOC">Table of Contents</a>
<a name = "bootstrap_sample_dist"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "collecting_accuracy_data"></a></p>
<h4 id="Step-1-:-Collecting-the-data">Step 1 : Collecting the data<a class="anchor-link" href="#Step-1-:-Collecting-the-data">&#182;</a></h4><p><a href = "#ExploringRelationshipAccuracy">Back to Effects of conditions on shooting accuracy</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[92]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">bootstrap_sample_dist : takes a companal dataframe and column name, then draws and finds</span>
<span class="sd">                        the means of 100 bootstrap samples and returns the mean and standard</span>
<span class="sd">                        deviation of the list of sample means</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a competition analysis dataframe</span>
<span class="sd">shooting : the code for a column containing shot data (&#39;P1&#39; or &#39;S1&#39;)</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">average : the mean of the bootstrap sample means</span>
<span class="sd">stdev : the standard deviation of the bootstrap sample means</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">bootstrap_sample_dist</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">shooting</span><span class="p">):</span>
    
    <span class="n">bootstrap_means</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">bootstrap_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="n">shooting</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
        <span class="n">bootstrap_means</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="mi">5</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_sample</span><span class="p">))</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
        
    <span class="n">average</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_means</span><span class="p">)</span>
    <span class="n">stdev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bootstrap_means</span><span class="p">,</span> <span class="n">ddof</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">average</span><span class="p">,</span> <span class="n">stdev</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Collecting the shooting data into a single dataframe</span>

<span class="n">shooting_accuracy</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span> <span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;companal_SMSP_</span><span class="si">%(season)s</span><span class="s2">_</span><span class="si">%(event)s</span><span class="s2">.pkl&quot;</span> 
                    <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">})</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="n">shooting</span> <span class="o">=</span> <span class="p">[</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">]</span>
                <span class="n">shooting</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">bootstrap_sample_dist</span><span class="p">(</span><span class="n">race_data</span><span class="p">,</span> <span class="s1">&#39;P1&#39;</span><span class="p">))</span>
                <span class="n">shooting</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">bootstrap_sample_dist</span><span class="p">(</span><span class="n">race_data</span><span class="p">,</span> <span class="s1">&#39;S1&#39;</span><span class="p">))</span>
                <span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shooting</span><span class="p">)</span>
            
        <span class="k">except</span><span class="p">:</span> <span class="c1"># there is no file for this race</span>
            <span class="k">pass</span>
            
<span class="n">shooting_accuracy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">shooting_accuracy</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Event&#39;</span><span class="p">,</span> 
                        <span class="s1">&#39;Prone Accuracy&#39;</span><span class="p">,</span> <span class="s1">&#39;Prone Dev&#39;</span><span class="p">,</span> <span class="s1">&#39;Standing Accuracy&#39;</span><span class="p">,</span><span class="s1">&#39;Standing Dev&#39;</span><span class="p">])</span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, I want to add the weather and course data to this.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[94]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">shooting_accuracy</span><span class="p">)):</span>
    <span class="n">shooting_accuracy</span> <span class="o">=</span> <span class="n">add_course_data</span><span class="p">(</span><span class="n">shooting_accuracy</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
    
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">shooting_accuracy</span><span class="p">)):</span>
    <span class="n">shooting_accuracy</span> <span class="o">=</span> <span class="n">add_weather_data</span><span class="p">(</span><span class="n">shooting_accuracy</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[95]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mean_mens_sprint_speed</span><span class="p">)):</span>
    <span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
        <span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Weather&#39;</span><span class="p">],</span> <span class="s1">&#39;Weather Quant&#39;</span><span class="p">]</span>
    <span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
        <span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Snow Cond&#39;</span><span class="p">],</span> <span class="s1">&#39;Snow Quant&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[96]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;shooting_accuracy.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "accuracy_correlation"></a></p>
<h4 id="Step-2:-Correlation">Step 2: Correlation<a class="anchor-link" href="#Step-2:-Correlation">&#182;</a></h4><p><a href = "#ExploringRelationshipAccuracy">Back to Effects of conditions on shooting accuracy</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[97]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_prone_accuracy</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Prone Accuracy&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_prone_accuracy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_prone_accuracy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_prone_accuracy</span><span class="p">,</span> 
                                         <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>


<span class="n">corr_and_changes_prone_accuracy</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[97]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Prone Accuracy</td>
      <td>Length</td>
      <td>-0.181564</td>
      <td>0.032965</td>
      <td>0.154681</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Prone Accuracy</td>
      <td>Height Diff</td>
      <td>-0.081244</td>
      <td>0.006601</td>
      <td>0.066150</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Prone Accuracy</td>
      <td>Max Climb</td>
      <td>-0.298844</td>
      <td>0.089308</td>
      <td>0.285957</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Prone Accuracy</td>
      <td>Total Climb</td>
      <td>-0.058446</td>
      <td>0.003416</td>
      <td>0.042483</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Prone Accuracy</td>
      <td>Snow Temp</td>
      <td>-0.059271</td>
      <td>0.003513</td>
      <td>0.065983</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Prone Accuracy</td>
      <td>Air Temp</td>
      <td>-0.226165</td>
      <td>0.051151</td>
      <td>0.247550</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Prone Accuracy</td>
      <td>Humidity</td>
      <td>-0.171227</td>
      <td>0.029319</td>
      <td>0.127906</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Prone Accuracy</td>
      <td>Wind</td>
      <td>-0.249846</td>
      <td>0.062423</td>
      <td>0.268048</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Prone Accuracy</td>
      <td>Altitude</td>
      <td>-0.094331</td>
      <td>0.008898</td>
      <td>0.060026</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Prone Accuracy</td>
      <td>Quant Year</td>
      <td>0.305661</td>
      <td>0.093428</td>
      <td>0.185176</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Prone Accuracy</td>
      <td>Quant Event</td>
      <td>0.138914</td>
      <td>0.019297</td>
      <td>0.084308</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Prone Accuracy</td>
      <td>Quant Weather</td>
      <td>0.499915</td>
      <td>0.249915</td>
      <td>0.587609</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Prone Accuracy</td>
      <td>Quant Snow</td>
      <td>0.047994</td>
      <td>0.002303</td>
      <td>0.056169</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[98]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_standing_accuracy</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Standing Accuracy&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">shooting_accuracy</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_standing_accuracy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_standing_accuracy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_standing_accuracy</span><span class="p">,</span> 
                                         <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>


<span class="n">corr_and_changes_standing_accuracy</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[98]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Standing Accuracy</td>
      <td>Length</td>
      <td>-0.230931</td>
      <td>0.053329</td>
      <td>0.143778</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Standing Accuracy</td>
      <td>Height Diff</td>
      <td>-0.077414</td>
      <td>0.005993</td>
      <td>0.046064</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Standing Accuracy</td>
      <td>Max Climb</td>
      <td>-0.209144</td>
      <td>0.043741</td>
      <td>0.146253</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Standing Accuracy</td>
      <td>Total Climb</td>
      <td>-0.116389</td>
      <td>0.013546</td>
      <td>0.061827</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Standing Accuracy</td>
      <td>Snow Temp</td>
      <td>0.039142</td>
      <td>0.001532</td>
      <td>0.031844</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Standing Accuracy</td>
      <td>Air Temp</td>
      <td>0.052720</td>
      <td>0.002779</td>
      <td>0.042171</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Standing Accuracy</td>
      <td>Humidity</td>
      <td>-0.129259</td>
      <td>0.016708</td>
      <td>0.070564</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Standing Accuracy</td>
      <td>Wind</td>
      <td>-0.411383</td>
      <td>0.169236</td>
      <td>0.322544</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Standing Accuracy</td>
      <td>Altitude</td>
      <td>-0.101569</td>
      <td>0.010316</td>
      <td>0.047233</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Standing Accuracy</td>
      <td>Quant Year</td>
      <td>0.128357</td>
      <td>0.016476</td>
      <td>0.056829</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Standing Accuracy</td>
      <td>Quant Event</td>
      <td>0.209197</td>
      <td>0.043763</td>
      <td>0.092786</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Standing Accuracy</td>
      <td>Quant Weather</td>
      <td>0.459026</td>
      <td>0.210704</td>
      <td>0.394305</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Standing Accuracy</td>
      <td>Quant Snow</td>
      <td>0.152532</td>
      <td>0.023266</td>
      <td>0.130459</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[99]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_prone_accuracy</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_prone_accuracy</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[100]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_standing_accuracy</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_standing_accuracy</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="EvaluatingAccuracyImpacts"></a></p>
<h1 id="Evaluating-Impacts-on-Accuracy">Evaluating Impacts on Accuracy<a class="anchor-link" href="#Evaluating-Impacts-on-Accuracy">&#182;</a></h1><p>Beginning with the impacts of our predictor variables on prone accuracy, we find that the variables with the greatest impact are</p>
<ul>
<li>Quant Weather, which has an $r$ value of 0.499915 and which explains roughly 59% of the total change in prone accuracy,</li>
<li>Max Climb, which has an $r$ value of -0.298844 and which explains roughly 29% of the total change in prone accuracy,</li>
<li>Wind, which has an $r$ value of -0.249846 and which explains roughly 27% of the total change in prone accuracy, and</li>
<li>Air Temp, which has an $r$ value of -0.226165 and which explains roughly 25% of the total change in prone accuracy.</li>
</ul>
<p>In considering the impacts of our predictor variables on standing accuracy, we find that the variables with the greatest impact are</p>
<ul>
<li>Quant Weather, which has an $r$ value of 0.459026 and which explains roughly 39% of the total change in standing accuracy, and </li>
<li>Wind, which has an $r$ value of -0.411383 and which explains roughly 32% of the total change in standing accuracy.</li>
</ul>
<p>One observation here is that, despite the fact that shooting accuracy was not considered in any way when assigning numeric values to the different values taken by Weather, Quant Weather remains the variable that is the single best predictor of prone accuracy by a significant amount, and the best predictor of standing accuracy, though it is not significantly larger than Wind in this case.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="ExploringRelationshipRange"></a></p>
<h1 id="Effects-of-conditions-on-range-and-penalty-times">Effects of conditions on range and penalty times<a class="anchor-link" href="#Effects-of-conditions-on-range-and-penalty-times">&#182;</a></h1><h4 id="Objective">Objective<a class="anchor-link" href="#Objective">&#182;</a></h4><p>To investigate the effect of race conditions on average range times and penalty loop times.</p>
<h4 id="Step-0-:-Calculate-prone-and-standing-range-+-penalty-times-in-seconds"><a href="#pen_times_to_seconds">Step 0</a> : Calculate prone and standing range + penalty times in seconds<a class="anchor-link" href="#Step-0-:-Calculate-prone-and-standing-range-+-penalty-times-in-seconds">&#182;</a></h4><p>Due to the fact that before the 2011-2012 season there was a single value given for each racer that encompassed both range and penalty times, whereas the two are split from the 2011-2012 season on, I combine range and penalty time into a single value, in seconds, for each of prone and standing shooting.</p>
<ol>
<li><a href = "#rangetimes_to_seconds">```rangetimes_to_seconds```</a>: This function takes a competition analysis dataframe and uses <code>convert_to_seconds</code> to convert the prone and standing range times (for seasons through 1011) or the sum of the prone and standing range and penalty times (for seasons after 1112) into seconds. It records these values in the new columns Prone Range and Standing Range in the original dataframe, and then returns that dataframe.</li>
<li><a href = "#ibu_rangetimes_to_seconds">```ibu_rangetimes_to_seconds```</a>: This function is analogous to <code>rangetimes_to_seconds</code>, with the main difference being that, since penalty times were not recorded separately for ibu races until the 2014-15 season, it converts the range times alone until the beginning of the 2014-15 season.</li>
</ol>
<h4 id="Step-1:-Collect-the-data"><a href="#range_data_collection">Step 1</a>: Collect the data<a class="anchor-link" href="#Step-1:-Collect-the-data">&#182;</a></h4><p>Next, we wish to find values for four different things. The values that we have found above for prone range time and standing range time include all the time elapsed from the point when the racer enters the shooting area until the point where the racer leaves the penalty zone. During that time, the racer</p>
<ul>
<li>skis to the shooting location (a short distance for standing shooting, a somewhat longer distance for prone shooting)</li>
<li>gets in position</li>
<li>takes 5 shots</li>
<li>skis to the entrance of the penalty zone</li>
<li>skis any penalty loops that are necessary due to missed shots</li>
<li>skis out of the penalty zone</li>
</ul>
<p>What we would like to do is estimate the time spent skiing penalty loops (which is dependent on the number of shots missed) and to isolate it from all the other pieces of the range time. To this end, we will henceforth use the term <em>range time</em> to refer to everything that happens outside of the penalty loops, and <em>loop time</em> to refer to the time required (on average) to ski a single penalty loop.</p>
<p>(NB: This raises the question: If you're going to go and split up the range time and the penalty time now, why did you add them together up there? The answer is fairly simple. For the seasons where the penalty time is split off from the range time, the penalty time includes a short section of track/range that every racer needs to ski (which takes about 7 or 8 seconds, on average), regardless of whether or not they have missed shots. As a result, if we estimate loop time for those races by dividing the penalty times by the number of missed shots, our estimates will be higher than the actual loop times by 25-30%.)</p>
<p>In order to estimate the average range times and penalty loop times for a given race, we use</p>
<ol>
<li><a href = "#calculate_penalty_lines">```calculate_penalty_lines```</a>: This function uses bootstrap sampling to select a collection of missed prone shots and prone range time (and  missed standing shots and standing range time). It then uses linear regression on each sample  to estimate range time and penalty loop time for a given competition. The function returns a list containing the means and standard deviations of the estimates found for prone range time, prone penalty loop time, standing range time, and standing penalty loop time.</li>
</ol>
<p>We then loop through all of the World Cup races, applying <code>calculate_penalty_lines</code> to each, and store the results in the form of a dataframe with the following columns: Year, Event, prone range mean, prone range dev, prone loop mean, prone loop dev, standing range mean, standing range dev, standing loop mean, and standing loop dev. Finally, as above, we use add_course_data and add_weather_data to add information about course conditions for each event, and then use the values we found when quantifying the snow conditions and weather to add Quant Snow and Quant Weather values to our dataframe.</p>
<h4 id="Step-2:-Correlations-for-range-times"><a href="#range_corr">Step 2</a>: Correlations for range times<a class="anchor-link" href="#Step-2:-Correlations-for-range-times">&#182;</a></h4><p>In order to compare the effects of the various predictor variables on prone range times we loop through all quantitative predictors (including the quantified versions of the categorical variables), applying corr_and_change each time. The results are then stored in a dataframe. We repeat this to explore the effects of the various predictor variables on standing range times. Finally, we use the function collect_best_variables on each of the resulting dataframes to select which of the predictor variables seem to be most closely tied to prone range times and standing range times.</p>
<h4 id="Step-3:-Correlations-for-penalty-loop-times"><a href="#loop_corr">Step 3</a>: Correlations for penalty loop times<a class="anchor-link" href="#Step-3:-Correlations-for-penalty-loop-times">&#182;</a></h4><p>In order to compare the effects of the various predictor variables on prone penalty loop times we loop through all quantitative predictors (including the quantified versions of the categorical variables), applying corr_and_change each time. The results are then stored in a dataframe. We repeat this to explore the effects of the various predictor variables on standing penalty loop times. Finally, we use the function collect_best_variables on each of the resulting dataframes to select which of the predictor variables seem to be most closely tied to prone penalty loop times and standing penalty loop times.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "pen_times_to_seconds"></a></p>
<h4 id="Step-0-:-Calculate-prone-and-standing-range-+-penalty-times-in-seconds">Step 0 : Calculate prone and standing range + penalty times in seconds<a class="anchor-link" href="#Step-0-:-Calculate-prone-and-standing-range-+-penalty-times-in-seconds">&#182;</a></h4><p><a href="#ExploringRelationshipRange">Back to Effects of conditions on range and penalty times</a></p>
<p><a name = "rangetimes_to_seconds"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[101]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">rangetimes_to_seconds : takes a competition analysis dataframe and converts the range times</span>
<span class="sd">                        (for seasons through 1011) or the sum of the range and penalty times</span>
<span class="sd">                        (for seasons after 1112) into seconds</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a competition analysis dataframe</span>
<span class="sd">year : the season in which the competition was held</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : the original dataframe with range times given in seconds </span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">rangetimes_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;prone range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">])</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;standing range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;prone range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">])</span> <span class="o">+</span> 
                                                   <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;pen1&#39;</span><span class="p">]))</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;standing range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">])</span> <span class="o">+</span> 
                                                   <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;pen2&#39;</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[102]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding range times in seconds to each event dataframe</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CP09&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">,</span><span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;companal_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span>
                    <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">})</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">rangetimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">,</span><span class="n">season</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "ibu_rangetimes_to_seconds"></a>
<a href = "#ExploringRelationshipRange">Effects of conditions on range and penalty times</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[103]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">ibu_rangetimes_to_seconds : takes an ibu competition analysis dataframe and converts the</span>
<span class="sd">                            range times (for seasons through 1314) or the sum of the range</span>
<span class="sd">                            and penalty times (for seasons after 1415) into seconds</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">df : a competition analysis dataframe</span>
<span class="sd">year : the season in which the competition was held</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">df : the original dataframe with range times given in seconds </span>

<span class="sd">Example</span>
<span class="sd">-------</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">ibu_rangetimes_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;prone range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">])</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;standing range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;prone range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r1&#39;</span><span class="p">])</span> <span class="o">+</span> 
                                                   <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;pen1&#39;</span><span class="p">]))</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;standing range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;r2&#39;</span><span class="p">])</span> <span class="o">+</span> 
                                                      <span class="n">convert_to_seconds</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;pen2&#39;</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[104]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Adding range times in seconds to each event dataframe</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span><span class="s1">&#39;0506&#39;</span><span class="p">,</span><span class="s1">&#39;0607&#39;</span><span class="p">,</span><span class="s1">&#39;0708&#39;</span><span class="p">,</span><span class="s1">&#39;0809&#39;</span><span class="p">,</span><span class="s1">&#39;0910&#39;</span><span class="p">,</span><span class="s1">&#39;1011&#39;</span><span class="p">,</span><span class="s1">&#39;1112&#39;</span><span class="p">,</span><span class="s1">&#39;1213&#39;</span><span class="p">,</span><span class="s1">&#39;1314&#39;</span><span class="p">,</span><span class="s1">&#39;1415&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1516&#39;</span><span class="p">,</span><span class="s1">&#39;1617&#39;</span><span class="p">,</span><span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span><span class="s1">&#39;CP02&#39;</span><span class="p">,</span><span class="s1">&#39;CP03&#39;</span><span class="p">,</span><span class="s1">&#39;CP04&#39;</span><span class="p">,</span><span class="s1">&#39;CP05&#39;</span><span class="p">,</span><span class="s1">&#39;CP06&#39;</span><span class="p">,</span><span class="s1">&#39;CP07&#39;</span><span class="p">,</span><span class="s1">&#39;CP08&#39;</span><span class="p">,</span><span class="s1">&#39;CH__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">ibu_rangetimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">,</span><span class="n">season</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
        
        <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;ibu_SMSPS_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">}</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">race_data_new</span> <span class="o">=</span> <span class="n">ibu_rangetimes_to_seconds</span><span class="p">(</span><span class="n">race_data</span><span class="p">,</span><span class="n">season</span><span class="p">)</span>
            <span class="n">race_data_new</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># the race does not exist or does not have data</span>
            <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "range_data_collection"></a></p>
<h4 id="Step-1-:-Collect-the-data">Step 1 : Collect the data<a class="anchor-link" href="#Step-1-:-Collect-the-data">&#182;</a></h4><p><a name = "calculate_penalty_lines"></a>
<a href = "#ExploringRelationshipRange">Effects of conditions on range and penalty times</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[105]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Function</span>
<span class="sd">--------</span>

<span class="sd">calculate_penalty_lines : uses bootstrap sampling and linear regression to estimate range time</span>
<span class="sd">                            and penalty loop time for a given competition</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>

<span class="sd">season : the years of the biathlon season, in form y1y2 where y1 is the last 2 digits of the</span>
<span class="sd">        first year and y2 is the last two digits of the second year</span>
<span class="sd">event : a four character code specifying the event. Possibilities are “CP01”, “CP02”, . . .,</span>
<span class="sd">        “CP09”, “OG__”,”CH__”</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>

<span class="sd">penalty_data : a list containing the averages and standard deviations of the predicted</span>
<span class="sd">                range and loop times for prone and standing shooting for the given</span>
<span class="sd">                competition</span>

<span class="sd">Example</span>
<span class="sd">-------</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">calculate_penalty_lines</span><span class="p">(</span><span class="n">season</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
    
    <span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;companal_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span><span class="p">{</span><span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">}</span>
    
    <span class="n">race_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    
    <span class="n">bootstrap_data</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">linreg_prone</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
    <span class="n">linreg_stand</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span> <span class="c1"># because it&#39;s possible that somehow all of the racers in a sample will </span>
             <span class="c1">#have the same missed shots</span>
            <span class="n">bootstrap_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">race_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> 
                                                            <span class="nb">len</span><span class="p">(</span><span class="n">race_data</span><span class="p">))</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">race_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">bootstrap_sample</span><span class="p">]</span>
        
            <span class="n">linreg_prone</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;P1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> 
                                         <span class="n">df</span><span class="p">[</span><span class="s1">&#39;prone range&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">linreg_stand</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;S1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> 
                                         <span class="n">df</span><span class="p">[</span><span class="s1">&#39;standing range&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        
            <span class="n">fit_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">linreg_prone</span><span class="o">.</span><span class="n">intercept_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> 
                            <span class="n">linreg_prone</span><span class="o">.</span><span class="n">coef_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> 
                                <span class="n">linreg_stand</span><span class="o">.</span><span class="n">intercept_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                                    <span class="n">linreg_stand</span><span class="o">.</span><span class="n">coef_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

            <span class="n">bootstrap_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fit_data</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span> <span class="c1"># If all racers in the bootstrap sample missed the same number of shots</span>
            <span class="k">pass</span>
        
    <span class="n">bootstrap_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;prone range&#39;</span><span class="p">,</span><span class="s1">&#39;prone loop&#39;</span><span class="p">,</span>
                                                             <span class="s1">&#39;standing range&#39;</span><span class="p">,</span><span class="s1">&#39;standing loop&#39;</span><span class="p">])</span>
    <span class="n">penalty_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;prone range&#39;</span><span class="p">]),</span> 
                            <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;prone range&#39;</span><span class="p">]),</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;prone loop&#39;</span><span class="p">]),</span> 
                            <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;prone loop&#39;</span><span class="p">]),</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;standing range&#39;</span><span class="p">]),</span> 
                            <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;standing range&#39;</span><span class="p">]),</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;standing loop&#39;</span><span class="p">]),</span> 
                            <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">bootstrap_data</span><span class="p">[</span><span class="s1">&#39;standing loop&#39;</span><span class="p">])]</span>
    
    <span class="k">return</span> <span class="n">penalty_data</span>
                                            
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[106]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># Collecting the range and penalty data into a single dataframe</span>

<span class="n">penalties</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;0405&#39;</span><span class="p">,</span> <span class="s1">&#39;0506&#39;</span><span class="p">,</span> <span class="s1">&#39;0607&#39;</span><span class="p">,</span> <span class="s1">&#39;0708&#39;</span><span class="p">,</span> <span class="s1">&#39;0809&#39;</span><span class="p">,</span> <span class="s1">&#39;0910&#39;</span><span class="p">,</span> <span class="s1">&#39;1011&#39;</span><span class="p">,</span> <span class="s1">&#39;1112&#39;</span><span class="p">,</span> <span class="s1">&#39;1213&#39;</span><span class="p">,</span> <span class="s1">&#39;1314&#39;</span><span class="p">,</span>
           <span class="s1">&#39;1415&#39;</span><span class="p">,</span> <span class="s1">&#39;1516&#39;</span><span class="p">,</span> <span class="s1">&#39;1617&#39;</span><span class="p">,</span> <span class="s1">&#39;1718&#39;</span><span class="p">]</span>
<span class="n">events</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CP01&#39;</span><span class="p">,</span> <span class="s1">&#39;CP02&#39;</span><span class="p">,</span> <span class="s1">&#39;CP03&#39;</span><span class="p">,</span> <span class="s1">&#39;CP04&#39;</span><span class="p">,</span> <span class="s1">&#39;CP05&#39;</span><span class="p">,</span> <span class="s1">&#39;CP06&#39;</span><span class="p">,</span> <span class="s1">&#39;CP07&#39;</span><span class="p">,</span> <span class="s1">&#39;CP08&#39;</span><span class="p">,</span> <span class="s1">&#39;CP09&#39;</span><span class="p">,</span> 
          <span class="s1">&#39;CH__&#39;</span><span class="p">,</span> <span class="s1">&#39;OG__&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;companal_SMSP_</span><span class="si">%(season)s</span><span class="s1">_</span><span class="si">%(event)s</span><span class="s1">.pkl&#39;</span>
                        <span class="o">%</span><span class="p">{</span><span class="s1">&#39;event&#39;</span> <span class="p">:</span> <span class="n">event</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span> <span class="p">:</span> <span class="n">season</span><span class="p">})</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="n">penalty</span> <span class="o">=</span> <span class="p">[</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">]</span>
                <span class="n">penalty</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">calculate_penalty_lines</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">event</span><span class="p">))</span>
                <span class="n">penalties</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">penalty</span><span class="p">)</span>
            
        <span class="k">except</span><span class="p">:</span> <span class="c1"># there is no file for this race</span>
            <span class="k">pass</span>
            
<span class="n">penalty_info</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">penalties</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Event&#39;</span><span class="p">,</span> <span class="s1">&#39;prone range mean&#39;</span><span class="p">,</span> 
                                                  <span class="s1">&#39;prone range dev&#39;</span><span class="p">,</span> <span class="s1">&#39;prone loop mean&#39;</span><span class="p">,</span>
                                                  <span class="s1">&#39;prone loop dev&#39;</span><span class="p">,</span> <span class="s1">&#39;standing range mean&#39;</span><span class="p">,</span> 
                                                  <span class="s1">&#39;standing range dev&#39;</span><span class="p">,</span> <span class="s1">&#39;standing loop mean&#39;</span><span class="p">,</span>
                                                  <span class="s1">&#39;standing loop dev&#39;</span><span class="p">])</span>           
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now I want to add the weather and course information to this.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[107]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">penalty_info</span><span class="p">)):</span>
    <span class="n">penalty_info</span> <span class="o">=</span> <span class="n">add_course_data</span><span class="p">(</span><span class="n">penalty_info</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
    
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">penalty_info</span><span class="p">)):</span>
    <span class="n">penalty_info</span> <span class="o">=</span> <span class="n">add_weather_data</span><span class="p">(</span><span class="n">penalty_info</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[108]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">penalty_info</span><span class="p">)):</span>
    <span class="n">penalty_info</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Quant Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">weather_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Weather&#39;</span><span class="p">],</span>
                                                               <span class="s1">&#39;Weather Quant&#39;</span><span class="p">])</span>
    <span class="n">penalty_info</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">snow_averages</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Snow Cond&#39;</span><span class="p">],</span>
                                                          <span class="s1">&#39;Snow Quant&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[109]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="c1"># And, just in case there are some NaN values, let&#39;s get rid of them</span>

<span class="n">penalty_info</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span> <span class="o">=</span> <span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="s1">&#39;rows&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">penalty_info</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[110]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">penalty_info</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;penalty_info.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "range_corr"></a></p>
<h4 id="Step-2:-Correlations-for-range-times">Step 2: Correlations for range times<a class="anchor-link" href="#Step-2:-Correlations-for-range-times">&#182;</a></h4><p><a href="#ExploringRelationshipRange">Back to Effects of Conditions on range and penalty times</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[111]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_prone_range</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;prone range mean&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_prone_range</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_prone_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_prone_range</span><span class="p">,</span> 
                                      <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>

<span class="n">corr_and_changes_prone_range</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[111]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>prone range mean</td>
      <td>Length</td>
      <td>-0.028273</td>
      <td>0.000799</td>
      <td>0.027397</td>
    </tr>
    <tr>
      <th>1</th>
      <td>prone range mean</td>
      <td>Height Diff</td>
      <td>0.123728</td>
      <td>0.015309</td>
      <td>0.114583</td>
    </tr>
    <tr>
      <th>2</th>
      <td>prone range mean</td>
      <td>Max Climb</td>
      <td>0.030330</td>
      <td>0.000920</td>
      <td>0.033009</td>
    </tr>
    <tr>
      <th>3</th>
      <td>prone range mean</td>
      <td>Total Climb</td>
      <td>0.065217</td>
      <td>0.004253</td>
      <td>0.053919</td>
    </tr>
    <tr>
      <th>4</th>
      <td>prone range mean</td>
      <td>Snow Temp</td>
      <td>-0.246668</td>
      <td>0.060845</td>
      <td>0.312329</td>
    </tr>
    <tr>
      <th>5</th>
      <td>prone range mean</td>
      <td>Air Temp</td>
      <td>-0.232323</td>
      <td>0.053974</td>
      <td>0.289230</td>
    </tr>
    <tr>
      <th>6</th>
      <td>prone range mean</td>
      <td>Humidity</td>
      <td>0.096898</td>
      <td>0.009389</td>
      <td>0.082328</td>
    </tr>
    <tr>
      <th>7</th>
      <td>prone range mean</td>
      <td>Wind</td>
      <td>0.113187</td>
      <td>0.012811</td>
      <td>0.138119</td>
    </tr>
    <tr>
      <th>8</th>
      <td>prone range mean</td>
      <td>Altitude</td>
      <td>-0.005786</td>
      <td>0.000033</td>
      <td>0.004188</td>
    </tr>
    <tr>
      <th>9</th>
      <td>prone range mean</td>
      <td>Quant Year</td>
      <td>-0.239406</td>
      <td>0.057315</td>
      <td>0.164966</td>
    </tr>
    <tr>
      <th>10</th>
      <td>prone range mean</td>
      <td>Quant Event</td>
      <td>-0.228858</td>
      <td>0.052376</td>
      <td>0.157981</td>
    </tr>
    <tr>
      <th>11</th>
      <td>prone range mean</td>
      <td>Quant Weather</td>
      <td>-0.278661</td>
      <td>0.077652</td>
      <td>0.372549</td>
    </tr>
    <tr>
      <th>12</th>
      <td>prone range mean</td>
      <td>Quant Snow</td>
      <td>-0.220391</td>
      <td>0.048572</td>
      <td>0.293372</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[112]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_standing_range</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;standing range mean&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_standing_range</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_standing_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_standing_range</span><span class="p">,</span> 
                                      <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                  <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>

<span class="n">corr_and_changes_standing_range</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[112]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>standing range mean</td>
      <td>Length</td>
      <td>-0.018747</td>
      <td>0.000351</td>
      <td>0.015428</td>
    </tr>
    <tr>
      <th>1</th>
      <td>standing range mean</td>
      <td>Height Diff</td>
      <td>0.074434</td>
      <td>0.005540</td>
      <td>0.058545</td>
    </tr>
    <tr>
      <th>2</th>
      <td>standing range mean</td>
      <td>Max Climb</td>
      <td>-0.004905</td>
      <td>0.000024</td>
      <td>0.004534</td>
    </tr>
    <tr>
      <th>3</th>
      <td>standing range mean</td>
      <td>Total Climb</td>
      <td>0.065230</td>
      <td>0.004255</td>
      <td>0.045803</td>
    </tr>
    <tr>
      <th>4</th>
      <td>standing range mean</td>
      <td>Snow Temp</td>
      <td>-0.257711</td>
      <td>0.066415</td>
      <td>0.277140</td>
    </tr>
    <tr>
      <th>5</th>
      <td>standing range mean</td>
      <td>Air Temp</td>
      <td>-0.207546</td>
      <td>0.043075</td>
      <td>0.219449</td>
    </tr>
    <tr>
      <th>6</th>
      <td>standing range mean</td>
      <td>Humidity</td>
      <td>0.143971</td>
      <td>0.020728</td>
      <td>0.103890</td>
    </tr>
    <tr>
      <th>7</th>
      <td>standing range mean</td>
      <td>Wind</td>
      <td>0.130585</td>
      <td>0.017052</td>
      <td>0.135336</td>
    </tr>
    <tr>
      <th>8</th>
      <td>standing range mean</td>
      <td>Altitude</td>
      <td>0.096176</td>
      <td>0.009250</td>
      <td>0.059120</td>
    </tr>
    <tr>
      <th>9</th>
      <td>standing range mean</td>
      <td>Quant Year</td>
      <td>-0.194929</td>
      <td>0.037997</td>
      <td>0.114078</td>
    </tr>
    <tr>
      <th>10</th>
      <td>standing range mean</td>
      <td>Quant Event</td>
      <td>-0.286692</td>
      <td>0.082192</td>
      <td>0.168081</td>
    </tr>
    <tr>
      <th>11</th>
      <td>standing range mean</td>
      <td>Quant Weather</td>
      <td>-0.420419</td>
      <td>0.176752</td>
      <td>0.477372</td>
    </tr>
    <tr>
      <th>12</th>
      <td>standing range mean</td>
      <td>Quant Snow</td>
      <td>-0.282148</td>
      <td>0.079607</td>
      <td>0.318984</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[113]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_prone_range</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_prone_range</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[114]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_standing_range</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_standing_range</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "loop_corr"></a></p>
<h4 id="Step-2:-Correlations-for-penalty-loop-times">Step 2: Correlations for penalty loop times<a class="anchor-link" href="#Step-2:-Correlations-for-penalty-loop-times">&#182;</a></h4><p><a href="#ExploringRelationshipRange">Back to Effects of Conditions on range and penalty times</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_prone_loop</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;prone loop mean&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_prone_loop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_prone_loop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_prone_loop</span><span class="p">,</span> 
                                           <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                 <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>

<span class="n">corr_and_changes_prone_loop</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>prone loop mean</td>
      <td>Length</td>
      <td>-0.004694</td>
      <td>0.000022</td>
      <td>0.004107</td>
    </tr>
    <tr>
      <th>1</th>
      <td>prone loop mean</td>
      <td>Height Diff</td>
      <td>0.043059</td>
      <td>0.001854</td>
      <td>0.036008</td>
    </tr>
    <tr>
      <th>2</th>
      <td>prone loop mean</td>
      <td>Max Climb</td>
      <td>0.069018</td>
      <td>0.004763</td>
      <td>0.067828</td>
    </tr>
    <tr>
      <th>3</th>
      <td>prone loop mean</td>
      <td>Total Climb</td>
      <td>0.101540</td>
      <td>0.010310</td>
      <td>0.075805</td>
    </tr>
    <tr>
      <th>4</th>
      <td>prone loop mean</td>
      <td>Snow Temp</td>
      <td>-0.103892</td>
      <td>0.010794</td>
      <td>0.118784</td>
    </tr>
    <tr>
      <th>5</th>
      <td>prone loop mean</td>
      <td>Air Temp</td>
      <td>-0.067470</td>
      <td>0.004552</td>
      <td>0.075847</td>
    </tr>
    <tr>
      <th>6</th>
      <td>prone loop mean</td>
      <td>Humidity</td>
      <td>0.114134</td>
      <td>0.013027</td>
      <td>0.087564</td>
    </tr>
    <tr>
      <th>7</th>
      <td>prone loop mean</td>
      <td>Wind</td>
      <td>0.180649</td>
      <td>0.032634</td>
      <td>0.199051</td>
    </tr>
    <tr>
      <th>8</th>
      <td>prone loop mean</td>
      <td>Altitude</td>
      <td>0.078575</td>
      <td>0.006174</td>
      <td>0.051352</td>
    </tr>
    <tr>
      <th>9</th>
      <td>prone loop mean</td>
      <td>Quant Year</td>
      <td>-0.171745</td>
      <td>0.029496</td>
      <td>0.106861</td>
    </tr>
    <tr>
      <th>10</th>
      <td>prone loop mean</td>
      <td>Quant Event</td>
      <td>-0.193010</td>
      <td>0.037253</td>
      <td>0.120307</td>
    </tr>
    <tr>
      <th>11</th>
      <td>prone loop mean</td>
      <td>Quant Weather</td>
      <td>-0.359824</td>
      <td>0.129473</td>
      <td>0.434383</td>
    </tr>
    <tr>
      <th>12</th>
      <td>prone loop mean</td>
      <td>Quant Snow</td>
      <td>-0.299457</td>
      <td>0.089675</td>
      <td>0.359945</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[116]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">corr_and_changes_standing_loop</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">x_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Length&#39;</span><span class="p">,</span> <span class="s1">&#39;Height Diff&#39;</span><span class="p">,</span> <span class="s1">&#39;Max Climb&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Climb&#39;</span><span class="p">,</span>  <span class="s1">&#39;Snow Temp&#39;</span><span class="p">,</span> <span class="s1">&#39;Air Temp&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Humidity&#39;</span><span class="p">,</span> <span class="s1">&#39;Wind&#39;</span><span class="p">,</span> <span class="s1">&#39;Altitude&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Year&#39;</span><span class="p">,</span><span class="s1">&#39;Quant Event&#39;</span><span class="p">,</span> <span class="s1">&#39;Quant Weather&#39;</span><span class="p">,</span> 
            <span class="s1">&#39;Quant Snow&#39;</span><span class="p">]</span>

<span class="n">y_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;standing loop mean&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_values</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_values</span><span class="p">:</span>
        <span class="n">row_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">]</span>
        <span class="n">row_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">corr_and_change</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">penalty_info</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">96</span><span class="p">]))</span>
        <span class="n">corr_and_changes_standing_loop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span>
        
<span class="n">corr_and_changes_standing_loop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">corr_and_changes_standing_loop</span><span class="p">,</span> 
                                           <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Response&#39;</span><span class="p">,</span><span class="s1">&#39;Predictor&#39;</span><span class="p">,</span><span class="s1">&#39;Correlation&#39;</span><span class="p">,</span>
                                                  <span class="s1">&#39;Determination&#39;</span><span class="p">,</span><span class="s1">&#39;Percent Change Predicted&#39;</span><span class="p">])</span>

<span class="n">corr_and_changes_standing_loop</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[116]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Response</th>
      <th>Predictor</th>
      <th>Correlation</th>
      <th>Determination</th>
      <th>Percent Change Predicted</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>standing loop mean</td>
      <td>Length</td>
      <td>-0.012883</td>
      <td>0.000166</td>
      <td>0.008422</td>
    </tr>
    <tr>
      <th>1</th>
      <td>standing loop mean</td>
      <td>Height Diff</td>
      <td>0.097568</td>
      <td>0.009519</td>
      <td>0.060958</td>
    </tr>
    <tr>
      <th>2</th>
      <td>standing loop mean</td>
      <td>Max Climb</td>
      <td>0.213295</td>
      <td>0.045495</td>
      <td>0.156611</td>
    </tr>
    <tr>
      <th>3</th>
      <td>standing loop mean</td>
      <td>Total Climb</td>
      <td>0.099593</td>
      <td>0.009919</td>
      <td>0.055550</td>
    </tr>
    <tr>
      <th>4</th>
      <td>standing loop mean</td>
      <td>Snow Temp</td>
      <td>-0.006103</td>
      <td>0.000037</td>
      <td>0.005213</td>
    </tr>
    <tr>
      <th>5</th>
      <td>standing loop mean</td>
      <td>Air Temp</td>
      <td>-0.021165</td>
      <td>0.000448</td>
      <td>0.017776</td>
    </tr>
    <tr>
      <th>6</th>
      <td>standing loop mean</td>
      <td>Humidity</td>
      <td>0.128615</td>
      <td>0.016542</td>
      <td>0.073722</td>
    </tr>
    <tr>
      <th>7</th>
      <td>standing loop mean</td>
      <td>Wind</td>
      <td>0.159715</td>
      <td>0.025509</td>
      <td>0.131483</td>
    </tr>
    <tr>
      <th>8</th>
      <td>standing loop mean</td>
      <td>Altitude</td>
      <td>0.143037</td>
      <td>0.020460</td>
      <td>0.069842</td>
    </tr>
    <tr>
      <th>9</th>
      <td>standing loop mean</td>
      <td>Quant Year</td>
      <td>-0.059052</td>
      <td>0.003487</td>
      <td>0.027451</td>
    </tr>
    <tr>
      <th>10</th>
      <td>standing loop mean</td>
      <td>Quant Event</td>
      <td>-0.098729</td>
      <td>0.009748</td>
      <td>0.045978</td>
    </tr>
    <tr>
      <th>11</th>
      <td>standing loop mean</td>
      <td>Quant Weather</td>
      <td>-0.287663</td>
      <td>0.082750</td>
      <td>0.259454</td>
    </tr>
    <tr>
      <th>12</th>
      <td>standing loop mean</td>
      <td>Quant Snow</td>
      <td>-0.279078</td>
      <td>0.077885</td>
      <td>0.250623</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[117]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_prone_loop</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_prone_loop</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[118]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables_standing_loop</span> <span class="o">=</span> <span class="n">collect_best_variables</span><span class="p">(</span><span class="n">corr_and_changes_standing_loop</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="EvaluatingRangeImpacts"></a></p>
<h1 id="Evaluating-Impacts-on-Range-Times">Evaluating Impacts on Range Times<a class="anchor-link" href="#Evaluating-Impacts-on-Range-Times">&#182;</a></h1><p>Beginning with the impacts of our predictor variables on prone range times, we find that the variables with the greatest impact are
<!--, which has an $r$ value of 0.499915 and which explains roughly 59% of the total change in prone accuracy,--></p>
<ul>
<li>Quant Weather, which has an $r$ value of -0.278661 and which explains roughly 37% of the total change in prone range times,</li>
<li>Snow Temp, which has an $r$ value of -0.246668 and which explains roughly 31% of the total change in prone range times,</li>
<li>Quant Year, which has an $r$ value of -0.239406 and which explains roughly 16% of the total change in prone range times,</li>
<li>Air Temp, which has an $r$ value of -0.232323 and which explains roughly 29% of the total change in prone range times,</li>
<li>Quant Event, which has an $r$ value of -0.228858 and which explains roughly 16% of the total change in prone range times, and</li>
<li>Quant Snow, which has an $r$ value of -0.220391 and which explains roughly 29% of the total change in prone range times.</li>
</ul>
<p>In considering the impacts of our predictor variables on standing range times, we find that the variables with the greatest impact are</p>
<ul>
<li>Quant Weather, which has an $r$ value of -0.420419 and which explains roughly 47% of the total change in standing range times,</li>
<li>Quant Snow, which has an $r$ value of -0.282148 and which explains roughly 32% of the total change in standing range times, and</li>
<li>Snow Temp, which has an $r$ value of -0.257711 and which explains roughly 28% of the total change in standing range times.</li>
</ul>
<p>One observation here is that, despite the fact that range times were not considered in any way when assigning numeric values to the different values taken by Weather and Snow Conditions, Quant Weather and Quant Snow remain variables that are highly (relatively speaking) correlated with both prone and standing range times.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id="EvaluatingPenaltyImpacts"></a></p>
<h1 id="Evaluating-Impacts-on-Penalty-Loop-Times">Evaluating Impacts on Penalty Loop Times<a class="anchor-link" href="#Evaluating-Impacts-on-Penalty-Loop-Times">&#182;</a></h1><p>Beginning with the impacts of our predictor variables on prone penalty loop times, we find that the variables with the greatest impact are
<!--, which has an $r$ value of 0.499915 and which explains roughly 59% of the total change in prone accuracy,--></p>
<ul>
<li>Quant Weather, which has an $r$ value of -0.359824 and which explains roughly 43% of the total change in prone loop times, and</li>
<li>Quant Snow, which has an $r$ value of -0.299457 and which explains roughly 36% of the total change in prone loop times.</li>
</ul>
<p>In considering the impacts of our predictor variables on standing range times, we find that the variables with the greatest impact are</p>
<ul>
<li>Quant Weather, which has an $r$ value of -0.287663 and which explains roughly 26% of the total change in standing loop times</li>
<li>Quant Snow, which has an $r$ value of -0.279078 and which explains roughly 25% of the total change in standing loop times</li>
<li>Max Climb, which has an $r$ value of 0.213295 and which explains roughly 16% of the total change in standing loop times</li>
<li>Wind, which has an $r$ value of 0.159715 and which explains roughly 13% of the total change in standing loop times</li>
</ul>
<p>One observation here is that, despite the fact that penalty loop times were not considered in any way when assigning numeric values to the different values taken by Weather and Snow Conditions, Quant Weather and Quant Snow remain variables that are highly (relatively speaking) correlated with both prone and standing penalty loop times.</p>
<p><a href="#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a name = "handing_off"></a></p>
<h1 id="Handing-off-to-the-next-notebook">Handing off to the next notebook<a class="anchor-link" href="#Handing-off-to-the-next-notebook">&#182;</a></h1><p>In order to prevent individual notebooks from becoming too unwieldy, I'm choosing to split this project over multiple notebooks. At this point, I have completed the following tasks:</p>
<ol>
<li>Read in the competition analysis files for all World Cup and IBU Cup men's sprint races from 2004-05 to 2017-18, parsed their contents, and stored the desired data in dataframes.</li>
<li>Read in the competition data summary files for all World Cup and IBU Cup men's sprint races over the same period, parsed their contents, and stored the desired data in dataframes.</li>
<li>Investigated the impact of each of the recorded conditions (length, wind, snow temperature, etc) on the various aspects of the race (speed, accuracy, range times, penalty loop times) and isolated the variables that seemed to have the most individual impact on each aspect.</li>
</ol>
<p>In the next notebook, I intend to use build models for each aspect, which will use results of previous races to predict performance in the race of interest. In each case, I will use the similarity between conditions in races to weight the importance of each previous race for predicting the outcome of the current race. Furthermore, since it appears from the results found in this notebook that some condition variables are far more important than others for making these predictions, I'm going to isolate individual variables when considering these weightings. In other words, I'm going to test my model with a weighting that is based entirely on how similar the course lengths are, then test it with a weighting based entirely on altitude, and so on until I've used each individual predictor variable as a basis for a weighting. I'm then going to determine which of the variables did the best job of predicting outcomes, and save those for future use.</p>
<p>The last thing that I need to do before finishing up this notebook is to collect all of my best variables in a dictionary and then to pickle them so that they will available for use in the following and subsequent notebooks.</p>
<p><a href = "#TOC">Table of Contents</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[120]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;speed&#39;</span> <span class="p">:</span> <span class="n">best_variables_speed</span><span class="p">,</span> <span class="s1">&#39;prone_acc&#39;</span> <span class="p">:</span> <span class="n">best_variables_prone_accuracy</span><span class="p">,</span>
                  <span class="s1">&#39;standing_acc&#39;</span> <span class="p">:</span> <span class="n">best_variables_standing_accuracy</span><span class="p">,</span> 
                  <span class="s1">&#39;prone_range&#39;</span> <span class="p">:</span> <span class="n">best_variables_prone_range</span><span class="p">,</span>
                  <span class="s1">&#39;standing_range&#39;</span> <span class="p">:</span> <span class="n">best_variables_standing_range</span><span class="p">,</span>
                  <span class="s1">&#39;prone_loop&#39;</span> <span class="p">:</span> <span class="n">best_variables_prone_loop</span><span class="p">,</span>
                  <span class="s1">&#39;standing_loop&#39;</span> <span class="p">:</span> <span class="n">best_variables_standing_loop</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;best_variables.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">best_variables</span><span class="p">,</span> <span class="n">handle</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>

<span class="c1">#with open(&#39;best_variables.pickle&#39;, &#39;rb&#39;) as handle:</span>
<span class="c1">#    b = pickle.load(handle)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[122]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span><span class="n">best_variables</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[122]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{&#39;prone_acc&#39;: [&#39;Quant Weather&#39;],
 &#39;prone_loop&#39;: [&#39;Quant Weather&#39;, &#39;Quant Snow&#39;],
 &#39;prone_range&#39;: [&#39;Snow Temp&#39;,
  &#39;Quant Snow&#39;,
  &#39;Air Temp&#39;,
  &#39;Quant Event&#39;,
  &#39;Quant Year&#39;,
  &#39;Quant Weather&#39;],
 &#39;speed&#39;: [&#39;Quant Snow&#39;, &#39;Quant Weather&#39;],
 &#39;standing_acc&#39;: [&#39;Quant Weather&#39;, &#39;Wind&#39;],
 &#39;standing_loop&#39;: [&#39;Quant Weather&#39;, &#39;Quant Snow&#39;, &#39;Max Climb&#39;, &#39;Wind&#39;],
 &#39;standing_range&#39;: [&#39;Quant Weather&#39;, &#39;Quant Snow&#39;, &#39;Snow Temp&#39;]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    </div>
  </div>
</body>

 


</html>
